<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.34">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Les mesures du risque de divulgation – La protection des données statistiques publiques</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-c8ad9e5dbd60b7b70b38521ab19b7da4.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-befe23ebd2f54d8af2c8a89d1a1611f1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-c8ad9e5dbd60b7b70b38521ab19b7da4.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-4ba07a838d43fa514dabdd816829cabf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-727a3663b731c859789b550fe09abd47.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-4ba07a838d43fa514dabdd816829cabf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">La protection des données statistiques publiques</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../theorie/index.html"> 
<span class="menu-text">Un peu de théorie</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pratique/index.html"> 
<span class="menu-text">En pratique</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">À propos</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#les-packages" id="toc-les-packages" class="nav-link active" data-scroll-target="#les-packages">Les packages</a>
  <ul class="collapse">
  <li><a href="#les-données" id="toc-les-données" class="nav-link" data-scroll-target="#les-données">Les données</a></li>
  <li><a href="#les-différents-types-de-variables" id="toc-les-différents-types-de-variables" class="nav-link" data-scroll-target="#les-différents-types-de-variables">Les différents types de variables</a></li>
  <li><a href="#le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants" id="toc-le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants" class="nav-link" data-scroll-target="#le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants">Le risque de ré-identification et le rôle des quasi-identifiants</a>
  <ul class="collapse">
  <li><a href="#un-premier-exemple" id="toc-un-premier-exemple" class="nav-link" data-scroll-target="#un-premier-exemple">Un premier exemple</a></li>
  <li><a href="#le-choix-des-variables-quasi-identifiantes" id="toc-le-choix-des-variables-quasi-identifiantes" class="nav-link" data-scroll-target="#le-choix-des-variables-quasi-identifiantes">Le choix des variables quasi-identifiantes</a></li>
  <li><a href="#avec-le-package-sdcmicro" id="toc-avec-le-package-sdcmicro" class="nav-link" data-scroll-target="#avec-le-package-sdcmicro">Avec le package <code>sdcMicro</code></a></li>
  </ul></li>
  <li><a href="#le-risque-de-divulgation-dattributs-sensibles" id="toc-le-risque-de-divulgation-dattributs-sensibles" class="nav-link" data-scroll-target="#le-risque-de-divulgation-dattributs-sensibles">Le risque de divulgation d’attributs sensibles</a></li>
  <li><a href="#les-mesures-du-risque-individuel" id="toc-les-mesures-du-risque-individuel" class="nav-link" data-scroll-target="#les-mesures-du-risque-individuel">Les mesures du risque individuel</a></li>
  <li><a href="#exercice-pratique" id="toc-exercice-pratique" class="nav-link" data-scroll-target="#exercice-pratique">Exercice pratique</a>
  <ul class="collapse">
  <li><a href="#exercice" id="toc-exercice" class="nav-link" data-scroll-target="#exercice">Exercice</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Les mesures du risque de divulgation</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="les-packages" class="level1 page-columns page-full">
<h1>Les packages</h1>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sdcMicro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="les-données" class="level2">
<h2 class="anchored" data-anchor-id="les-données">Les données</h2>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/fun_risque.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/fun_import_data.R"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>lfs_2023 <span class="ot">&lt;-</span> <span class="fu">import_lfs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID
   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;
1:     28     76    761      1    53     50      1      4     30      99  3558
2:     28     76    761      2    43     25      1      7     52      99  3558
3:     28     76    761      2    17     15      3      5     99      99  3558
4:     28     76    761      1    17     15      3      4     99      99  3558
5:     11     92    922      1    42     25      1      7     62      99  5973
6:     11     92    922      2    54     50      1      7     62      99  5973
   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM
      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;
1:         4     53      4     30       0
2:         4     53      4     30       0
3:         4     53      4     30       0
4:         4     53      4     30       0
5:         2     54      7     62       0
6:         2     54      7     62       0</code></pre>
</div>
</div>
</section>
<section id="les-différents-types-de-variables" class="level2">
<h2 class="anchored" data-anchor-id="les-différents-types-de-variables">Les différents types de variables</h2>
<p>Dans un jeu de données, on distingue trois grands types de variables:</p>
<ul>
<li>les <em>quasi-identifiants</em>: un ensemble de variables dont on suppose qu’un attaquant est susceptible de les avoir déjà à sa disposition.</li>
<li>les <em>variables sensibles</em>: les variables portant sur des thématiques sensibles au sens de la Loi Informatique et Libertés (religion, opinion, orientation sexuelle, etc.), mais on peut aussi y inclure des variables dont la connaissance est susceptible de porter préjudice à la personne (par exemple le salaire, le fait d’avoir une maladie, le fait d’être au chômage, etc.).</li>
<li>les <em>variables ni identifiantes ni sensibles</em>: celles qui a priori ne posent pas de problème spécifique en terme de confidentialité.</li>
</ul>
</section>
<section id="le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants" class="level2">
<h2 class="anchored" data-anchor-id="le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants">Le risque de ré-identification et le rôle des quasi-identifiants</h2>
<p>Ainsi, le premier type de variables engendre un risque de divulgation d’information confidentielle par la possibilité pour l’attaquant de ré-identifier des individus. En effet, si un ataquant dispose d’un fichier nomminatif - un fichier client par exemple - contenant des variables communes avec le jeu de données qu’on s’apprête à publier, il est alors en mesure d’apparier les deux et être en capacité de ré-identifier des individus si ceux-ci se trouvent avoir des caractéristiques peu fréquentes.</p>
<section id="un-premier-exemple" class="level3">
<h3 class="anchored" data-anchor-id="un-premier-exemple">Un premier exemple</h3>
<p>Prenons une liste très restreinte de quasi-identifiants: la géographie de résidence, le sexe et l’âge de l’individu. Ces informations sont disponibles par de nombreuses entreprises auprès desquelles nous souscrivons des services (banque, assurance, téléphonie, etc.).</p>
<p>En dénombrant les individus de chaque croisement entre les variables quasi-identifiantes, on peut détecter :</p>
<ul>
<li>le <strong>niveau d’anonymité du fichier</strong> au sens du <strong>k-anonymat</strong>: ici notre fichier est 1-anonyme puisqu’il contient de nombreux individus uniques dans leur catégorie.</li>
<li>la détection des croisements et des <strong>individus les plus à risque</strong>: &gt; Moins il y a d’individus dans un groupe, plus la probabilité de ré-identification par l’attaquant est forte. Dans le cas d’un groupe unique, la ré-identification est même certaine.</li>
</ul>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>qi_vars_I <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>,<span class="st">"DEP"</span>,<span class="st">"ARR"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="ot">&lt;-</span> lfs_2023 <span class="sc">|&gt;</span> <span class="fu">count</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(qi_vars_I))) </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      REG    DEP    ARR   SEXE   AGE     n
   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;
1:     11     75    751      2    97     1
2:     11     75    751      2   102     1
3:     11     75    751      2   103     1
4:     11     75    751      2   116     1
5:     11     77    771      1    15     1
6:     11     77    771      1    18     1</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      REG    DEP    ARR   SEXE   AGE     n
   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;
1:     11     75    751      2    52    43
2:     11     75    751      1    51    39
3:     11     75    751      1    21    36
4:     11     75    751      2    60    36
5:     11     75    751      2    61    36
6:     11     75    751      1    55    35</code></pre>
</div>
</div>
<p>Ainsi, si une entreprise de notre contrée imaginaire dispose d’un fichier sur tout ou partie de la population en âge de travailler (par exemple un opérateur téléphonique), il pourra ré-identifier sans peine les individus uniques du jeu de données qui seraient présents dans son fchier.</p>
<p>La <strong>capacité d’un attaquant à pouvoir ré-identifier un individu</strong> dépend du nombre d’individus du jeu de données qui partagent les mêmes caractéristiques sur les variables quasi-identifiantes.</p>
<p>Par exemple, si Thérèse est une femme de 97 ans résidant dans l’arrondissement <code>751</code>, alors le jeu de données permet de la ré-identifier de façon certaine, puisqu’elle serait la seule dans ce cas.</p>
<p>Au contraire, si Thérèse est une femme de 52 ans résidant dans le même arrondissement, alors la probabilité de la ré-identifier dans le jeu de données avec ces seules informations serait de 1 chance sur 43.</p>
<!-- ```{r} -->
<!-- freq_qi_vars <- freq_qi_vars |> -->
<!--   mutate(p = 1/n) |> -->
<!--   mutate(p_cl = cut(p, breaks = c(0,0.1,0.25,0.34,0.5,1))) -->
<!-- ``` -->
<!-- ```{r} -->
<!-- #| code-fold: true -->
<!-- ggplot(freq_qi_vars) + -->
<!--   geom_bar(aes(x=p_cl), fill = "forestgreen", alpha = 0.6, color = "snow") + -->
<!--   labs(x="Probabilité d'être ré-identifié", y="Nb d'individus") + -->
<!--   ggtitle("Probabilité de ré-identification des individus") + -->
<!--   theme_minimal() -->
<!-- ``` -->
</section>
<section id="le-choix-des-variables-quasi-identifiantes" class="level3">
<h3 class="anchored" data-anchor-id="le-choix-des-variables-quasi-identifiantes">Le choix des variables quasi-identifiantes</h3>
<p>Choisir les variables quasi-identifiantes est un exercice difficile puisqu’en général, nous n’avons pas une idée exacte des données à la disposition des attaquants potentiels. Il faut donc définir un scénario théorique suffisamment réaliste pour s’assurer de <strong>protéger</strong> les données individuelles des risques de ré-identification les plus importants.</p>
<p>En choisissant le premier jeu de variables quasi-identifiantes (géographie, sexe et âge), on considère le jeu minimal de quasi-idenfiants. L’extrême inverse consisterait à considérer toutes les variable comme des quasi-identifiants. Dans le premier cas, on définit un scénario minimaliste, dans le second le scénario est maximaliste.</p>
<p>Dans notre jeu de données fictif sur l’emploi et le chômage, on pourrait définir</p>
<ul>
<li>un scénario minimaliste: l’attaquant ne dispose que de la géographie, du sexe et de l’âge de ses clients</li>
<li>un scénario intermédiaire: l’attaquant dispose en plus d’informations sur son niveau de diplôme</li>
<li>un scénario maximaliste: l’attaquant dispose en réalité de toutes les informations sur les individus sauf de son ancienneté au chômage.</li>
</ul>
<p>Selon ces trois scénarios, le niveau de risque de ré-identifcation des individus ne sera pas le même</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>qi_vars_II <span class="ot">&lt;-</span> <span class="fu">c</span>(qi_vars_I, <span class="st">"DIP7"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>qi_vars_III <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">names</span>(lfs_2023)[<span class="sc">!</span><span class="fu">names</span>(lfs_2023) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ANCCHOM"</span>)])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>risques_reident <span class="ot">&lt;-</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"I"</span> <span class="ot">=</span> qi_vars_I, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>       <span class="st">"II"</span> <span class="ot">=</span> qi_vars_II,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>       <span class="st">"III"</span> <span class="ot">=</span> qi_vars_III) <span class="sc">|&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">comparer_risque_reidentification</span>(<span class="at">data =</span> lfs_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: tidyr</code></pre>
</div>
</div>
<div class="cell" data-cold-fold="true">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(risques_reident<span class="sc">$</span>r_graph <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span>p_cl, <span class="at">x =</span> scenario, <span class="at">y =</span> n), </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">color =</span> <span class="st">"grey25"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="st">"Probabilité"</span>, <span class="at">type =</span> <span class="st">"seq"</span>, <span class="at">palette =</span> <span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Scénario"</span>, <span class="at">y=</span><span class="st">"Nb d'individus"</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Probabilité de ré-identification des individus selon le scénario"</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>risques_reident<span class="sc">$</span>r_stats <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Risque de ré-identification des individus en fonction du scénario"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">3</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Risque de ré-identification des individus en fonction du scénario</caption>
<thead>
<tr class="header">
<th style="text-align: left;">scenario</th>
<th style="text-align: right;">p_moy</th>
<th style="text-align: right;">p_d1</th>
<th style="text-align: right;">p_med</th>
<th style="text-align: right;">p_d9</th>
<th style="text-align: right;">part_uniques</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">I</td>
<td style="text-align: right;">0.508</td>
<td style="text-align: right;">0.125</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8.090</td>
</tr>
<tr class="even">
<td style="text-align: left;">II</td>
<td style="text-align: right;">0.802</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">41.641</td>
</tr>
<tr class="odd">
<td style="text-align: left;">III</td>
<td style="text-align: right;">0.977</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">91.102</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Des variables très efficaces pour la ré-identification
</div>
</div>
<div class="callout-body-container callout-body">
<p>Certaines variables ont un pouvoir de ré-identification très fort, en particulier :</p>
<ul>
<li><p>la <strong>géographie</strong> (de résidence, de travail, d’implantation): plus elle est précise plus la ré-identification est aisée, d’autant plus que l’adresse est souvent par ailleurs une donnée très largement partagée par les individus et les entreprises.</p></li>
<li><p>l’<strong>âge</strong> est également très ré-identifiant puisqu’il est à la fois public avec la disponibilité de l’état-civil et concerne, pour certains âges avancés, peu d’individus. Ainsi, si la personne la plus âgée résidant en France est dans notre fichier, nous avons toutes les chances de la ré-identifier de façon certaine en ne connaissant que son âge.</p></li>
</ul>
<p>Pour réduire le risque de ré-identification, il est souvent très efficace de choisir de diffuser des variables d’âge et de géographie agrégées.</p>
<p>Comparons, par exemple, trois scénarios alternatifs au <code>scénario II</code> présenté ci-dessus:</p>
<ul>
<li><strong>scénario II-a</strong>: le lieu de résidence n’est plus diffusé à l’arrondisement mais au département.</li>
<li><strong>scénario II-b</strong>: l’âge détaillé est remplacé par 5 tranches d’âges.</li>
<li><strong>scénario II-c</strong>: combinaison des deux scénarios ci-dessus.</li>
</ul>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>qi_vars_IIa <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>qi_vars_IIb <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"ARR"</span>, <span class="st">"SEXE"</span>,  <span class="st">"AGE6"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>qi_vars_IIc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE6"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>risques_reident2 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"II"</span> <span class="ot">=</span> qi_vars_II, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIa"</span> <span class="ot">=</span> qi_vars_IIa, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIb"</span> <span class="ot">=</span> qi_vars_IIb, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIc"</span> <span class="ot">=</span> qi_vars_IIc) <span class="sc">|&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">comparer_risque_reidentification</span>(<span class="at">data =</span> lfs_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>risques_reident2<span class="sc">$</span>r_stats <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Risque de ré-identification des individus en fonction du scénario"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">3</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Risque de ré-identification des individus en fonction du scénario</caption>
<thead>
<tr class="header">
<th style="text-align: left;">scenario</th>
<th style="text-align: right;">p_moy</th>
<th style="text-align: right;">p_d1</th>
<th style="text-align: right;">p_med</th>
<th style="text-align: right;">p_d9</th>
<th style="text-align: right;">part_uniques</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">II</td>
<td style="text-align: right;">0.802</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">41.641</td>
</tr>
<tr class="even">
<td style="text-align: left;">IIa</td>
<td style="text-align: right;">0.650</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">19.637</td>
</tr>
<tr class="odd">
<td style="text-align: left;">IIb</td>
<td style="text-align: right;">0.275</td>
<td style="text-align: right;">0.042</td>
<td style="text-align: right;">0.167</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.022</td>
</tr>
<tr class="even">
<td style="text-align: left;">IIc</td>
<td style="text-align: right;">0.168</td>
<td style="text-align: right;">0.016</td>
<td style="text-align: right;">0.074</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">0.226</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-cold-fold="true">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(risques_reident2<span class="sc">$</span>r_graph <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span>p_cl, <span class="at">x =</span> scenario, <span class="at">y =</span> n), </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">color =</span> <span class="st">"grey25"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="st">"Probabilité"</span>, <span class="at">type =</span> <span class="st">"seq"</span>, <span class="at">palette =</span> <span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Scénario"</span>, <span class="at">y=</span><span class="st">"Nb d'individus"</span>) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Probabilité de ré-identification des individus selon le scénario"</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>En réduisant le détail géographique, on a ici divisé par deux la part des uniques. Mais en passant à 6 tranches d’âges, celle-ci est divisée par 20!</p>
<p>Ainsi, les traitements les plus simples (recoder une variable) sont parfois les plus efficaces pour réduire massivement les risques individuels, même si cela ne les annihile pas tous.</p>
</div>
</div>
</section>
<section id="avec-le-package-sdcmicro" class="level3">
<h3 class="anchored" data-anchor-id="avec-le-package-sdcmicro">Avec le package <code>sdcMicro</code></h3>
<p>Le package <code>sdcMicro</code> permet de mesurer les risques de ré-identification et le niveau d’anonymité d’un jeu de données individuelles assez simplement.</p>
<p>Dans un premier temps, on initialise un objet de la classe <code>sdcMicroObj</code> en mentionnant uniquement le jeu de données et les variables considérées comme quasi-identfiantes.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  lfs_2023,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_vars_IIc</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>La fonction crée un objet dans une classe <code>S4</code>. Les différents attributs de l’objet (on dit des <code>slots</code>) sont donc accessibles avec le symbole <code>@</code>.</p>
<p>Les attributs disponibles pour un tel objet sont les suivants:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slotNames</span>(lfs_sdc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "origData"          "keyVars"           "pramVars"         
 [4] "numVars"           "ghostVars"         "weightVar"        
 [7] "hhId"              "strataVar"         "sensibleVar"      
[10] "manipKeyVars"      "manipPramVars"     "manipNumVars"     
[13] "manipGhostVars"    "manipStrataVar"    "originalRisk"     
[16] "risk"              "utility"           "pram"             
[19] "localSuppression"  "options"           "additionalResults"
[22] "set"               "prev"              "deletedVars"      </code></pre>
</div>
</div>
<p>Lors de la création de l’objet, un certain nombre de métriques de risque ont été calculées. D’un point de vue global, la proportion d’individus à risque de ré-identification est une mesure calculée à partir des groupes constitués par les quasi-identifiants. Il s’agit du risque moyen qu’un individu de la base de donnée soit ré-identifié: <span class="math display">\[ R = \frac{1}{n} \sum_i{ r_i }\]</span>, où <span class="math inline">\(r_i\)</span> est le risque pour l’individu <span class="math inline">\(i\)</span> d’être ré-identifié (voir plus bas pour plus de précision).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk <span class="sc">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.269815</code></pre>
</div>
</div>
<p>Le nombre de ré-identifications auxquelles on peut s’attendre en moyenne (risque global * n) est fourni par:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk_ER</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1454</code></pre>
</div>
</div>
<p>On peut également retrouver la part d’individus à risque au sens du <span class="math inline">\(k\)</span>-anonymat:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(lfs_sdc, <span class="st">'kAnon'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Infos on 2/3-Anonymity:

Number of observations violating
  - 2-anonymity: 77 (0.226%)
  - 3-anonymity: 267 (0.784%)
  - 5-anonymity: 825 (2.423%)

----------------------------------------------------------------------</code></pre>
</div>
</div>
<p>On observe en particulier que <span class="math inline">\(77\)</span> individus sont uniques sur les clés utilisées (<span class="math inline">\(2\)</span>-anonymity).</p>
<p>ou pour d’autres valeurs de <span class="math inline">\(k\)</span>, on peut faire, par exemple, pour <span class="math inline">\(k=10\)</span>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"fk"</span>] <span class="sc">&lt;</span> <span class="dv">10</span>)<span class="sc">*</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.335624</code></pre>
</div>
</div>
</section>
</section>
<section id="le-risque-de-divulgation-dattributs-sensibles" class="level2">
<h2 class="anchored" data-anchor-id="le-risque-de-divulgation-dattributs-sensibles">Le risque de divulgation d’attributs sensibles</h2>
<p>On suppose que <code>ACTEU</code> est une variable sensible. Pour réduire le risque de divulgation d’attributs sur cette variable, on peut mesure la <span class="math inline">\(l\)</span>-diversité du fichier et être particulier vigilant aux groupes de quasi-identifiants qui seraient constitués d’individus partageant la même catégorie.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc <span class="ot">&lt;-</span> <span class="fu">ldiversity</span>(<span class="at">obj =</span> lfs_sdc, <span class="at">ldiv_index =</span> <span class="fu">c</span>(<span class="st">"ACTEU"</span>), <span class="at">missing =</span> <span class="cn">NA</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>--------------------------</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>L-Diversity Measures </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>--------------------------</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   2.000   2.000   2.325   3.000   3.000 </code></pre>
</div>
</div>
<p>Calculons la part d’individus présents dans un groupe ne comptant qu’une seule des trois catégories:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity[,<span class="st">"ACTEU_Distinct_Ldiversity"</span>]<span class="sc">==</span><span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15.69612</code></pre>
</div>
</div>
<p>En réalité, parmi les trois catégories de la variable, une seule est réellement sensible: il s’agit de la catégorie <code>2</code> correspondant aux personnes au chômage.</p>
<p>Vérifions le nombre d’individus réellement à risque de divulgation d’attributs sensibles:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>indiv_1diverses <span class="ot">&lt;-</span> <span class="fu">which</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity[,<span class="st">"ACTEU_Distinct_Ldiversity"</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>lfs_2023<span class="sc">|&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(indiv_1diverses)<span class="sc">|&gt;</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ACTEU <span class="sc">==</span> <span class="dv">2</span>)<span class="sc">|&gt;</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27</code></pre>
</div>
</div>
</section>
<section id="les-mesures-du-risque-individuel" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="les-mesures-du-risque-individuel">Les mesures du risque individuel</h2>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>           risk fk Fk
[1,] 0.02777778 36 36
[2,] 0.04166667 24 24
[3,] 0.33333333  3  3
[4,] 0.03448276 29 29
[5,] 0.04000000 25 25
[6,] 0.02173913 46 46</code></pre>
</div>
</div>
<ul>
<li><code>risk</code> : risque individuel défini par <span class="math inline">\(\frac{1}{fk}\)</span> si le fichier est une population</li>
<li><code>fk</code> : nombre d’individus du fichier partageant les mêmes clés (croisements de quasi-identifiants)</li>
<li><code>Fk</code> : nombre d’individus dans la population partageant les mêmes clés (croisements de quasi-identifiants)</li>
</ul>
<p>Le risque de ré-identification est calculé différemment selon que l’on a affaire à une population ou à un échantillon.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Echantillon et Population
</div>
</div>
<div class="callout-body-container callout-body">
<section id="population" class="level4">
<h4 class="anchored" data-anchor-id="population">Population</h4>
<p>Si le jeu de données étudié correspond à une population (fichier exhaustif du champ), alors <span class="math inline">\(fk = Fk = \sum_i{ 1(i \in k)}\)</span>, le nombre d’individus <span class="math inline">\(i\)</span> partageant la clé <span class="math inline">\(k\)</span>.</p>
<p>Dans ce cas, le risque de ré-identification d’un individu est défini par <span class="math inline">\(r_k = 1/f_k = 1/F_k\)</span> et correspond à la probabilité de ré-identifier l’individu correctement si on connaît ses caractéristiques <span class="math inline">\(k\)</span> sur les variables quasi-identifiantes.</p>
<p>En se reportant aux premières lignes du tableau des risques présenté ci-dessous que la colonne <code>risk</code> est bien égale à <code>1/fk</code>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>           risk fk Fk
[1,] 0.02777778 36 36
[2,] 0.04166667 24 24
[3,] 0.33333333  3  3
[4,] 0.03448276 29 29
[5,] 0.04000000 25 25
[6,] 0.02173913 46 46</code></pre>
</div>
</div>
<p>Dans notre jeu de données, la distribution du risque individuel est la suivante (on multiplie par 100 pour l’interpréter comme le pourcentage de chances de correctement ré-identifier l’individu):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>]<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La grande partie des individus ont un risque inférieur à <span class="math inline">\(20\%\)</span>. On note qu’il y a des individus dont le risque est maximal, en revanche. Il s’agit d’individus uniques pour les clés que nous avons choisies:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>] <span class="sc">==</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 77</code></pre>
</div>
</div>
</section>
<section id="echantillon" class="level4">
<h4 class="anchored" data-anchor-id="echantillon">Echantillon</h4>
<p>Si, au contraire, il s’agit d’un échantillon, on distinguera:</p>
<ul>
<li><span class="math inline">\(fk = \sum_{i \in S}{ 1(i \in k)}\)</span></li>
<li><span class="math inline">\(Fk = \sum_{i \in S}{  w_i \times 1(i \in k)}\)</span></li>
</ul>
<p>où <span class="math inline">\(S\)</span> désigne l’échantillon (le fichier) et <span class="math inline">\(w_i\)</span> le poids de l’individu <span class="math inline">\(i \in S\)</span>.</p>
<p>En revanche, la colonne <code>risk</code> n’est pas calculée directement à partir des <span class="math inline">\(F_k\)</span>. En effet, un tel risque est jugé trop conservateur et conduit à surestimer le risque de ré-identification <span class="citation" data-cites="templ_statistical_2015 Rinott_Shlomo_2006">(<a href="#ref-templ_statistical_2015" role="doc-biblioref">Templ, Kowarik, and Meindl 2015</a>; et <a href="#ref-Rinott_Shlomo_2006" role="doc-biblioref">Rinott and Shlomo 2006</a>)</span>. En effet, les <span class="math inline">\(F_k\)</span> sont en réalité des estimations. Une approche bayésienne est préférée (voir <a href="theorie/supports/arbitrer-risque-utilite.html">la présentation sur les mesures de risque</a> pour plus de détails).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">14789</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>N <span class="ot">=</span> <span class="fl">1e6</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">=</span> <span class="fu">nrow</span>(lfs_2023)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>w <span class="ot">=</span> N<span class="sc">/</span>n <span class="sc">+</span> <span class="fu">rnorm</span>(n<span class="dv">-1</span>, <span class="sc">-</span><span class="dv">2</span><span class="sc">/</span>(n<span class="dv">-1</span>), <span class="dv">2</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>w <span class="ot">=</span> <span class="fu">c</span>(w, N<span class="sc">-</span><span class="fu">sum</span>(w))</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>lfs_samp <span class="ot">&lt;-</span> lfs_2023 <span class="sc">|&gt;</span> </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">poids =</span> <span class="fu">sample</span>(w, n, <span class="at">replace=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  lfs_samp,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_vars_IIc,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">weightVar =</span> <span class="st">"poids"</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Le risque global moyen de ré-identification est alors (en %):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk <span class="sc">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1868871</code></pre>
</div>
</div>
<p>En prenant en compte les poids de l’échantillon, on a supposé en réalité le scénario d’attaque suivant:</p>
<ul>
<li>l’attaquant cherche à ré-identifier des personnes de l’échantillon à partir d’informations qu’il dispose sur la population</li>
<li>mais il ne sait pas si un individu a été enquêté ou non.</li>
</ul>
<p>Ainsi cette mesure de risque est pertinente si la connaissance de l’inclusion d’une personne dans l’échantillon est jugée trop peu réaliste.</p>
<p>En revanche, si l’inclusion d’une unité est certaine ou presque, il est préférable de mesurer ce risque au niveau de l’échantillon. C’est le cas par exemple pour les enquêtes entreprises qui incluent échantillonnent systématiquement les très grandes entreprises.</p>
<p>Au niveau individuel, le risque de ré-identification dans a population est également beaucoup plus faible:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>             risk fk         Fk
[1,] 0.0009641090 36 1065.83365
[2,] 0.0014528593 24  717.18039
[3,] 0.0168594121  3   87.47107
[4,] 0.0011948446 29  865.78354
[5,] 0.0013632238 25  763.07839
[6,] 0.0007567189 46 1349.83893</code></pre>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>]<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>all_risks <span class="ot">&lt;-</span> lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">risk_sample =</span> <span class="dv">1</span><span class="sc">/</span>fk, <span class="at">risk_pop=</span><span class="dv">1</span><span class="sc">/</span>Fk) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_pop, <span class="at">y=</span>risk)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_sample, <span class="at">y=</span>risk)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_sample, <span class="at">y=</span>risk_pop)) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mesurer-risque_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regardons l’individu le plus à risque:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>max_risk <span class="ot">&lt;-</span> <span class="fu">which.max</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>])</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[max_risk,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      risk         fk         Fk 
 0.1432643  1.0000000 22.8362004 </code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>lfs_samp <span class="sc">|&gt;</span> <span class="fu">slice</span>(max_risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID
   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;
1:     76     11    113      2    35     25      1      9     51      99   128
   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM   poids
      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;   &lt;num&gt;
1:        10     64      2     30       0 22.8362</code></pre>
</div>
</div>
</section>
</div>
</div>
<div class="no-row-height column-margin column-container"><div id="ref-Rinott_Shlomo_2006" class="csl-entry" role="listitem">
Rinott, Yosef, and Natalie Shlomo. 2006. <span>“A Generalized Negative Binomial Smoothing Model for Sample Disclosure Risk Estimation.”</span> In <em>Privacy in Statistical Databases</em>, edited by Josep Domingo-Ferrer and Luisa Franconi, 82–93. Berlin, Heidelberg: Springer. <a href="https://doi.org/10.1007/11930242_8">https://doi.org/10.1007/11930242_8</a>.
</div></div><div class="no-row-height column-margin column-container"><div id="ref-templ_statistical_2015" class="csl-entry" role="listitem">
Templ, Matthias, Alexander Kowarik, and Bernhard Meindl. 2015. <span>“Statistical <span>Disclosure</span> <span>Control</span> for <span>Micro</span>-<span>Data</span> <span>Using</span> the <em>r</em> <span>Package</span> <strong>sdcMicro</strong>.”</span> <em>Journal of Statistical Software</em> 67 (4). <a href="https://doi.org/10.18637/jss.v067.i04">https://doi.org/10.18637/jss.v067.i04</a>.
</div></div></section>
<section id="exercice-pratique" class="level2">
<h2 class="anchored" data-anchor-id="exercice-pratique">Exercice pratique</h2>
<p>Quel est le risque de ré-identification dans le fichier public mis à disposition par l’Insee sur son site internet ?</p>
<p>Le fichier détail et sa documentation sont disponibles <a href="https://www.insee.fr/fr/statistiques/6654604">ici</a>.</p>
<p>Téléchargeons le fichier:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">6000</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">destfile =</span> <span class="st">"lfs_micro_fr_2023.zip"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"https://www.insee.fr/fr/statistiques/fichier/8241122/FD_csv_EEC23.zip"</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> <span class="st">"lfs_micro_fr_2023.zip"</span>, <span class="at">exdir =</span> <span class="st">"."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>puf_lfs <span class="ot">=</span> data.table<span class="sc">::</span><span class="fu">fread</span>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FD_csv_EEC23.csv"</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># On conserve uniquement les ménages dont la personne est âgée entre 15 et 89 ans</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CHAMP_M_15_89 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>CHAMP_M_15_89)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(puf_lfs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>La documentation des variables:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>doc_lfs <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">fread</span>(</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Varmod_EEC_2023.csv"</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span>   </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(COD_VAR, LIB_VAR) <span class="sc">|&gt;</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()<span class="sc">|&gt;</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>doc_lfs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Quelles variables du jeu pourraient servir à la ré-identification des individus enquêtés ?</p>
<p>Imaginons que l’attaquant dispose d’un fichier client très riche sur une très grande partie de la population françasise. Dans un tel scénario, nous sommes amenés à avoir une définition extensive des variables quasi-identifiantes:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>qi_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SEXE"</span>,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AGE6"</span>, <span class="co"># la classe d'âge (6 catégories)</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ACTEU"</span>, <span class="co"># le statut d'activité de la personne</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DIP7"</span>, <span class="co"># le niveau de diplôme</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"METRODOM"</span>, <span class="co"># le lieu de résidence Hexagone ou Territoires Ultra-Marins</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"APCS1"</span>, <span class="co"># Catégorie socio-professionnelle du dernier emploi (6 classes)</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"STATUT"</span>, <span class="co"># Statut dans l'emploi (salarié, indépendant)</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"STCOMM2020"</span>, <span class="co">#Statut de la commune dans l'unité urbaine (information publique si on suppose que l'attauqant dispose des adresses des personnes)</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SALTYP"</span>, <span class="co"># Nature du contrat (Fonctionnaire, CDI, CDD, etc.)</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PCS1Q"</span> <span class="co"># Catégorie socio-professionnelle de l'emploi principal</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Déterminons le niveau de risque de ré-identification:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>puf_sdc <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  puf_lfs,</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_1,</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">weightVar =</span> <span class="st">"EXTRIAN"</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Le niveau d’anonyité de l’échantillon:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(puf_sdc, <span class="st">'kAnon'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Il existe des uniques dans l’échantillon (1818).</p>
<p>Le risque de ré-identification évaluée par la mesure globale fournie par <code>sdcMicro</code> est évaluée à 0.00078, soit moins de 0.1% de risque de ré-identification, ce qui est très faible.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Si la mesure globale est très faible, est-ce qu’il demeure des cas individuels problématiques. En particulier: quel est le risque de ré-identification des uniques de l’échantillon ?</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="ot">&lt;-</span> puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual <span class="sc">|&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()<span class="sc">|&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fk <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="sc">|&gt;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(risk) <span class="sc">|&gt;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(<span class="at">probs=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Dans ce scénario d’attaque, supposons que toute attaque avec une chance de ré-identification supérieure à 50% est problématique:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="sc">|&gt;</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(risk <span class="sc">&gt;</span> <span class="fl">0.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>risk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Il reste 11 individus, dont 1 avec un risque quasi certain d’être ré-identifié dans le scénario que nous nous sommes fixés.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>max_risk_puf <span class="ot">&lt;-</span> <span class="fu">which.max</span>(puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>])</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[max_risk,]</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>puf_lfs <span class="sc">|&gt;</span> <span class="fu">slice</span>(max_risk) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">all_of</span>(qi_1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="exercice" class="level3">
<h3 class="anchored" data-anchor-id="exercice">Exercice</h3>
<p>Quelles sont les limites du scénario envisagé ci-dessus ?</p>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>



<!-- -->

</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/InseeFrLab\.github\.io\/formation_protection_donnees\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb70" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Les mesures du risque de divulgation</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="an">href:</span><span class="co"> pratique/fiches/mesurer-risque.html</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="an">code-block-bg:</span><span class="co"> true</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="an">code-block-border-left:</span><span class="co"> "#bf9aff"</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> show</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="fu"># Les packages</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"./pratique/fiches"</span>)</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sdcMicro)</span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a><span class="fu">## Les données</span></span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-38"><a href="#cb70-38" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-39"><a href="#cb70-39" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb70-40"><a href="#cb70-40" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb70-41"><a href="#cb70-41" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/fun_risque.R"</span>)</span>
<span id="cb70-42"><a href="#cb70-42" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-43"><a href="#cb70-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-46"><a href="#cb70-46" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-47"><a href="#cb70-47" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../R/fun_import_data.R"</span>)</span>
<span id="cb70-48"><a href="#cb70-48" aria-hidden="true" tabindex="-1"></a>lfs_2023 <span class="ot">&lt;-</span> <span class="fu">import_lfs</span>()</span>
<span id="cb70-49"><a href="#cb70-49" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-50"><a href="#cb70-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-51"><a href="#cb70-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-54"><a href="#cb70-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-55"><a href="#cb70-55" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_2023)</span>
<span id="cb70-56"><a href="#cb70-56" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-57"><a href="#cb70-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-58"><a href="#cb70-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-59"><a href="#cb70-59" aria-hidden="true" tabindex="-1"></a><span class="fu">## Les différents types de variables</span></span>
<span id="cb70-60"><a href="#cb70-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-61"><a href="#cb70-61" aria-hidden="true" tabindex="-1"></a>Dans un jeu de données, on distingue trois grands types de variables:</span>
<span id="cb70-62"><a href="#cb70-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-63"><a href="#cb70-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>les *quasi-identifiants*: un ensemble de variables dont on suppose qu'un </span>
<span id="cb70-64"><a href="#cb70-64" aria-hidden="true" tabindex="-1"></a>attaquant est susceptible de les avoir déjà à sa disposition.</span>
<span id="cb70-65"><a href="#cb70-65" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>les *variables sensibles*: les variables portant sur des thématiques </span>
<span id="cb70-66"><a href="#cb70-66" aria-hidden="true" tabindex="-1"></a>sensibles au sens de la Loi Informatique et Libertés </span>
<span id="cb70-67"><a href="#cb70-67" aria-hidden="true" tabindex="-1"></a>(religion, opinion, orientation sexuelle, etc.), mais on peut aussi y inclure </span>
<span id="cb70-68"><a href="#cb70-68" aria-hidden="true" tabindex="-1"></a>des variables dont la connaissance est susceptible de porter préjudice </span>
<span id="cb70-69"><a href="#cb70-69" aria-hidden="true" tabindex="-1"></a>à la personne (par exemple le salaire, le fait d'avoir une maladie, le fait </span>
<span id="cb70-70"><a href="#cb70-70" aria-hidden="true" tabindex="-1"></a>d'être au chômage, etc.).</span>
<span id="cb70-71"><a href="#cb70-71" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>les *variables ni identifiantes ni sensibles*: celles qui a priori ne </span>
<span id="cb70-72"><a href="#cb70-72" aria-hidden="true" tabindex="-1"></a>posent pas de problème spécifique en terme de confidentialité.</span>
<span id="cb70-73"><a href="#cb70-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-74"><a href="#cb70-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-75"><a href="#cb70-75" aria-hidden="true" tabindex="-1"></a><span class="fu">## Le risque de ré-identification et le rôle des quasi-identifiants</span></span>
<span id="cb70-76"><a href="#cb70-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-77"><a href="#cb70-77" aria-hidden="true" tabindex="-1"></a>Ainsi, le premier type de variables engendre un risque de divulgation d'information</span>
<span id="cb70-78"><a href="#cb70-78" aria-hidden="true" tabindex="-1"></a>confidentielle par la possibilité pour l'attaquant de ré-identifier des individus. </span>
<span id="cb70-79"><a href="#cb70-79" aria-hidden="true" tabindex="-1"></a>En effet, si un ataquant dispose d'un fichier nomminatif - un fichier client par </span>
<span id="cb70-80"><a href="#cb70-80" aria-hidden="true" tabindex="-1"></a>exemple - contenant des variables communes avec le jeu de données qu'on s'apprête </span>
<span id="cb70-81"><a href="#cb70-81" aria-hidden="true" tabindex="-1"></a>à publier, il est alors en mesure d'apparier les deux et être en capacité de </span>
<span id="cb70-82"><a href="#cb70-82" aria-hidden="true" tabindex="-1"></a>ré-identifier des individus si ceux-ci se trouvent avoir des caractéristiques </span>
<span id="cb70-83"><a href="#cb70-83" aria-hidden="true" tabindex="-1"></a>peu fréquentes.</span>
<span id="cb70-84"><a href="#cb70-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-85"><a href="#cb70-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-86"><a href="#cb70-86" aria-hidden="true" tabindex="-1"></a><span class="fu">### Un premier exemple</span></span>
<span id="cb70-87"><a href="#cb70-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-88"><a href="#cb70-88" aria-hidden="true" tabindex="-1"></a>Prenons une liste très restreinte de quasi-identifiants: la géographie de résidence,</span>
<span id="cb70-89"><a href="#cb70-89" aria-hidden="true" tabindex="-1"></a>le sexe et l'âge de l'individu. Ces informations sont disponibles par de </span>
<span id="cb70-90"><a href="#cb70-90" aria-hidden="true" tabindex="-1"></a>nombreuses entreprises auprès desquelles nous souscrivons des services </span>
<span id="cb70-91"><a href="#cb70-91" aria-hidden="true" tabindex="-1"></a>(banque, assurance, téléphonie, etc.). </span>
<span id="cb70-92"><a href="#cb70-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-93"><a href="#cb70-93" aria-hidden="true" tabindex="-1"></a>En dénombrant les individus de chaque croisement entre les variables quasi-identifiantes,</span>
<span id="cb70-94"><a href="#cb70-94" aria-hidden="true" tabindex="-1"></a>on peut détecter :</span>
<span id="cb70-95"><a href="#cb70-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-96"><a href="#cb70-96" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>le **niveau d'anonymité du fichier** au sens du **k-anonymat**: ici notre fichier est </span>
<span id="cb70-97"><a href="#cb70-97" aria-hidden="true" tabindex="-1"></a>1-anonyme puisqu'il contient de nombreux individus uniques dans leur catégorie.</span>
<span id="cb70-98"><a href="#cb70-98" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>la détection des croisements et des **individus les plus à risque**:</span>
<span id="cb70-99"><a href="#cb70-99" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Moins il y a d'individus dans un groupe, plus la probabilité de ré-identification </span></span>
<span id="cb70-100"><a href="#cb70-100" aria-hidden="true" tabindex="-1"></a><span class="at">par l'attaquant est forte. Dans le cas d'un groupe unique, la ré-identification </span></span>
<span id="cb70-101"><a href="#cb70-101" aria-hidden="true" tabindex="-1"></a><span class="at">est même certaine.</span></span>
<span id="cb70-102"><a href="#cb70-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-105"><a href="#cb70-105" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-106"><a href="#cb70-106" aria-hidden="true" tabindex="-1"></a>qi_vars_I <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>,<span class="st">"DEP"</span>,<span class="st">"ARR"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span>)</span>
<span id="cb70-107"><a href="#cb70-107" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="ot">&lt;-</span> lfs_2023 <span class="sc">|&gt;</span> <span class="fu">count</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(qi_vars_I))) </span>
<span id="cb70-108"><a href="#cb70-108" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb70-109"><a href="#cb70-109" aria-hidden="true" tabindex="-1"></a>freq_qi_vars <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb70-110"><a href="#cb70-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-111"><a href="#cb70-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-112"><a href="#cb70-112" aria-hidden="true" tabindex="-1"></a>Ainsi, si une entreprise de notre contrée imaginaire dispose d'un fichier sur </span>
<span id="cb70-113"><a href="#cb70-113" aria-hidden="true" tabindex="-1"></a>tout ou partie de la population en âge de travailler (par exemple un opérateur </span>
<span id="cb70-114"><a href="#cb70-114" aria-hidden="true" tabindex="-1"></a>téléphonique), il pourra ré-identifier sans peine les individus uniques du jeu </span>
<span id="cb70-115"><a href="#cb70-115" aria-hidden="true" tabindex="-1"></a>de données qui seraient présents dans son fchier.</span>
<span id="cb70-116"><a href="#cb70-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-117"><a href="#cb70-117" aria-hidden="true" tabindex="-1"></a>La **capacité d'un attaquant à pouvoir ré-identifier un individu** dépend du </span>
<span id="cb70-118"><a href="#cb70-118" aria-hidden="true" tabindex="-1"></a>nombre d'individus du jeu de données qui partagent les mêmes caractéristiques</span>
<span id="cb70-119"><a href="#cb70-119" aria-hidden="true" tabindex="-1"></a>sur les variables quasi-identifiantes.</span>
<span id="cb70-120"><a href="#cb70-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-121"><a href="#cb70-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-122"><a href="#cb70-122" aria-hidden="true" tabindex="-1"></a>Par exemple, si Thérèse est une femme de 97 ans résidant dans l'arrondissement <span class="in">`751`</span>,</span>
<span id="cb70-123"><a href="#cb70-123" aria-hidden="true" tabindex="-1"></a>alors le jeu de données permet de la ré-identifier de façon certaine, puisqu'elle </span>
<span id="cb70-124"><a href="#cb70-124" aria-hidden="true" tabindex="-1"></a>serait la seule dans ce cas.</span>
<span id="cb70-125"><a href="#cb70-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-126"><a href="#cb70-126" aria-hidden="true" tabindex="-1"></a>Au contraire, si Thérèse est une femme de 52 ans résidant dans le même arrondissement, </span>
<span id="cb70-127"><a href="#cb70-127" aria-hidden="true" tabindex="-1"></a>alors la probabilité de la ré-identifier dans le jeu de données </span>
<span id="cb70-128"><a href="#cb70-128" aria-hidden="true" tabindex="-1"></a>avec ces seules informations serait de 1 chance sur </span>
<span id="cb70-129"><a href="#cb70-129" aria-hidden="true" tabindex="-1"></a><span class="in">`r freq_qi_vars |&gt; filter(ARR == "751", SEXE == 2, AGE == 52) |&gt; pull(n)`</span>.</span>
<span id="cb70-130"><a href="#cb70-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-131"><a href="#cb70-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-132"><a href="#cb70-132" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ```{r} --&gt;</span></span>
<span id="cb70-133"><a href="#cb70-133" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- freq_qi_vars &lt;- freq_qi_vars |&gt; --&gt;</span></span>
<span id="cb70-134"><a href="#cb70-134" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   mutate(p = 1/n) |&gt; --&gt;</span></span>
<span id="cb70-135"><a href="#cb70-135" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   mutate(p_cl = cut(p, breaks = c(0,0.1,0.25,0.34,0.5,1))) --&gt;</span></span>
<span id="cb70-136"><a href="#cb70-136" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb70-137"><a href="#cb70-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-138"><a href="#cb70-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-139"><a href="#cb70-139" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ```{r} --&gt;</span></span>
<span id="cb70-140"><a href="#cb70-140" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- #| code-fold: true --&gt;</span></span>
<span id="cb70-141"><a href="#cb70-141" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ggplot(freq_qi_vars) + --&gt;</span></span>
<span id="cb70-142"><a href="#cb70-142" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   geom_bar(aes(x=p_cl), fill = "forestgreen", alpha = 0.6, color = "snow") + --&gt;</span></span>
<span id="cb70-143"><a href="#cb70-143" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   labs(x="Probabilité d'être ré-identifié", y="Nb d'individus") + --&gt;</span></span>
<span id="cb70-144"><a href="#cb70-144" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   ggtitle("Probabilité de ré-identification des individus") + --&gt;</span></span>
<span id="cb70-145"><a href="#cb70-145" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--   theme_minimal() --&gt;</span></span>
<span id="cb70-146"><a href="#cb70-146" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb70-147"><a href="#cb70-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-148"><a href="#cb70-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-149"><a href="#cb70-149" aria-hidden="true" tabindex="-1"></a><span class="fu">### Le choix des variables quasi-identifiantes</span></span>
<span id="cb70-150"><a href="#cb70-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-151"><a href="#cb70-151" aria-hidden="true" tabindex="-1"></a>Choisir les variables quasi-identifiantes est un exercice difficile puisqu'en </span>
<span id="cb70-152"><a href="#cb70-152" aria-hidden="true" tabindex="-1"></a>général, nous n'avons pas une idée exacte des données à la disposition </span>
<span id="cb70-153"><a href="#cb70-153" aria-hidden="true" tabindex="-1"></a>des attaquants potentiels. Il faut donc définir un scénario théorique suffisamment </span>
<span id="cb70-154"><a href="#cb70-154" aria-hidden="true" tabindex="-1"></a>réaliste pour s'assurer de **protéger** les données individuelles </span>
<span id="cb70-155"><a href="#cb70-155" aria-hidden="true" tabindex="-1"></a>des risques de ré-identification les plus importants.  </span>
<span id="cb70-156"><a href="#cb70-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-157"><a href="#cb70-157" aria-hidden="true" tabindex="-1"></a>En choisissant le premier jeu de variables quasi-identifiantes (géographie, sexe et âge),</span>
<span id="cb70-158"><a href="#cb70-158" aria-hidden="true" tabindex="-1"></a>on considère le jeu minimal de quasi-idenfiants. L'extrême inverse consisterait </span>
<span id="cb70-159"><a href="#cb70-159" aria-hidden="true" tabindex="-1"></a>à considérer toutes les variable comme des quasi-identifiants. Dans le premier </span>
<span id="cb70-160"><a href="#cb70-160" aria-hidden="true" tabindex="-1"></a>cas, on définit un scénario minimaliste, dans le second le scénario est maximaliste.</span>
<span id="cb70-161"><a href="#cb70-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-162"><a href="#cb70-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-163"><a href="#cb70-163" aria-hidden="true" tabindex="-1"></a>Dans notre jeu de données fictif sur l'emploi et le chômage, on pourrait définir </span>
<span id="cb70-164"><a href="#cb70-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-165"><a href="#cb70-165" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>un scénario minimaliste: l'attaquant ne dispose que de la géographie, du sexe et de l'âge de ses clients</span>
<span id="cb70-166"><a href="#cb70-166" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>un scénario intermédiaire: l'attaquant dispose en plus d'informations sur son niveau de diplôme</span>
<span id="cb70-167"><a href="#cb70-167" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>un scénario maximaliste: l'attaquant dispose en réalité de toutes les informations sur les individus sauf de son ancienneté au chômage.</span>
<span id="cb70-168"><a href="#cb70-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-169"><a href="#cb70-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-170"><a href="#cb70-170" aria-hidden="true" tabindex="-1"></a>Selon ces trois scénarios, le niveau de risque de ré-identifcation des individus ne sera pas le même</span>
<span id="cb70-171"><a href="#cb70-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-172"><a href="#cb70-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-175"><a href="#cb70-175" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-176"><a href="#cb70-176" aria-hidden="true" tabindex="-1"></a>qi_vars_II <span class="ot">&lt;-</span> <span class="fu">c</span>(qi_vars_I, <span class="st">"DIP7"</span>)</span>
<span id="cb70-177"><a href="#cb70-177" aria-hidden="true" tabindex="-1"></a>qi_vars_III <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">names</span>(lfs_2023)[<span class="sc">!</span><span class="fu">names</span>(lfs_2023) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ANCCHOM"</span>)])</span>
<span id="cb70-178"><a href="#cb70-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-179"><a href="#cb70-179" aria-hidden="true" tabindex="-1"></a>risques_reident <span class="ot">&lt;-</span> </span>
<span id="cb70-180"><a href="#cb70-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"I"</span> <span class="ot">=</span> qi_vars_I, </span>
<span id="cb70-181"><a href="#cb70-181" aria-hidden="true" tabindex="-1"></a>       <span class="st">"II"</span> <span class="ot">=</span> qi_vars_II,</span>
<span id="cb70-182"><a href="#cb70-182" aria-hidden="true" tabindex="-1"></a>       <span class="st">"III"</span> <span class="ot">=</span> qi_vars_III) <span class="sc">|&gt;</span></span>
<span id="cb70-183"><a href="#cb70-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">comparer_risque_reidentification</span>(<span class="at">data =</span> lfs_2023)</span>
<span id="cb70-184"><a href="#cb70-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-185"><a href="#cb70-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-186"><a href="#cb70-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-189"><a href="#cb70-189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-190"><a href="#cb70-190" aria-hidden="true" tabindex="-1"></a><span class="co">#| cold-fold: true</span></span>
<span id="cb70-191"><a href="#cb70-191" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(risques_reident<span class="sc">$</span>r_graph <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()) <span class="sc">+</span></span>
<span id="cb70-192"><a href="#cb70-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span>p_cl, <span class="at">x =</span> scenario, <span class="at">y =</span> n), </span>
<span id="cb70-193"><a href="#cb70-193" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">color =</span> <span class="st">"grey25"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb70-194"><a href="#cb70-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="st">"Probabilité"</span>, <span class="at">type =</span> <span class="st">"seq"</span>, <span class="at">palette =</span> <span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb70-195"><a href="#cb70-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Scénario"</span>, <span class="at">y=</span><span class="st">"Nb d'individus"</span>) <span class="sc">+</span></span>
<span id="cb70-196"><a href="#cb70-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Probabilité de ré-identification des individus selon le scénario"</span>) <span class="sc">+</span></span>
<span id="cb70-197"><a href="#cb70-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb70-198"><a href="#cb70-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-199"><a href="#cb70-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-202"><a href="#cb70-202" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-203"><a href="#cb70-203" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb70-204"><a href="#cb70-204" aria-hidden="true" tabindex="-1"></a>risques_reident<span class="sc">$</span>r_stats <span class="sc">|&gt;</span></span>
<span id="cb70-205"><a href="#cb70-205" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb70-206"><a href="#cb70-206" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Risque de ré-identification des individus en fonction du scénario"</span>,</span>
<span id="cb70-207"><a href="#cb70-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">3</span></span>
<span id="cb70-208"><a href="#cb70-208" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-209"><a href="#cb70-209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-210"><a href="#cb70-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-211"><a href="#cb70-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-212"><a href="#cb70-212" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb70-213"><a href="#cb70-213" aria-hidden="true" tabindex="-1"></a><span class="fu">### Des variables très efficaces pour la ré-identification</span></span>
<span id="cb70-214"><a href="#cb70-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-215"><a href="#cb70-215" aria-hidden="true" tabindex="-1"></a>Certaines variables ont un pouvoir de ré-identification très fort, en particulier :</span>
<span id="cb70-216"><a href="#cb70-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-217"><a href="#cb70-217" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>la **géographie** (de résidence, de travail, d'implantation): plus elle est précise </span>
<span id="cb70-218"><a href="#cb70-218" aria-hidden="true" tabindex="-1"></a>plus la ré-identification est aisée, d'autant plus que l'adresse est souvent par </span>
<span id="cb70-219"><a href="#cb70-219" aria-hidden="true" tabindex="-1"></a>ailleurs une donnée très largement partagée par les individus et les entreprises.</span>
<span id="cb70-220"><a href="#cb70-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-221"><a href="#cb70-221" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>l'**âge** est également très ré-identifiant puisqu'il est à la fois public avec </span>
<span id="cb70-222"><a href="#cb70-222" aria-hidden="true" tabindex="-1"></a>la disponibilité de l'état-civil et concerne, pour certains âges avancés, peu </span>
<span id="cb70-223"><a href="#cb70-223" aria-hidden="true" tabindex="-1"></a>d'individus. Ainsi, si la personne la plus âgée résidant en France est dans notre</span>
<span id="cb70-224"><a href="#cb70-224" aria-hidden="true" tabindex="-1"></a>fichier, nous avons toutes les chances de la ré-identifier de façon certaine </span>
<span id="cb70-225"><a href="#cb70-225" aria-hidden="true" tabindex="-1"></a>en ne connaissant que son âge.</span>
<span id="cb70-226"><a href="#cb70-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-227"><a href="#cb70-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-228"><a href="#cb70-228" aria-hidden="true" tabindex="-1"></a>Pour réduire le risque de ré-identification, il est souvent très efficace de </span>
<span id="cb70-229"><a href="#cb70-229" aria-hidden="true" tabindex="-1"></a>choisir de diffuser des variables d'âge et de géographie agrégées.</span>
<span id="cb70-230"><a href="#cb70-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-231"><a href="#cb70-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-232"><a href="#cb70-232" aria-hidden="true" tabindex="-1"></a>Comparons, par exemple, trois scénarios alternatifs au <span class="in">`scénario II`</span> présenté </span>
<span id="cb70-233"><a href="#cb70-233" aria-hidden="true" tabindex="-1"></a>ci-dessus:</span>
<span id="cb70-234"><a href="#cb70-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-235"><a href="#cb70-235" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**scénario II-a**: le lieu de résidence n'est plus diffusé à l'arrondisement mais au département.</span>
<span id="cb70-236"><a href="#cb70-236" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**scénario II-b**: l'âge détaillé est remplacé par 5 tranches d'âges.</span>
<span id="cb70-237"><a href="#cb70-237" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**scénario II-c**: combinaison des deux scénarios ci-dessus.</span>
<span id="cb70-238"><a href="#cb70-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-241"><a href="#cb70-241" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-242"><a href="#cb70-242" aria-hidden="true" tabindex="-1"></a>qi_vars_IIa <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb70-243"><a href="#cb70-243" aria-hidden="true" tabindex="-1"></a>qi_vars_IIb <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"ARR"</span>, <span class="st">"SEXE"</span>,  <span class="st">"AGE6"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb70-244"><a href="#cb70-244" aria-hidden="true" tabindex="-1"></a>qi_vars_IIc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REG"</span>, <span class="st">"DEP"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE6"</span>, <span class="st">"DIP7"</span>)</span>
<span id="cb70-245"><a href="#cb70-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-246"><a href="#cb70-246" aria-hidden="true" tabindex="-1"></a>risques_reident2 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb70-247"><a href="#cb70-247" aria-hidden="true" tabindex="-1"></a>  <span class="st">"II"</span> <span class="ot">=</span> qi_vars_II, </span>
<span id="cb70-248"><a href="#cb70-248" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIa"</span> <span class="ot">=</span> qi_vars_IIa, </span>
<span id="cb70-249"><a href="#cb70-249" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIb"</span> <span class="ot">=</span> qi_vars_IIb, </span>
<span id="cb70-250"><a href="#cb70-250" aria-hidden="true" tabindex="-1"></a>  <span class="st">"IIc"</span> <span class="ot">=</span> qi_vars_IIc) <span class="sc">|&gt;</span></span>
<span id="cb70-251"><a href="#cb70-251" aria-hidden="true" tabindex="-1"></a>  <span class="fu">comparer_risque_reidentification</span>(<span class="at">data =</span> lfs_2023)</span>
<span id="cb70-252"><a href="#cb70-252" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb70-253"><a href="#cb70-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-254"><a href="#cb70-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-255"><a href="#cb70-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-258"><a href="#cb70-258" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-259"><a href="#cb70-259" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb70-260"><a href="#cb70-260" aria-hidden="true" tabindex="-1"></a>risques_reident2<span class="sc">$</span>r_stats <span class="sc">|&gt;</span></span>
<span id="cb70-261"><a href="#cb70-261" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb70-262"><a href="#cb70-262" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Risque de ré-identification des individus en fonction du scénario"</span>,</span>
<span id="cb70-263"><a href="#cb70-263" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">3</span></span>
<span id="cb70-264"><a href="#cb70-264" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-265"><a href="#cb70-265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-266"><a href="#cb70-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-267"><a href="#cb70-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-270"><a href="#cb70-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-271"><a href="#cb70-271" aria-hidden="true" tabindex="-1"></a><span class="co">#| cold-fold: true</span></span>
<span id="cb70-272"><a href="#cb70-272" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(risques_reident2<span class="sc">$</span>r_graph <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()) <span class="sc">+</span></span>
<span id="cb70-273"><a href="#cb70-273" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span>p_cl, <span class="at">x =</span> scenario, <span class="at">y =</span> n), </span>
<span id="cb70-274"><a href="#cb70-274" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">color =</span> <span class="st">"grey25"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb70-275"><a href="#cb70-275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="st">"Probabilité"</span>, <span class="at">type =</span> <span class="st">"seq"</span>, <span class="at">palette =</span> <span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb70-276"><a href="#cb70-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Scénario"</span>, <span class="at">y=</span><span class="st">"Nb d'individus"</span>) <span class="sc">+</span></span>
<span id="cb70-277"><a href="#cb70-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Probabilité de ré-identification des individus selon le scénario"</span>) <span class="sc">+</span></span>
<span id="cb70-278"><a href="#cb70-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb70-279"><a href="#cb70-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-280"><a href="#cb70-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-281"><a href="#cb70-281" aria-hidden="true" tabindex="-1"></a>En réduisant le détail géographique, on a ici divisé par deux la part des uniques. </span>
<span id="cb70-282"><a href="#cb70-282" aria-hidden="true" tabindex="-1"></a>Mais en passant à 6 tranches d'âges, celle-ci est divisée par 20!</span>
<span id="cb70-283"><a href="#cb70-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-284"><a href="#cb70-284" aria-hidden="true" tabindex="-1"></a>Ainsi, les traitements les plus simples (recoder une variable) sont parfois </span>
<span id="cb70-285"><a href="#cb70-285" aria-hidden="true" tabindex="-1"></a>les plus efficaces pour réduire massivement les risques individuels, même si </span>
<span id="cb70-286"><a href="#cb70-286" aria-hidden="true" tabindex="-1"></a>cela ne les annihile pas tous.</span>
<span id="cb70-287"><a href="#cb70-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-288"><a href="#cb70-288" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb70-289"><a href="#cb70-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-290"><a href="#cb70-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-291"><a href="#cb70-291" aria-hidden="true" tabindex="-1"></a><span class="fu">### Avec le package `sdcMicro`</span></span>
<span id="cb70-292"><a href="#cb70-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-293"><a href="#cb70-293" aria-hidden="true" tabindex="-1"></a>Le package <span class="in">`sdcMicro`</span> permet de mesurer les risques de ré-identification et le</span>
<span id="cb70-294"><a href="#cb70-294" aria-hidden="true" tabindex="-1"></a>niveau d'anonymité d'un jeu de données individuelles assez simplement.</span>
<span id="cb70-295"><a href="#cb70-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-296"><a href="#cb70-296" aria-hidden="true" tabindex="-1"></a>Dans un premier temps, on initialise un objet de la classe <span class="in">`sdcMicroObj`</span> en </span>
<span id="cb70-297"><a href="#cb70-297" aria-hidden="true" tabindex="-1"></a>mentionnant uniquement le jeu de données et les variables considérées</span>
<span id="cb70-298"><a href="#cb70-298" aria-hidden="true" tabindex="-1"></a>comme quasi-identfiantes.</span>
<span id="cb70-299"><a href="#cb70-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-302"><a href="#cb70-302" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-303"><a href="#cb70-303" aria-hidden="true" tabindex="-1"></a>lfs_sdc <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb70-304"><a href="#cb70-304" aria-hidden="true" tabindex="-1"></a>  lfs_2023,</span>
<span id="cb70-305"><a href="#cb70-305" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_vars_IIc</span>
<span id="cb70-306"><a href="#cb70-306" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-307"><a href="#cb70-307" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-308"><a href="#cb70-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-309"><a href="#cb70-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-310"><a href="#cb70-310" aria-hidden="true" tabindex="-1"></a>La fonction crée un objet dans une classe <span class="in">`S4`</span>. Les différents attributs de l'objet (on dit des <span class="in">`slots`</span>) sont donc accessibles avec le symbole <span class="in">`@`</span>.</span>
<span id="cb70-311"><a href="#cb70-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-312"><a href="#cb70-312" aria-hidden="true" tabindex="-1"></a>Les attributs disponibles pour un tel objet sont les suivants:</span>
<span id="cb70-313"><a href="#cb70-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-316"><a href="#cb70-316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-317"><a href="#cb70-317" aria-hidden="true" tabindex="-1"></a><span class="fu">slotNames</span>(lfs_sdc)</span>
<span id="cb70-318"><a href="#cb70-318" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-319"><a href="#cb70-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-320"><a href="#cb70-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-321"><a href="#cb70-321" aria-hidden="true" tabindex="-1"></a>Lors de la création de l'objet, un certain nombre de métriques de risque ont été calculées. D'un point de vue global, la proportion d'individus à risque de ré-identification est une mesure calculée à partir des groupes constitués par les quasi-identifiants. Il s'agit du risque moyen qu'un individu de la base de donnée soit ré-identifié: $$ R = \frac{1}{n} \sum_i{ r_i }$$, où $r_i$ est le risque pour l'individu $i$ d'être ré-identifié (voir plus bas pour plus de précision).</span>
<span id="cb70-322"><a href="#cb70-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-325"><a href="#cb70-325" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-326"><a href="#cb70-326" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb70-327"><a href="#cb70-327" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-328"><a href="#cb70-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-329"><a href="#cb70-329" aria-hidden="true" tabindex="-1"></a>Le nombre de ré-identifications auxquelles on peut s'attendre en moyenne (risque global * n) est fourni par:</span>
<span id="cb70-330"><a href="#cb70-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-333"><a href="#cb70-333" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-334"><a href="#cb70-334" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk_ER</span>
<span id="cb70-335"><a href="#cb70-335" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-336"><a href="#cb70-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-337"><a href="#cb70-337" aria-hidden="true" tabindex="-1"></a>On peut également retrouver la part d'individus à risque au sens du $k$-anonymat:</span>
<span id="cb70-338"><a href="#cb70-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-341"><a href="#cb70-341" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-342"><a href="#cb70-342" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(lfs_sdc, <span class="st">'kAnon'</span>)</span>
<span id="cb70-343"><a href="#cb70-343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-344"><a href="#cb70-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-345"><a href="#cb70-345" aria-hidden="true" tabindex="-1"></a>On observe en particulier que $77$ individus sont uniques sur les clés utilisées ($2$-anonymity).</span>
<span id="cb70-346"><a href="#cb70-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-347"><a href="#cb70-347" aria-hidden="true" tabindex="-1"></a>ou pour d'autres valeurs de $k$, on peut faire, par exemple, pour $k=10$:</span>
<span id="cb70-348"><a href="#cb70-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-351"><a href="#cb70-351" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-352"><a href="#cb70-352" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"fk"</span>] <span class="sc">&lt;</span> <span class="dv">10</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb70-353"><a href="#cb70-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-354"><a href="#cb70-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-355"><a href="#cb70-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-356"><a href="#cb70-356" aria-hidden="true" tabindex="-1"></a><span class="fu">## Le risque de divulgation d'attributs sensibles</span></span>
<span id="cb70-357"><a href="#cb70-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-358"><a href="#cb70-358" aria-hidden="true" tabindex="-1"></a>On suppose que <span class="in">`ACTEU`</span> est une variable sensible. Pour réduire </span>
<span id="cb70-359"><a href="#cb70-359" aria-hidden="true" tabindex="-1"></a>le risque de divulgation d'attributs sur cette variable, on peut </span>
<span id="cb70-360"><a href="#cb70-360" aria-hidden="true" tabindex="-1"></a>mesure la $l$-diversité du fichier et être particulier vigilant </span>
<span id="cb70-361"><a href="#cb70-361" aria-hidden="true" tabindex="-1"></a>aux groupes de quasi-identifiants qui seraient constitués </span>
<span id="cb70-362"><a href="#cb70-362" aria-hidden="true" tabindex="-1"></a>d'individus partageant la même catégorie.</span>
<span id="cb70-363"><a href="#cb70-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-366"><a href="#cb70-366" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-367"><a href="#cb70-367" aria-hidden="true" tabindex="-1"></a>lfs_sdc <span class="ot">&lt;-</span> <span class="fu">ldiversity</span>(<span class="at">obj =</span> lfs_sdc, <span class="at">ldiv_index =</span> <span class="fu">c</span>(<span class="st">"ACTEU"</span>), <span class="at">missing =</span> <span class="cn">NA</span>)</span>
<span id="cb70-368"><a href="#cb70-368" aria-hidden="true" tabindex="-1"></a>lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity</span>
<span id="cb70-369"><a href="#cb70-369" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-370"><a href="#cb70-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-371"><a href="#cb70-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-372"><a href="#cb70-372" aria-hidden="true" tabindex="-1"></a>Calculons la part d'individus présents dans un groupe ne comptant qu'une seule des trois catégories:</span>
<span id="cb70-373"><a href="#cb70-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-376"><a href="#cb70-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-377"><a href="#cb70-377" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity[,<span class="st">"ACTEU_Distinct_Ldiversity"</span>]<span class="sc">==</span><span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb70-378"><a href="#cb70-378" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-379"><a href="#cb70-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-380"><a href="#cb70-380" aria-hidden="true" tabindex="-1"></a>En réalité, parmi les trois catégories de la variable, une seule est réellement sensible: il s'agit de la catégorie <span class="in">`2`</span> correspondant aux personnes au chômage.</span>
<span id="cb70-381"><a href="#cb70-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-382"><a href="#cb70-382" aria-hidden="true" tabindex="-1"></a>Vérifions le nombre d'individus réellement à risque de divulgation d'attributs sensibles:</span>
<span id="cb70-383"><a href="#cb70-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-386"><a href="#cb70-386" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-387"><a href="#cb70-387" aria-hidden="true" tabindex="-1"></a>indiv_1diverses <span class="ot">&lt;-</span> <span class="fu">which</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>ldiversity[,<span class="st">"ACTEU_Distinct_Ldiversity"</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb70-388"><a href="#cb70-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-389"><a href="#cb70-389" aria-hidden="true" tabindex="-1"></a>lfs_2023<span class="sc">|&gt;</span></span>
<span id="cb70-390"><a href="#cb70-390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(indiv_1diverses)<span class="sc">|&gt;</span> </span>
<span id="cb70-391"><a href="#cb70-391" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ACTEU <span class="sc">==</span> <span class="dv">2</span>)<span class="sc">|&gt;</span></span>
<span id="cb70-392"><a href="#cb70-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span>
<span id="cb70-393"><a href="#cb70-393" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-394"><a href="#cb70-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-395"><a href="#cb70-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-396"><a href="#cb70-396" aria-hidden="true" tabindex="-1"></a><span class="fu">## Les mesures du risque individuel</span></span>
<span id="cb70-397"><a href="#cb70-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-400"><a href="#cb70-400" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-401"><a href="#cb70-401" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual)</span>
<span id="cb70-402"><a href="#cb70-402" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-403"><a href="#cb70-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-404"><a href="#cb70-404" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`risk`</span> : risque individuel défini par $\frac{1}{fk}$ si le fichier est une population</span>
<span id="cb70-405"><a href="#cb70-405" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`fk`</span> : nombre d'individus du fichier partageant les mêmes clés (croisements de quasi-identifiants)</span>
<span id="cb70-406"><a href="#cb70-406" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`Fk`</span> : nombre d'individus dans la population partageant les mêmes clés (croisements de quasi-identifiants)</span>
<span id="cb70-407"><a href="#cb70-407" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-408"><a href="#cb70-408" aria-hidden="true" tabindex="-1"></a>Le risque de ré-identification est calculé différemment selon que l'on a affaire à une population ou à un échantillon.</span>
<span id="cb70-409"><a href="#cb70-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-410"><a href="#cb70-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-411"><a href="#cb70-411" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb70-412"><a href="#cb70-412" aria-hidden="true" tabindex="-1"></a><span class="fu">### Echantillon et Population</span></span>
<span id="cb70-413"><a href="#cb70-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-414"><a href="#cb70-414" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Population</span></span>
<span id="cb70-415"><a href="#cb70-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-416"><a href="#cb70-416" aria-hidden="true" tabindex="-1"></a>Si le jeu de données étudié correspond à une population (fichier exhaustif du champ),</span>
<span id="cb70-417"><a href="#cb70-417" aria-hidden="true" tabindex="-1"></a>alors $fk = Fk = \sum_i{ 1(i \in k)}$, le nombre d'individus $i$ partageant la clé $k$.</span>
<span id="cb70-418"><a href="#cb70-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-419"><a href="#cb70-419" aria-hidden="true" tabindex="-1"></a>Dans ce cas, le risque de ré-identification d'un individu est défini par $r_k = 1/f_k = 1/F_k$ et correspond à la probabilité de ré-identifier l'individu correctement si on connaît ses caractéristiques $k$ sur les variables quasi-identifiantes.</span>
<span id="cb70-420"><a href="#cb70-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-421"><a href="#cb70-421" aria-hidden="true" tabindex="-1"></a>En se reportant aux premières lignes du tableau des risques présenté ci-dessous que la colonne <span class="in">`risk`</span> est bien égale à <span class="in">`1/fk`</span>.</span>
<span id="cb70-422"><a href="#cb70-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-425"><a href="#cb70-425" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-426"><a href="#cb70-426" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual)</span>
<span id="cb70-427"><a href="#cb70-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-428"><a href="#cb70-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-429"><a href="#cb70-429" aria-hidden="true" tabindex="-1"></a>Dans notre jeu de données, la distribution du risque individuel est la suivante (on multiplie par 100 pour l'interpréter comme le pourcentage de chances de correctement ré-identifier l'individu):</span>
<span id="cb70-430"><a href="#cb70-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-433"><a href="#cb70-433" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-434"><a href="#cb70-434" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>]<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb70-435"><a href="#cb70-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-436"><a href="#cb70-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-437"><a href="#cb70-437" aria-hidden="true" tabindex="-1"></a>La grande partie des individus ont un risque inférieur à $20\%$. On note qu'il y a des individus dont le risque est maximal, en revanche. Il s'agit d'individus uniques pour les clés que nous avons choisies:</span>
<span id="cb70-438"><a href="#cb70-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-441"><a href="#cb70-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-442"><a href="#cb70-442" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(lfs_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>] <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb70-443"><a href="#cb70-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-444"><a href="#cb70-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-445"><a href="#cb70-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-446"><a href="#cb70-446" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Echantillon</span></span>
<span id="cb70-447"><a href="#cb70-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-448"><a href="#cb70-448" aria-hidden="true" tabindex="-1"></a>Si, au contraire, il s'agit d'un échantillon, on distinguera:</span>
<span id="cb70-449"><a href="#cb70-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-450"><a href="#cb70-450" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$fk = \sum_{i \in S}{ 1(i \in k)}$</span>
<span id="cb70-451"><a href="#cb70-451" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>$Fk = \sum_{i \in S}{  w_i \times 1(i \in k)}$</span>
<span id="cb70-452"><a href="#cb70-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-453"><a href="#cb70-453" aria-hidden="true" tabindex="-1"></a>où $S$ désigne l'échantillon (le fichier) et $w_i$ le poids de l'individu </span>
<span id="cb70-454"><a href="#cb70-454" aria-hidden="true" tabindex="-1"></a>$i \in S$.</span>
<span id="cb70-455"><a href="#cb70-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-456"><a href="#cb70-456" aria-hidden="true" tabindex="-1"></a>En revanche, la colonne <span class="in">`risk`</span> n'est pas calculée directement à partir des $F_k$. En effet, un tel risque est jugé trop conservateur et conduit à surestimer le risque de ré-identification <span class="co">[</span><span class="ot">@templ_statistical_2015; et @Rinott_Shlomo_2006</span><span class="co">]</span>. En effet, les $F_k$ sont en réalité des estimations. Une approche bayésienne est préférée </span>
<span id="cb70-457"><a href="#cb70-457" aria-hidden="true" tabindex="-1"></a>(voir <span class="co">[</span><span class="ot">la présentation sur les mesures de risque</span><span class="co">](theorie/supports/arbitrer-risque-utilite.html)</span> pour plus de détails).</span>
<span id="cb70-458"><a href="#cb70-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-459"><a href="#cb70-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-460"><a href="#cb70-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-463"><a href="#cb70-463" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-464"><a href="#cb70-464" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">14789</span>)</span>
<span id="cb70-465"><a href="#cb70-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-466"><a href="#cb70-466" aria-hidden="true" tabindex="-1"></a>N <span class="ot">=</span> <span class="fl">1e6</span></span>
<span id="cb70-467"><a href="#cb70-467" aria-hidden="true" tabindex="-1"></a>n <span class="ot">=</span> <span class="fu">nrow</span>(lfs_2023)</span>
<span id="cb70-468"><a href="#cb70-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-469"><a href="#cb70-469" aria-hidden="true" tabindex="-1"></a>w <span class="ot">=</span> N<span class="sc">/</span>n <span class="sc">+</span> <span class="fu">rnorm</span>(n<span class="dv">-1</span>, <span class="sc">-</span><span class="dv">2</span><span class="sc">/</span>(n<span class="dv">-1</span>), <span class="dv">2</span>)</span>
<span id="cb70-470"><a href="#cb70-470" aria-hidden="true" tabindex="-1"></a>w <span class="ot">=</span> <span class="fu">c</span>(w, N<span class="sc">-</span><span class="fu">sum</span>(w))</span>
<span id="cb70-471"><a href="#cb70-471" aria-hidden="true" tabindex="-1"></a>lfs_samp <span class="ot">&lt;-</span> lfs_2023 <span class="sc">|&gt;</span> </span>
<span id="cb70-472"><a href="#cb70-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">poids =</span> <span class="fu">sample</span>(w, n, <span class="at">replace=</span><span class="cn">TRUE</span>))</span>
<span id="cb70-473"><a href="#cb70-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-474"><a href="#cb70-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-477"><a href="#cb70-477" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-478"><a href="#cb70-478" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb70-479"><a href="#cb70-479" aria-hidden="true" tabindex="-1"></a>  lfs_samp,</span>
<span id="cb70-480"><a href="#cb70-480" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_vars_IIc,</span>
<span id="cb70-481"><a href="#cb70-481" aria-hidden="true" tabindex="-1"></a>  <span class="at">weightVar =</span> <span class="st">"poids"</span></span>
<span id="cb70-482"><a href="#cb70-482" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-483"><a href="#cb70-483" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-484"><a href="#cb70-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-485"><a href="#cb70-485" aria-hidden="true" tabindex="-1"></a>Le risque global moyen de ré-identification est alors (en %):</span>
<span id="cb70-488"><a href="#cb70-488" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-489"><a href="#cb70-489" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb70-490"><a href="#cb70-490" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-491"><a href="#cb70-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-492"><a href="#cb70-492" aria-hidden="true" tabindex="-1"></a>En prenant en compte les poids de l'échantillon, on a supposé en réalité le scénario d'attaque suivant:</span>
<span id="cb70-493"><a href="#cb70-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-494"><a href="#cb70-494" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>l'attaquant cherche à ré-identifier des personnes de l'échantillon à partir d'informations qu'il dispose sur la population</span>
<span id="cb70-495"><a href="#cb70-495" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>mais il ne sait pas si un individu a été enquêté ou non.</span>
<span id="cb70-496"><a href="#cb70-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-497"><a href="#cb70-497" aria-hidden="true" tabindex="-1"></a>Ainsi cette mesure de risque est pertinente si la connaissance de l'inclusion d'une personne dans l'échantillon est jugée trop peu réaliste.</span>
<span id="cb70-498"><a href="#cb70-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-499"><a href="#cb70-499" aria-hidden="true" tabindex="-1"></a>En revanche, si l'inclusion d'une unité est certaine ou presque, il est préférable de mesurer ce risque au niveau de l'échantillon. C'est le cas par exemple pour les enquêtes entreprises qui incluent échantillonnent systématiquement  les très grandes entreprises. </span>
<span id="cb70-500"><a href="#cb70-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-501"><a href="#cb70-501" aria-hidden="true" tabindex="-1"></a>Au niveau individuel, le risque de ré-identification dans a population est également beaucoup plus faible: </span>
<span id="cb70-502"><a href="#cb70-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-505"><a href="#cb70-505" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-506"><a href="#cb70-506" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual)</span>
<span id="cb70-507"><a href="#cb70-507" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-508"><a href="#cb70-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-511"><a href="#cb70-511" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-512"><a href="#cb70-512" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>]<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb70-513"><a href="#cb70-513" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-514"><a href="#cb70-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-517"><a href="#cb70-517" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-518"><a href="#cb70-518" aria-hidden="true" tabindex="-1"></a>all_risks <span class="ot">&lt;-</span> lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual <span class="sc">|&gt;</span></span>
<span id="cb70-519"><a href="#cb70-519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb70-520"><a href="#cb70-520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">risk_sample =</span> <span class="dv">1</span><span class="sc">/</span>fk, <span class="at">risk_pop=</span><span class="dv">1</span><span class="sc">/</span>Fk) </span>
<span id="cb70-521"><a href="#cb70-521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-522"><a href="#cb70-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-525"><a href="#cb70-525" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-526"><a href="#cb70-526" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb70-527"><a href="#cb70-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_pop, <span class="at">y=</span>risk)) <span class="sc">+</span></span>
<span id="cb70-528"><a href="#cb70-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb70-529"><a href="#cb70-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span>
<span id="cb70-530"><a href="#cb70-530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-531"><a href="#cb70-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-534"><a href="#cb70-534" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-535"><a href="#cb70-535" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb70-536"><a href="#cb70-536" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_sample, <span class="at">y=</span>risk)) <span class="sc">+</span></span>
<span id="cb70-537"><a href="#cb70-537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb70-538"><a href="#cb70-538" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span>
<span id="cb70-539"><a href="#cb70-539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-540"><a href="#cb70-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-543"><a href="#cb70-543" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-544"><a href="#cb70-544" aria-hidden="true" tabindex="-1"></a>all_risks <span class="sc">|&gt;</span></span>
<span id="cb70-545"><a href="#cb70-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>risk_sample, <span class="at">y=</span>risk_pop)) <span class="sc">+</span></span>
<span id="cb70-546"><a href="#cb70-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb70-547"><a href="#cb70-547" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">'darkred'</span>)</span>
<span id="cb70-548"><a href="#cb70-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-549"><a href="#cb70-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-550"><a href="#cb70-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-551"><a href="#cb70-551" aria-hidden="true" tabindex="-1"></a>Regardons l'individu le plus à risque:</span>
<span id="cb70-554"><a href="#cb70-554" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-555"><a href="#cb70-555" aria-hidden="true" tabindex="-1"></a>max_risk <span class="ot">&lt;-</span> <span class="fu">which.max</span>(lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>])</span>
<span id="cb70-556"><a href="#cb70-556" aria-hidden="true" tabindex="-1"></a>lfs_sdc_samp<span class="sc">@</span>risk<span class="sc">$</span>individual[max_risk,]</span>
<span id="cb70-557"><a href="#cb70-557" aria-hidden="true" tabindex="-1"></a>lfs_samp <span class="sc">|&gt;</span> <span class="fu">slice</span>(max_risk)</span>
<span id="cb70-558"><a href="#cb70-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-559"><a href="#cb70-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-560"><a href="#cb70-560" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb70-561"><a href="#cb70-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-562"><a href="#cb70-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-563"><a href="#cb70-563" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exercice pratique</span></span>
<span id="cb70-564"><a href="#cb70-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-565"><a href="#cb70-565" aria-hidden="true" tabindex="-1"></a>Quel est le risque de ré-identification dans le fichier public mis à disposition par l'Insee sur son site internet ?</span>
<span id="cb70-566"><a href="#cb70-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-567"><a href="#cb70-567" aria-hidden="true" tabindex="-1"></a>Le fichier détail et sa documentation sont disponibles <span class="co">[</span><span class="ot">ici</span><span class="co">](https://www.insee.fr/fr/statistiques/6654604)</span>.</span>
<span id="cb70-568"><a href="#cb70-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-569"><a href="#cb70-569" aria-hidden="true" tabindex="-1"></a>Téléchargeons le fichier:</span>
<span id="cb70-570"><a href="#cb70-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-573"><a href="#cb70-573" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-574"><a href="#cb70-574" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-575"><a href="#cb70-575" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">6000</span>)</span>
<span id="cb70-576"><a href="#cb70-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-577"><a href="#cb70-577" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb70-578"><a href="#cb70-578" aria-hidden="true" tabindex="-1"></a>  <span class="at">destfile =</span> <span class="st">"lfs_micro_fr_2023.zip"</span>,</span>
<span id="cb70-579"><a href="#cb70-579" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"https://www.insee.fr/fr/statistiques/fichier/8241122/FD_csv_EEC23.zip"</span></span>
<span id="cb70-580"><a href="#cb70-580" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-581"><a href="#cb70-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-582"><a href="#cb70-582" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> <span class="st">"lfs_micro_fr_2023.zip"</span>, <span class="at">exdir =</span> <span class="st">"."</span>)</span>
<span id="cb70-583"><a href="#cb70-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-584"><a href="#cb70-584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-585"><a href="#cb70-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-588"><a href="#cb70-588" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-589"><a href="#cb70-589" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-590"><a href="#cb70-590" aria-hidden="true" tabindex="-1"></a>puf_lfs <span class="ot">=</span> data.table<span class="sc">::</span><span class="fu">fread</span>(</span>
<span id="cb70-591"><a href="#cb70-591" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FD_csv_EEC23.csv"</span></span>
<span id="cb70-592"><a href="#cb70-592" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb70-593"><a href="#cb70-593" aria-hidden="true" tabindex="-1"></a>  <span class="co"># On conserve uniquement les ménages dont la personne est âgée entre 15 et 89 ans</span></span>
<span id="cb70-594"><a href="#cb70-594" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CHAMP_M_15_89 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb70-595"><a href="#cb70-595" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>CHAMP_M_15_89)</span>
<span id="cb70-596"><a href="#cb70-596" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-597"><a href="#cb70-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-600"><a href="#cb70-600" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-601"><a href="#cb70-601" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-602"><a href="#cb70-602" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(puf_lfs)</span>
<span id="cb70-603"><a href="#cb70-603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-604"><a href="#cb70-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-605"><a href="#cb70-605" aria-hidden="true" tabindex="-1"></a>La documentation des variables:</span>
<span id="cb70-606"><a href="#cb70-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-609"><a href="#cb70-609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-610"><a href="#cb70-610" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-611"><a href="#cb70-611" aria-hidden="true" tabindex="-1"></a>doc_lfs <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">fread</span>(</span>
<span id="cb70-612"><a href="#cb70-612" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Varmod_EEC_2023.csv"</span></span>
<span id="cb70-613"><a href="#cb70-613" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span>   </span>
<span id="cb70-614"><a href="#cb70-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(COD_VAR, LIB_VAR) <span class="sc">|&gt;</span></span>
<span id="cb70-615"><a href="#cb70-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()<span class="sc">|&gt;</span></span>
<span id="cb70-616"><a href="#cb70-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb70-617"><a href="#cb70-617" aria-hidden="true" tabindex="-1"></a>doc_lfs</span>
<span id="cb70-618"><a href="#cb70-618" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-619"><a href="#cb70-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-620"><a href="#cb70-620" aria-hidden="true" tabindex="-1"></a>Quelles variables du jeu pourraient servir à la ré-identification des individus enquêtés ?</span>
<span id="cb70-621"><a href="#cb70-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-622"><a href="#cb70-622" aria-hidden="true" tabindex="-1"></a>Imaginons que l'attaquant dispose d'un fichier client très riche sur une très grande partie de la population françasise. Dans un tel scénario, nous sommes amenés à avoir une définition extensive des variables quasi-identifiantes:</span>
<span id="cb70-623"><a href="#cb70-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-626"><a href="#cb70-626" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-627"><a href="#cb70-627" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-628"><a href="#cb70-628" aria-hidden="true" tabindex="-1"></a>qi_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb70-629"><a href="#cb70-629" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SEXE"</span>,</span>
<span id="cb70-630"><a href="#cb70-630" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AGE6"</span>, <span class="co"># la classe d'âge (6 catégories)</span></span>
<span id="cb70-631"><a href="#cb70-631" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ACTEU"</span>, <span class="co"># le statut d'activité de la personne</span></span>
<span id="cb70-632"><a href="#cb70-632" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DIP7"</span>, <span class="co"># le niveau de diplôme</span></span>
<span id="cb70-633"><a href="#cb70-633" aria-hidden="true" tabindex="-1"></a>  <span class="st">"METRODOM"</span>, <span class="co"># le lieu de résidence Hexagone ou Territoires Ultra-Marins</span></span>
<span id="cb70-634"><a href="#cb70-634" aria-hidden="true" tabindex="-1"></a>  <span class="st">"APCS1"</span>, <span class="co"># Catégorie socio-professionnelle du dernier emploi (6 classes)</span></span>
<span id="cb70-635"><a href="#cb70-635" aria-hidden="true" tabindex="-1"></a>  <span class="st">"STATUT"</span>, <span class="co"># Statut dans l'emploi (salarié, indépendant)</span></span>
<span id="cb70-636"><a href="#cb70-636" aria-hidden="true" tabindex="-1"></a>  <span class="st">"STCOMM2020"</span>, <span class="co">#Statut de la commune dans l'unité urbaine (information publique si on suppose que l'attauqant dispose des adresses des personnes)</span></span>
<span id="cb70-637"><a href="#cb70-637" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SALTYP"</span>, <span class="co"># Nature du contrat (Fonctionnaire, CDI, CDD, etc.)</span></span>
<span id="cb70-638"><a href="#cb70-638" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PCS1Q"</span> <span class="co"># Catégorie socio-professionnelle de l'emploi principal</span></span>
<span id="cb70-639"><a href="#cb70-639" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-640"><a href="#cb70-640" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-641"><a href="#cb70-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-642"><a href="#cb70-642" aria-hidden="true" tabindex="-1"></a>Déterminons le niveau de risque de ré-identification:</span>
<span id="cb70-643"><a href="#cb70-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-646"><a href="#cb70-646" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-647"><a href="#cb70-647" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-648"><a href="#cb70-648" aria-hidden="true" tabindex="-1"></a>puf_sdc <span class="ot">&lt;-</span> sdcMicro<span class="sc">::</span><span class="fu">createSdcObj</span>(</span>
<span id="cb70-649"><a href="#cb70-649" aria-hidden="true" tabindex="-1"></a>  puf_lfs,</span>
<span id="cb70-650"><a href="#cb70-650" aria-hidden="true" tabindex="-1"></a>  <span class="at">keyVars =</span> qi_1,</span>
<span id="cb70-651"><a href="#cb70-651" aria-hidden="true" tabindex="-1"></a>  <span class="at">weightVar =</span> <span class="st">"EXTRIAN"</span></span>
<span id="cb70-652"><a href="#cb70-652" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-653"><a href="#cb70-653" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-654"><a href="#cb70-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-655"><a href="#cb70-655" aria-hidden="true" tabindex="-1"></a>Le niveau d'anonyité de l'échantillon:</span>
<span id="cb70-658"><a href="#cb70-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-659"><a href="#cb70-659" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-660"><a href="#cb70-660" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(puf_sdc, <span class="st">'kAnon'</span>)</span>
<span id="cb70-661"><a href="#cb70-661" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-662"><a href="#cb70-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-663"><a href="#cb70-663" aria-hidden="true" tabindex="-1"></a>Il existe des uniques dans l'échantillon (1818). </span>
<span id="cb70-664"><a href="#cb70-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-665"><a href="#cb70-665" aria-hidden="true" tabindex="-1"></a>Le risque de ré-identification évaluée par la mesure globale fournie par <span class="in">`sdcMicro`</span> est évaluée à 0.00078, soit moins de 0.1% de risque de ré-identification, ce qui est très faible.</span>
<span id="cb70-666"><a href="#cb70-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-669"><a href="#cb70-669" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-670"><a href="#cb70-670" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-671"><a href="#cb70-671" aria-hidden="true" tabindex="-1"></a>puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>global<span class="sc">$</span>risk</span>
<span id="cb70-672"><a href="#cb70-672" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-673"><a href="#cb70-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-674"><a href="#cb70-674" aria-hidden="true" tabindex="-1"></a>Si la mesure globale est très faible, est-ce qu'il demeure des cas individuels problématiques. En particulier: quel est le risque de ré-identification des uniques de l'échantillon ?</span>
<span id="cb70-675"><a href="#cb70-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-678"><a href="#cb70-678" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-679"><a href="#cb70-679" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-680"><a href="#cb70-680" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="ot">&lt;-</span> puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual <span class="sc">|&gt;</span></span>
<span id="cb70-681"><a href="#cb70-681" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()<span class="sc">|&gt;</span></span>
<span id="cb70-682"><a href="#cb70-682" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fk <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb70-683"><a href="#cb70-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-684"><a href="#cb70-684" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="sc">|&gt;</span></span>
<span id="cb70-685"><a href="#cb70-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(risk) <span class="sc">|&gt;</span></span>
<span id="cb70-686"><a href="#cb70-686" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(<span class="at">probs=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">1</span>))</span>
<span id="cb70-687"><a href="#cb70-687" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-688"><a href="#cb70-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-689"><a href="#cb70-689" aria-hidden="true" tabindex="-1"></a>Dans ce scénario d'attaque, supposons que toute attaque avec une chance de ré-identification supérieure à 50% est problématique:</span>
<span id="cb70-690"><a href="#cb70-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-693"><a href="#cb70-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-694"><a href="#cb70-694" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-695"><a href="#cb70-695" aria-hidden="true" tabindex="-1"></a>risk_unique_echantillon <span class="sc">|&gt;</span> </span>
<span id="cb70-696"><a href="#cb70-696" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(risk <span class="sc">&gt;</span> <span class="fl">0.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb70-697"><a href="#cb70-697" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>risk)</span>
<span id="cb70-698"><a href="#cb70-698" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-699"><a href="#cb70-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-700"><a href="#cb70-700" aria-hidden="true" tabindex="-1"></a>Il reste 11 individus, dont 1 avec un risque quasi certain d'être ré-identifié dans le scénario que nous nous sommes fixés.</span>
<span id="cb70-701"><a href="#cb70-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-704"><a href="#cb70-704" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb70-705"><a href="#cb70-705" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb70-706"><a href="#cb70-706" aria-hidden="true" tabindex="-1"></a>max_risk_puf <span class="ot">&lt;-</span> <span class="fu">which.max</span>(puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[,<span class="st">"risk"</span>])</span>
<span id="cb70-707"><a href="#cb70-707" aria-hidden="true" tabindex="-1"></a>puf_sdc<span class="sc">@</span>risk<span class="sc">$</span>individual[max_risk,]</span>
<span id="cb70-708"><a href="#cb70-708" aria-hidden="true" tabindex="-1"></a>puf_lfs <span class="sc">|&gt;</span> <span class="fu">slice</span>(max_risk) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">all_of</span>(qi_1))</span>
<span id="cb70-709"><a href="#cb70-709" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb70-710"><a href="#cb70-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-711"><a href="#cb70-711" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercice</span></span>
<span id="cb70-712"><a href="#cb70-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-713"><a href="#cb70-713" aria-hidden="true" tabindex="-1"></a>Quelles sont les limites du scénario envisagé ci-dessus ?</span>
<span id="cb70-714"><a href="#cb70-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-715"><a href="#cb70-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-716"><a href="#cb70-716" aria-hidden="true" tabindex="-1"></a><span class="fu">### References</span></span>
<span id="cb70-717"><a href="#cb70-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-718"><a href="#cb70-718" aria-hidden="true" tabindex="-1"></a>::: {#refs}</span>
<span id="cb70-719"><a href="#cb70-719" aria-hidden="true" tabindex="-1"></a>:::</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 - Insee</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Site réalisé avec Quarto</p>
</div>
  </div>
</footer>




</body></html>