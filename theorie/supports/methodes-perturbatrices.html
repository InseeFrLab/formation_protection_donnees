<!DOCTYPE html>
<html lang="fr-FR"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>La protection des données statistiques publiques – Les méthodes perturbatrices</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-7230c0af59ab1606bc2ed49e76979e8e.css">
  <link rel="stylesheet" href="_extensions/InseeFrLab/onyxia/logo.css">
  <link rel="stylesheet" href="custom.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="_extensions/InseeFrLab/onyxia/background.svg" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title">Les méthodes perturbatrices</h1>
  <p class="subtitle"></p><p><strong><span class="orange">Pour données tabulées ou individuelles</span></strong></p><p></p>

<div class="quarto-title-authors">
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Sommaire</h2>
<ul>
<li><a href="#/introduction" id="/toc-introduction">Introduction</a></li>
<li><a href="#/les-méthodes-post-tabulation" id="/toc-les-méthodes-post-tabulation"><span class="header-section-number">1</span> Les méthodes post-tabulation</a></li>
<li><a href="#/méthodes-darrondi-et-apparentées" id="/toc-méthodes-darrondi-et-apparentées"><span class="header-section-number">2</span> Méthodes d’arrondi et apparentées</a></li>
<li><a href="#/la-méthode-des-clés-aléatoires-ckm" id="/toc-la-méthode-des-clés-aléatoires-ckm"><span class="header-section-number">3</span> La méthode des clés aléatoires (CKM)</a></li>
<li><a href="#/la-microagrégation" id="/toc-la-microagrégation"><span class="header-section-number">4</span> La microagrégation</a></li>
<li><a href="#/injection-de-bruit" id="/toc-injection-de-bruit"><span class="header-section-number">5</span> Injection de bruit</a></li>
<li><a href="#/targeted-record-swapping-trs" id="/toc-targeted-record-swapping-trs"><span class="header-section-number">6</span> Targeted Record Swapping (TRS)</a></li>
<li><a href="#/post-randomisation-method-pram" id="/toc-post-randomisation-method-pram"><span class="header-section-number">7</span> Post-Randomisation Method (PRAM)</a></li>
<li><a href="#/les-données-synthétiques" id="/toc-les-données-synthétiques"><span class="header-section-number">8</span> Les données synthétiques</a></li>
</ul>
</nav>
</section>
<section>
<section id="introduction" class="title-slide slide level1 unnumbered center" data-background-image="background.svg" data-background-size="contain">
<h1>Introduction</h1>

</section>
<section id="objectifs" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Objectifs</h2>
<div style="font-size: 80%;">
<ul>
<li>Quelles sont les méthodes perturbatrices qui permettent de limiter les risques de divulgation ?<br>
</li>
<li>Quelles méthodes s’appliquent aux données tabulées, lesquelles aux données individuelles ?<br>
</li>
<li>De quel type de risque les méthodes nous protègent-elles?<br>
</li>
<li>Quels sont les conséquences sur la perte d’information ?</li>
</ul>
</div>
</section>
<section id="les-méthodes-principales-à-disposition" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les méthodes principales à disposition</h2>
<div id="tbl-class-meth" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-class-meth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<style type="text/css">
.tg  {border-collapse:collapse;border-color:#C44D58;border-spacing:0;}
.tg td{background-color:#F9CDAD;border-color:#C44D58;border-style:solid;border-width:2px;color:#002b36;
  font-family:Arial, sans-serif;font-size:24px;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{background-color:#FE4365;border-color:#C44D58;border-style:solid;border-width:1px;color:#fdf6e3;
  font-family:Arial, sans-serif;font-size:28px;font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-ouj0{border-color:#fdf6e3;text-align:center;vertical-align:top}
.tg .tg-ukzp{border-color:#fdf6e3;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-jusz{background-color:#fe4365;border-color:#fdf6e3;color:#fdf6e3;font-weight:bold;text-align:center;vertical-align:top}
</style>
<table class="tg">
<thead>
<tr>
<th class="tg-ukzp">
</th>
<th class="tg-ukzp" colspan="2">
Méthodes
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tg-jusz">
Traitements
</td>
<td class="tg-jusz">
Non-Perturbatrices
</td>
<td class="tg-jusz">
Perturbatrices
</td>
</tr>
<tr>
<td class="tg-jusz" rowspan="3">
<br>Avant tabulation <br>(sur micro-données)<br>
</td>
<td class="tg-ouj0">
Ré-échantillonnage
</td>
<td class="tg-ouj0">
Injection de bruit
</td>
</tr>
<tr>
<td class="tg-ouj0">
Recodage des variables
</td>
<td class="tg-ouj0">
Micro-agrégation
</td>
</tr>
<tr>
<td class="tg-ouj0">
Suppression locale
</td>
<td class="tg-ouj0">
Swapping (rang ou ciblé)
</td>
</tr>
<tr>
<td class="tg-jusz" rowspan="3">
<br>Après tabulation <br>(sur données agrégées)<br>
</td>
<td class="tg-ouj0">
Recodage des variables
</td>
<td class="tg-ouj0">
Arrondis
</td>
</tr>
<tr>
<td class="tg-ouj0">
Suppression de cases
</td>
<td class="tg-ouj0">
Clés aléatoires
</td>
</tr>
<tr>
<td class="tg-ouj0">
</td>
<td class="tg-ouj0">
Algo de confidentialité différentielle
</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-class-meth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: : Les méthodes pour gérer la protection des données
</figcaption>
</figure>
</div>
<p>Il existe aussi une autre technique consistant à produire des données synthétiques.</p>
</section>
<section id="perturbatif-vs-suppressif" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perturbatif vs suppressif</h2>
<p>Dans quels cas préférer les méthodes perturbatrices aux méthodes suppressives?</p>
<ul>
<li>Prise en charge de diffusions complexes à traiter avec des méthodes suppressives:
<ul>
<li>nombreux tableaux (diffusion industrielle),</li>
<li>diffusion en plusieurs moments</li>
<li>différenciation géographique ou de nomenclature</li>
</ul></li>
<li>Contrôler la perte d’utilité plus finement:
<ul>
<li>un arbitrage possible en général en jouant sur les paramètres du bruit</li>
<li>pas de suppression =&gt; une information disponible et manipulable</li>
</ul></li>
<li>Un cadre institutionnel qui autorise un tel usage</li>
</ul>
</section>
<section id="perturbatif-vs-suppressif-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perturbatif vs suppressif</h2>
<p>Certaines limites des méthodes perturbatrices:</p>
<ul>
<li>Dans certains cas, perte de caractéristiques basiques des données (additivité dans les tableaux)</li>
<li>Une perception du traitement du secret moins immédiate qu’avec le blanchiment</li>
<li>Une pédagogie nécessaire vis-à-vis du public pour l’utilisation des données</li>
<li>Des règles historiques de secret à revisiter car adaptées pour des méthodes suppressives</li>
</ul>
</section></section>
<section>
<section id="les-méthodes-post-tabulation" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="1">
<h1><span class="header-section-number">1</span> Les méthodes post-tabulation</h1>

</section>
<section id="les-méthodes-post-tabulation-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les méthodes post-tabulation</h2>
<ul>
<li>Méthodes qui sont appliquées sur les données agrégées</li>
<li>Certaines méthodes (en particulier les arrondis) sont plus adaptées aux comptages qu’aux volumes</li>
<li>Perturbation de tout ou partie des tableaux selon la méthode</li>
</ul>
</section>
<section id="quelques-enjeux" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Quelques enjeux ?</h2>
<p>En perturbant les données dans des tableaux:</p>
<ul>
<li>Faut-il tout perturber ou seulement une partie ?</li>
<li>Comment assurer la cohérence entre les tableaux ?</li>
<li>Faut-il préserver l’additivité au sein des tabeaux ?</li>
</ul>
<p>En répondant à ces questions, on s’orientera vers une méthode plutôt qu’une autre.</p>
</section></section>
<section>
<section id="méthodes-darrondi-et-apparentées" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="2">
<h1><span class="header-section-number">2</span> Méthodes d’arrondi et apparentées</h1>

</section>
<section id="méthodes-darrondi-et-apparentées-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Méthodes d’arrondi et apparentées</h2>
<ul>
<li>Arrondis déterministes</li>
<li>Arrondis aléatoires</li>
<li>Small Count Rounding</li>
<li>Controlled Rounding</li>
</ul>
<p>Des méthodes principalement adaptées aux tableaux de comptages.</p>
<p>Pour plus d’informations: <a href="">https://sdctools.github.io/HandbookSDC/05-frequency-tables.html#sec-Rounding_freq</a> <span class="citation" data-cites="hundepool_handbook_2024">(<a href="#/références" role="doc-biblioref" onclick="">Hundepool et al. 2024</a>)</span></p>
</section>
<section id="un-exemple" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<p>Supposons le tableau de comptage suivant (en gras les informations jugées sensibles)</p>
<div id="tbl-compt-orig" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-compt-orig-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Nombre d’entreprises en fonction de leur implantation et du caractère polluant de leurs activités</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Caractéristique</th>
<th style="text-align: center;">Nord</th>
<th style="text-align: center;">Ouest</th>
<th style="text-align: center;">Sud</th>
<th style="text-align: center;">Est</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Polluante</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">28</td>
</tr>
<tr class="even">
<td style="text-align: center;">Non-Polluante</td>
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">19</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Total</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">47</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-compt-orig-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Nombre d’entreprises en fonction de leur implantation et du caractère polluant de leurs activités
</figcaption>
</figure>
</div>
</section>
<section id="arrondis-déterministes-ou-aléatoires" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Arrondis déterministes ou aléatoires</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Arrondir</strong></p>
</div>
<div class="callout-content">
<p>Arrondir un comptage <span class="math inline">\(x\)</span>, c’est ramener sa valeur à un multiple de la base d’arrondi <span class="math inline">\(b\)</span> choisie:</p>
<ul>
<li>Soit au multiple le plus proche (arrondi déterministe)
<ul>
<li>=&gt; Un arrondi déterministe renvoie toujours la même valeur</li>
</ul></li>
<li>Soit, aléatoirement, à l’un des deux multiples les plus proches (arrondi aléatoire).
<ul>
<li>L’arrondi est sans biais en choisissant les probabilités adéquates.</li>
<li>Cette technique offre une meilleure protection</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Exemple</strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(b=10\)</span> et <span class="math inline">\(x=23\)</span>:</p>
<ul>
<li>Arrondi déterministe: <span class="math inline">\(x^\prime = 20\)</span>.</li>
<li>Arrondi aléatoire:
<ul>
<li><span class="math inline">\(x^\prime = 20\)</span> avec probabilité de <span class="math inline">\(0.7\)</span> ou</li>
<li><span class="math inline">\(x^\prime = 30\)</span> probabilité de <span class="math inline">\(0.3\)</span>.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="un-exemple-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-compt-arr" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-compt-arr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Application d’un arrondi déterministe de base <span class="math inline">\(b=5\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.4\)</span>.)</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Caractéristique</th>
<th style="text-align: center;">Nord</th>
<th style="text-align: center;">Ouest</th>
<th style="text-align: center;">Sud</th>
<th style="text-align: center;">Est</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Polluante</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>30</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;">Non-Polluante</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>20</strong></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Total</td>
<td style="text-align: center;"><strong>10</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;">20</td>
<td style="text-align: center;"><strong>45</strong></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-compt-arr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Application d’un arrondi déterministe de base <span class="math inline">\(b=5\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.4\)</span>.)
</figcaption>
</figure>
</div>
</section>
<section id="arrondis-des-petits-comptages" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Arrondis des petits comptages</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Small Count Rounding</strong></p>
</div>
<div class="callout-content">
<p>Algorithme appliqué à des tableaux de données assurant:</p>
<ul>
<li>l’arrondi des petits comptages (cad les plus sensibles) dans une base <span class="math inline">\(b\)</span></li>
<li>des comptages supplémentaires sont déviés pour:
<ul>
<li>conserver l’additivité dans les tableaux</li>
<li>et minimiser la perturbation globale</li>
</ul></li>
</ul>
<p>Technique implémentée dans le package <code>R</code> <code>SmallCountRounding</code></p>
</div>
</div>
</div>
</section>
<section id="un-exemple-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-compt-smcr" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-compt-smcr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Application d’un algorithme de type Small Count Rounding (Moyenne des écarts absolus: <span class="math inline">\(1.07\)</span>.)</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Caractéristique</th>
<th style="text-align: center;">Nord</th>
<th style="text-align: center;">Ouest</th>
<th style="text-align: center;">Sud</th>
<th style="text-align: center;">Est</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Polluante</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">28</td>
</tr>
<tr class="even">
<td style="text-align: center;">Non-Polluante</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;">13</td>
<td style="text-align: center;"><strong>18</strong></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Total</td>
<td style="text-align: center;"><strong>11</strong></td>
<td style="text-align: center;"><strong>14</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;">20</td>
<td style="text-align: center;"><strong>45</strong></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-compt-smcr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Application d’un algorithme de type Small Count Rounding (Moyenne des écarts absolus: <span class="math inline">\(1.07\)</span>.)
</figcaption>
</figure>
</div>
</section>
<section id="arrondi-contrôlé" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Arrondi contrôlé</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Controlled Rounding</strong></p>
</div>
<div class="callout-content">
<p>Algorithme appliqué à des tableaux de données assurant:</p>
<ul>
<li>l’arrondi de tous les comptages selon une base <span class="math inline">\(b\)</span></li>
<li>tout en assurant:
<ul>
<li>la conservation de l’additivité dans les tableaux</li>
<li>la minimisation de la somme des différences absolues entre valeurs originales et arrondies</li>
</ul></li>
</ul>
<p>Technique implémentée dans le logiciel <code>Tau-ARGUS</code></p>
</div>
</div>
</div>
<!---
## Controlled Tabular adjustment (CTA)

Les valeurs des cellules sensibles sont perturbées pour respecter un **intervalle de protection**. Les autres cellules sont ajustées pour restaurer l'additivité dans les tableaux.
--->
</section>
<section id="un-exemple-3" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-compt-arr-ctr" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-compt-arr-ctr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Application d’un arrondi contrôlé avec une base <span class="math inline">\(b=5\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.5\)</span>.)</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Caractéristique</th>
<th style="text-align: center;">Nord</th>
<th style="text-align: center;">Ouest</th>
<th style="text-align: center;">Sud</th>
<th style="text-align: center;">Est</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Polluante</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>25</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;">Non-Polluante</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>20</strong></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Total</td>
<td style="text-align: center;"><strong>10</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>20</strong></td>
<td style="text-align: center;"><strong>45</strong></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-compt-arr-ctr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: Application d’un arrondi contrôlé avec une base <span class="math inline">\(b=5\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.5\)</span>.)
</figcaption>
</figure>
</div>
<!---
## Controlled Tabular Adjustment 
::: frame

avec un intervalle de protection = $[0;5]$

         Région                                    
  ----- -------- -------- -------- ------- ------- ----
   3-7    Nord    Ouest     Est      Sud    Total  
          Oui     **5**    **16**   **0**     7     28
   2-7    Non     **6**    **0**    **0**    13     19
   2-7   Total    **11**     16     **0**    20     47

Moyenne des écarts absolus: $0.933$.
:::

## Avantages / inconvénients

  **Avantages**                                                      **Inconvénients**
  ------------------------------------------------------------------ -------------------------------------------------------------------------------------------------------
  Conservation de l'additivité                                       CR et CTA: Recherche de la solution optimale sur grands tableaux très couteuse en temps (optim. lin.)
  SCR: Algorithme très efficace sur R                                CR: Une perte d'information parfois excessive
  Perception de la protection (en particulier des petites valeurs)   Difficile à utiliser dans le cadre d'une diffusion complexe

--->
</section></section>
<section>
<section id="la-méthode-des-clés-aléatoires-ckm" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="3">
<h1><span class="header-section-number">3</span> La méthode des clés aléatoires (CKM)</h1>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>La méthode des clés aléatoires</strong></p>
</div>
<div class="callout-content">
<p>Méthode qui consiste à dévier tous les comptages indépendamment les uns des autres:</p>
<ul>
<li>chaque comptage est dévié d’une valeur comprise entre <span class="math inline">\(-D\)</span> et <span class="math inline">\(+D\)</span>, <span class="math inline">\(D\)</span> étant un paramètre de la méthode;</li>
<li>une case est toujours perturbée de la même manière grâce à l’utilisation de <strong>clés individuelles</strong></li>
<li>un comptage nul n’est pas perturbé;</li>
<li>la quantité de bruit injecté dans les tableaux est de variance <span class="math inline">\(V\)</span>, un autre paramètre de la méthode.</li>
</ul>
<p>Sources: <span class="citation" data-cites="thompson_methodology_2013">Thompson, Broadfoot, et Elazar (<a href="#/références" role="doc-biblioref" onclick="">2013</a>)</span>, <span class="citation" data-cites="chipperfield_australian_2016">Chipperfield, Gow, et Loong (<a href="#/références" role="doc-biblioref" onclick="">2016</a>)</span>, <span class="citation" data-cites="giesing_concepts_2019">Gießing et Tent (<a href="#/références" role="doc-biblioref" onclick="">2019</a>)</span></p>
</div>
</div>
</div>
</section>
<section id="la-distribution-de-probabilités" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>La distribution de probabilités</h2>
<p>Propriétés :</p>
<ul>
<li><p>Une déviation maximale D et une variance V sont fixés en amont</p></li>
<li><p>Le bruit injecté est sans biais</p></li>
<li><p>La loi de probabilité de la déviation injectée est définie à partir d’une matrice de transition</p></li>
</ul>
</section>
<section id="un-exemple-4" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-compt-ckm" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-compt-ckm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Application de la CKM avec <span class="math inline">\(D = 5\)</span> et <span class="math inline">\(V = 3\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.1\)</span>)</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Caractéristique</th>
<th style="text-align: center;">Nord</th>
<th style="text-align: center;">Ouest</th>
<th style="text-align: center;">Sud</th>
<th style="text-align: center;">Est</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Polluante</td>
<td style="text-align: center;"><strong>4</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>8</strong></td>
<td style="text-align: center;"><strong>28</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;">Non-Polluante</td>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: center;"><strong>15</strong></td>
<td style="text-align: center;"><strong>20</strong></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Total</td>
<td style="text-align: center;"><strong>10</strong></td>
<td style="text-align: center;"><strong>16</strong></td>
<td style="text-align: center;"><strong>4</strong></td>
<td style="text-align: center;"><strong>21</strong></td>
<td style="text-align: center;"><strong>46</strong></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-compt-ckm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: Application de la CKM avec <span class="math inline">\(D = 5\)</span> et <span class="math inline">\(V = 3\)</span> (Moyenne des écarts absolus: <span class="math inline">\(1.1\)</span>)
</figcaption>
</figure>
</div>
</section>
<section id="les-usages" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les usages</h2>
<p>La méthode est utilisée par plusieurs INS:</p>
<ul>
<li><p>Depuis 2006, ABS met à disposition un outil de requêtage en ligne pour obtenir des données de son recensement quinquennal. Les données sont protégées avec la CKM. (<a href="https://tablebuilder.abs.gov.au" class="uri">https://tablebuilder.abs.gov.au</a>)</p></li>
<li><p>La CKM est une des méthodes préconisées par Eurostat pour protéger les données du Census européen 2021.</p></li>
<li><p>Dans ce cadre, Destatis utilise la CKM pour diffuser des données sur des grilles de 500m.</p></li>
<li><p>2024/2025: l’Insee diffuse les données sur les Quartiers de la Politique de la Ville (QPV).</p></li>
</ul>
</section>
<section id="etape-1-création-dune-clé-individuelle-aléatoire" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Etape 1: Création d’une clé individuelle aléatoire</h2>
<div style="text-align:center;">
<div id="fig-mat-trans" class="quarto-float quarto-figure quarto-figure-center" alt="Ajout des clés individuelles aux micro-données" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/ckm-ind-cles.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="Ajout des clés individuelles aux micro-données">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Arbitrer
</figcaption>
</figure>
</div>
</div>
<!---
Supposons que la base $\mathcal{B}$ soit composé des 6 individus suivant et qu'à chacun on associe une clé :

::: {#tbl-ckm-ind .table .table-striped .table-hover .table-bordered}

  **id**   **Ville**   **Ecole**    **KEY**
-------- ----------- ----------- -----------
    1       Rennes       Ensai     0.9177275
    2        Paris       Mines     0.1850062
    3       Rennes       Ensai     0.6266963
    4        Lyon      Centrale    0.1117820
    5      Marseille   Centrale    0.6496634
    6        Lille     Centrale    0.2813433

: Ajout d'une clé aléatoire dans le jeu de données individuelles
:::
--->
</section>
<section id="etape-2-construction-du-tableau" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Etape 2: Construction du tableau</h2>
<div style="text-align:center;">
<div id="fig-mat-trans" class="quarto-float quarto-figure quarto-figure-center" alt="Construction du tableau et des clés de chaque case" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/ckm-table-depart.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="Construction du tableau et des clés de chaque case">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Construction du tableau et des clés de chaque case
</figcaption>
</figure>
</div>
</div>
<!-- 
Nous souhaitons diffuser le nombre d'individus selon leur école.

On a :

::: center
   **Ecole**   **i**   **individus**   **Skey**     **CK**
  ----------- ------- --------------- ----------- -----------
     Ensai       2         {1,3}       1.544424    0.544425
     Mines       1          {2}        0.1805062   0.1805062
   Centrale      3        {4,5,6}      1.0422789    0.42789
     Total       6     {1,2,3,4,5,6}   2.772219    0.772219
::: -->
</section>
<section id="etape-3-les-probabilités-de-transition" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Etape 3: Les probabilités de transition</h2>
<div style="text-align:center;">
<div id="fig-mat-trans" class="quarto-float quarto-figure quarto-figure-center" alt="Matrice de transition pour D=2 et V=1" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/ckm-mat-trans.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="Matrice de transition pour D=2 et V=1">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mat-trans-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Matrice de transition pour D=2 et V=1
</figcaption>
</figure>
</div>
</div>
<!---

::: {.cell layout-align="center"}
::: {.cell-output-display}
![Probabilités de transition pour $D = 3$ et $V = 1.5$](methodes-perturbatrices_files/figure-revealjs/fig-cnt-table-1.png){#fig-cnt-table fig-align='center' width=960}
:::
:::

--->
</section>
<section id="etape-4-déterminer-la-perturbation-à-injecter" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Etape 4 : Déterminer la perturbation à injecter</h2>
<div style="text-align:center;">
<div id="fig-tab-pert" class="quarto-float quarto-figure quarto-figure-center" alt="La perturbation à injecter" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-tab-pert-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/ckm-table-pert.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="La perturbation à injecter">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tab-pert-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: La perturbation à injecter” fig-align=“center
</figcaption>
</figure>
</div>
</div>
<!-- 
   i   j       p        v     p_int_lb     p_int_ub
  --- --- ------------ ---- ------------ ------------
   0   0   1.00000000   0    0.00000000   1.00000000
   1   0   0.37967089   -1   0.00000000   0.37967089
   1   1   0.37967089   0    0.37967089   0.75934178
   1   2   0.13660124   1    0.75934178   0.89594302
   1   3   0.06910130   2    0.89594302   0.96504432
   1   4   0.03495568   3    0.96504432   1.00000000
   2   0   0.11466600   -2   0.00000000   0.11466600
   2   1   0.24491770   -1   0.11466600   0.35958370
   2   2   0.30449462   0    0.35958370   0.66407832
   2   3   0.22034995   1    0.66407832   0.88442827
   2   4   0.09281544   2    0.88442827   0.97724371
   2   5   0.02275629   3    0.97724371   1.00000000
   3   0   0.01792237   -3   0.00000000   0.01792237
   3   1   0.08898737   -2   0.01792237   0.10690974
   3   2   0.23274919   -1   0.10690974   0.33965893
   3   3   0.32068214   0    0.33965893   0.66034107
   3   4   0.23274919   1    0.66034107   0.89309026
   3   5   0.08898737   2    0.89309026   0.98207763
   3   6   0.01792237   3    0.98207763   1.00000000
::: -->
</section>
<section id="etape-5-construire-le-tableau-final" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Etape 5 : Construire le tableau final</h2>
<div style="text-align:center;">
<div id="fig-tab-finale" class="quarto-float quarto-figure quarto-figure-center" alt="Table après perturbation" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-tab-finale-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/ckm-table-finale.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="Table après perturbation">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tab-finale-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Table après perturbation
</figcaption>
</figure>
</div>
</div>
<!-- 
::: center
   **Ecole**   **Valeur originale i**   **Valeur pertubée j**     
  ----------- ------------------------ ----------------------- -- --
     Ensai               2                        2               
     Mines               1                        0               
   Centrale              3                        3               
     Total               6                        7               
:::
::: -->
</section>
<section id="avantages-inconvénients" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Avantages / inconvénients</h2>
<div id="tbl-ckm-avtg-incv" class="table table-striped table-hover quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover">
<caption>Avantages et onconvénients de la méthode des clés aléatoires</caption>
<colgroup>
<col style="width: 41%">
<col style="width: 58%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Avantages</th>
<th style="text-align: center;">Inconvénients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Facile d’implémentation</td>
<td style="text-align: center;">Perte de l’additivité</td>
</tr>
<tr class="even">
<td style="text-align: center;">Cohérence des tableaux</td>
<td style="text-align: center;">Perception de gestion du secret moins facile</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Réduit les risques de différenciation</td>
<td style="text-align: center;">Cumulation des bruits pour les statistiques de second ordre (ratios par ex.)</td>
</tr>
<tr class="even">
<td style="text-align: center;">Compatible avec le requêtage</td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Compatible avec une diffusion sur mesure</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">A protection égale, meilleure utilité que les arrondis</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: Avantages et onconvénients de la méthode des clés aléatoires
</figcaption>
</figure>
</div>
</section></section>
<section>
<section id="la-microagrégation" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="4">
<h1><span class="header-section-number">4</span> La microagrégation</h1>
<ul>
<li><p>Méthode perturbatrice, plus adaptée aux variables continues, mais peut-être adaptée aux variables catégorielles ordonnées</p></li>
<li><p>Idée principale :</p>
<ul>
<li><p><strong>Créer des petits groupes homogènes</strong> en prenant en compte les valeurs des variables sélectionnées</p></li>
<li><p><strong>Remplacer les valeurs</strong> de tous les individus appartenant au groupe <strong>par une unique valeur</strong> (peut être la valeur moyenne de valeurs observées dans le groupe)</p></li>
</ul></li>
</ul>
</section>
<section id="un-exemple-5" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-ckm-avtg-incv" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Des données individuelles avec des uniques sur les croisements Âge <span class="math inline">\(\times\)</span> Région</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Région</th>
<th style="text-align: center;">Âge</th>
<th style="text-align: center;">Heures travaillées par semaine</th>
<th style="text-align: center;">Revenu mensuel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">1000</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">2000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">52</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1100</td>
</tr>
<tr class="even">
<td style="text-align: center;">94</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">2500</td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1900</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">26</td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">1500</td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">38</td>
<td style="text-align: center;">800</td>
</tr>
<tr class="even">
<td style="text-align: center;">94</td>
<td style="text-align: center;">48</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">1200</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Des données individuelles avec des uniques sur les croisements Âge <span class="math inline">\(\times\)</span> Région
</figcaption>
</figure>
</div>
</section>
<section id="un-exemple-6" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div id="tbl-ckm-avtg-incv" class="table table-striped table-hover table-bordered quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover table-bordered">
<caption>Des données individuelles avec des uniques sur les croisements Âge <span class="math inline">\(\times\)</span> Région</caption>
<colgroup>
<col style="width: 30%">
<col style="width: 35%">
<col style="width: 23%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Région</th>
<th style="text-align: center;">Âge</th>
<th style="text-align: center;">Heures travaillées par semaine</th>
<th style="text-align: center;">Revenu mensuel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span style="background-color:#fbff91;">92</span></td>
<td style="text-align: center;"><span style="background-color:#fbff91;"><del>36</del> 31</span></td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">1000</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span style="background-color:#ff796d;">75</span></td>
<td style="text-align: center;"><span style="background-color:#ff796d;"><del>41</del> 45</span></td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">2000</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span style="background-color:#ff796d;">75</span></td>
<td style="text-align: center;"><span style="background-color:#ff796d;"><del>52</del> 45</span></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1100</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span style="background-color:#baf2c2;">94</span></td>
<td style="text-align: center;"><span style="background-color:#baf2c2;"><del>45</del> 47</span></td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">2500</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span style="background-color:#ff796d;">75</span></td>
<td style="text-align: center;"><span style="background-color:#ff796d;"><del>41</del> 45</span></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1900</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span style="background-color:#fbff91;">92</span></td>
<td style="text-align: center;"><span style="background-color:#fbff91;"><del>26</del> 31</span></td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">1500</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span style="background-color:#fbff91;">92</span></td>
<td style="text-align: center;"><span style="background-color:#fbff91;"><del>31</del> 31</span></td>
<td style="text-align: center;">38</td>
<td style="text-align: center;">800</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span style="background-color:#baf2c2;">94</span></td>
<td style="text-align: center;"><span style="background-color:#baf2c2;"><del>48</del> 47</span></td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">1200</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-ckm-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Des données individuelles avec des uniques sur les croisements Âge <span class="math inline">\(\times\)</span> Région
</figcaption>
</figure>
</div>
<p><!-- -------- ----------- -------------------- ------------
   Région      Age      Heures travaillées     Poids
                           par semaine       de sondage
     92     ~~36~~ 31           17              1000
     [red]{style="color:green;"}75     ~~41~~ 45           35              2000
     75     ~~52~~ 45           0               1100
     94     ~~45~~ 47           35              2500
     75     ~~41~~ 45           0               1900
     92     ~~26~~ 31           46              1500
     92     ~~31~~ 31           38              800
     94     ~~48~~ 47           30              1200
  -------- ----------- -------------------- ------------ --></p>
<ul>
<li><span class="math inline">\(\mu_{red} = 45\)</span>, <span class="math inline">\(\mu_{yellow} = 31\)</span>, <span class="math inline">\(\mu_{green} = 47\)</span></li>
</ul>
</section>
<section id="paramètres" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Paramètres</h2>
<p>Un grand nombre de sorties possibles pour cette méthode selon :</p>
<ul>
<li><p>la définition d’homogénéité choisie</p></li>
<li><p>l’algorithme utilisé pour construire les groupes</p></li>
<li><p>la détermination de la valeur de remplacement</p></li>
</ul>
<p>Les paramètres à définir :</p>
<ul>
<li><p>Taille <span class="math inline">\(g\)</span> de chaque groupe (plus la taille du groupe est grande, plus grande sera la perte d’information, et plus celle-ci est grande, plus le niveau de protection est élevé ..)</p></li>
<li><p>Quelles variables sont utilisées pour calculer la distance ?</p></li>
<li><p>Quelles statistiques choisir une fois que les groupes ont été formés ? (moyenne, médiane ?)</p></li>
</ul>
</section>
<section id="minimiser-la-variance-intra-groupe" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Minimiser la variance intra-groupe</h2>
<div style="text-align:center;">
<div id="fig-within" class="quarto-float quarto-figure quarto-figure-center" alt="Minimisation de la variance intra-groupe" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-within-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/within.png" class="quarto-figure quarto-figure-center" style="width:50.0%" alt="Minimisation de la variance intra-groupe">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-within-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Table après perturbation
</figcaption>
</figure>
</div>
</div>
<p>L’algorithme cherche à minimiser la somme des carrés intra-groupe:</p>
<p><span class="math display">\[SSE = \sum_{i=1}^g\sum_{j \in i} (x_{ij}-\bar x_{i})^T(x_{ij}-\bar x_{i})\]</span></p>
</section>
<section id="avantages-inconvénients-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Avantages / inconvénients</h2>
<div id="tbl-bruit-add-avtg-incv" class="table table-striped table-hover quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-bruit-add-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover">
<caption>Avantages et inconvénients de l’injection d’un bruit additif</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Avantages</th>
<th style="text-align: center;">Inconvénients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Adapté au <span class="math inline">\(k\)</span>-anonymat</td>
<td style="text-align: center;">Temps de calcul important</td>
</tr>
<tr class="even">
<td style="text-align: center;">Des classes statistiquement pertinentes</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-bruit-add-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Avantages et inconvénients de l’injection d’un bruit additif
</figcaption>
</figure>
</div>
</section></section>
<section>
<section id="injection-de-bruit" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="5">
<h1><span class="header-section-number">5</span> Injection de bruit</h1>

</section>
<section id="injection-de-bruit-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Injection de bruit</h2>
<ul>
<li><p>Méthode adaptée pour traiter les variables continues</p></li>
<li><p>En général, on injecte un bruit additif sans biais et à variance fixe</p></li>
<li><p>Enjeu principal: comment bruiter en préservant les caractéristiuqes des variables et de leurs éventuels liens ?</p></li>
</ul>
</section>
<section id="perturbation-par-un-bruit-additif" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perturbation par un bruit additif</h2>
<ul>
<li>Un bruit est ajouté à chaque valeur observée</li>
<li>Généralement un bruit gaussien d’espérance nulle</li>
<li>Adapté aux variables continues de faible amplitude</li>
</ul>
</section>
<section id="bruits-additifs-indépendants" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Bruits additifs indépendants</h2>
<ul>
<li><p>Chaque variable est bruitée indépendamment des autres variables</p></li>
<li><p>Les moyennes et covariances de chaque variable perturbée sont préservées</p></li>
<li><p>Mais, les variances et les coefficients de corrélation ne sont pas conservés</p></li>
</ul>
</section>
<section id="bruits-additifs-corrélés" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Bruits additifs corrélés</h2>
<ul>
<li><p>La matrice de variance-covariance des bruits est proportionnelle à la matrice de variance covariance des valeurs originales</p></li>
<li><p>Conservation de la moyenne et des coefficients de corrélation</p></li>
<li><p>Préférable à l’ajout des bruits indépendants car on peut obtenir des estimations non biaisées pour plusieurs statistiques importantes</p></li>
</ul>
</section>
<section id="avantages-inconvénients-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Avantages / inconvénients</h2>
<div id="tbl-bruit-add-avtg-incv" class="table table-striped table-hover quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-bruit-add-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover">
<caption>Avantages et inconvénients de l’injection d’un bruit additif</caption>
<colgroup>
<col style="width: 42%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Avantages</th>
<th style="text-align: center;">Inconvénients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Traitement de variables sensibles continues</td>
<td style="text-align: center;">Pas adapté aux traitements des outliers de grandes valeurs</td>
</tr>
<tr class="even">
<td style="text-align: center;">Préservations de statistiques importantes</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-bruit-add-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11: Avantages et inconvénients de l’injection d’un bruit additif
</figcaption>
</figure>
</div>
</section></section>
<section>
<section id="targeted-record-swapping-trs" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="6">
<h1><span class="header-section-number">6</span> Targeted Record Swapping (TRS)</h1>

</section>
<section id="targeted-record-swapping-trs-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Targeted Record Swapping (TRS)</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Définition</strong></p>
</div>
<div class="callout-content">
<p>Le <code>Target Record Swapping (TRS)</code> est une méthode s’appliquant directement sur un jeu de données individuelles pour réduire les risques de ré-identification.</p>
<p>Il consiste à échanger la localisation de certains individus jugés à risque avec d’autres individus d’une autre entité géographique.</p>
<p>D’où son nom: le <em>swapping</em>, c’est-à-dire l’échange, va concerner des unités de la base (les <em>records</em>) détectés à l’avance, devenant ainsi les cibles (<em>target</em>) sur lesquelles l’échange se concentrera.</p>
</div>
</div>
</div>
</section>
<section id="les-individus-à-risque-cibles" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les individus à risque (cibles)</h2>
<ul>
<li>Cible les individus à risque:
<ul>
<li>Détection par <span class="math inline">\(k\)</span>-anonymat: croisements de quasi-identifiants de moins de <span class="math inline">\(k\)</span> individus</li>
<li>Détection par <span class="math inline">\(l\)</span>-diversité: homogénéité d’un groupe sur une variable sensible</li>
<li>Mesure probabiliste du risque individuel</li>
<li>Principalement un risque de ré-identification</li>
</ul></li>
</ul>
</section>
<section id="une-méthode-très-utilisée" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Une méthode très utilisée</h2>
<ul>
<li><p>Insee: Données européennes du recensement 2021</p></li>
<li><p>Eurostat préconise cette méthode (couplée à la CKM) pour la diffusion du Census européen</p></li>
<li><p>US Census Bureau: Recensement US 2010</p></li>
<li><p>ONS (UK): Recensement depuis 2010</p></li>
</ul>
</section>
<section id="un-exemple-7" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div style="text-align:center;">
<div id="fig-swap-avt" class="quarto-float quarto-figure quarto-figure-center" alt="Avant swapping" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-swap-avt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/swapping-exemple-avant.png" class="quarto-figure quarto-figure-center" style="width:80.0%" alt="Avant swapping">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-swap-avt-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Avant Swapping
</figcaption>
</figure>
</div>
</div>
</section>
<section id="un-exemple-8" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<div style="text-align:center;">
<div id="fig-swap-apr" class="quarto-float quarto-figure quarto-figure-center" alt="Après swapping" data-fig-align="center">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-swap-apr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="img/swapping-exemple-apres.png" class="quarto-figure quarto-figure-center" style="width:80.0%" alt="Après swapping">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-swap-apr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Après Swapping
</figcaption>
</figure>
</div>
</div>
</section>
<section id="avantages-inconvénients-3" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Avantages / inconvénients</h2>
<div id="tbl-trs-avtg-incv" class="table table-striped table-hover quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-trs-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover">
<caption>Avantages et inconvénients du TRS</caption>
<colgroup>
<col style="width: 45%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Avantages</th>
<th style="text-align: center;">Inconvénients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Efficace pour traiter différents types de risque</td>
<td style="text-align: center;">Nécessite de fixer un grand nombre de paramètres (mesure de risque, variables similarité, taux de swapping)</td>
</tr>
<tr class="even">
<td style="text-align: center;">Méthode souple, adaptation à des cas très différents (structures ménages-individus par ex.)</td>
<td style="text-align: center;">Bruit injecté dans les données n’est pas vraiment contrôlable</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Préserve les agrégats du niveau géographique au sein duquel le swapping a été opéré.</td>
<td style="text-align: center;">Génère localement du biais dans les données</td>
</tr>
<tr class="even">
<td style="text-align: center;">Conserve l’additivité des tableaux générés à partir des micro-données bruitées.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-trs-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12: Avantages et inconvénients du TRS
</figcaption>
</figure>
</div>
</section></section>
<section>
<section id="post-randomisation-method-pram" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="7">
<h1><span class="header-section-number">7</span> Post-Randomisation Method (PRAM)</h1>

</section>
<section id="méthode-pram" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Méthode PRAM</h2>
<ul>
<li><p>Permet de traiter les <strong>variables</strong> sensibles <strong>catégorielles</strong> en bruitant les données.</p></li>
<li><p>Consiste à modifier aléatoirement l’appartenance des individus à une classe donnée.</p></li>
<li><p>Méthode particulièrement intéressante pour traiter les <strong>divulgations d’attributs sensibles</strong> : un attaquant ne peut avoir aucune certitude sur l’attribut d’une observation.</p></li>
</ul>
</section>
<section id="un-exemple-9" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;">Region</td>
<td style="text-align: center;">Age</td>
<td style="text-align: left;">Situation pro.</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">Inactif</td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: left;">Chômeur</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">52</td>
<td style="text-align: left;">Actif</td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">45</td>
<td style="text-align: left;">Actif</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: left;">Chômeur</td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">26</td>
<td style="text-align: left;">Actif</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">31</td>
<td style="text-align: left;">Actif</td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">14</td>
<td style="text-align: left;">Inactif</td>
</tr>
</tbody>
</table>
<ul>
<li>Inactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind.</li>
</ul>
</section>
<section id="un-exemple-10" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;">Region</td>
<td style="text-align: center;">Age</td>
<td style="text-align: center;">Situation pro.</td>
<td style="text-align: center;">Situation pro. (PRAM)</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">Inactif</td>
<td style="text-align: center;"><span style="color: red">Chômeur</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">Chômeur</td>
<td style="text-align: center;"><span style="color: red">Actif</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">52</td>
<td style="text-align: center;">Actif</td>
<td style="text-align: center;"><span style="color: blue">Actif</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">Actif</td>
<td style="text-align: center;"><span style="color: blue">Actif</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">Chômeur</td>
<td style="text-align: center;"><span style="color: red">Inactif</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">26</td>
<td style="text-align: center;">Actif</td>
<td style="text-align: center;"><span style="color: blue">Actif</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">Actif</td>
<td style="text-align: center;"><span style="color: red">Chômeur</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">48</td>
<td style="text-align: center;">Inactif</td>
<td style="text-align: center;"><span style="color: blue">Inactif</span></td>
</tr>
</tbody>
</table>
<ul>
<li>Inactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind.</li>
</ul>
</section>
<section id="un-exemple-11" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple</h2>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;">Region</td>
<td style="text-align: center;">Age</td>
<td style="text-align: right;">Situation pro.</td>
<td style="text-align: center;">Situation pro. (PRAM)</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;"><span style="color: red"><strong>14</strong></span></td>
<td style="text-align: right;">Inactif</td>
<td style="text-align: center;"><span style="color: red"><strong>Chômeur</strong></span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: right;">Chômeur</td>
<td style="text-align: center;">Actif</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">52</td>
<td style="text-align: right;">Actif</td>
<td style="text-align: center;">Actif</td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">45</td>
<td style="text-align: right;">Actif</td>
<td style="text-align: center;">Actif</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: right;">Chômeur</td>
<td style="text-align: center;">Inactif</td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">26</td>
<td style="text-align: right;">Actif</td>
<td style="text-align: center;">Actif</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">31</td>
<td style="text-align: right;">Actif</td>
<td style="text-align: center;">Chômeur</td>
</tr>
<tr class="odd">
<td style="text-align: center;">94</td>
<td style="text-align: center;">48</td>
<td style="text-align: right;">Inactif</td>
<td style="text-align: center;">Inactif</td>
</tr>
</tbody>
</table>
<ul>
<li>Attention aux incohérences !</li>
</ul>
</section>
<section id="la-matrice-de-transition" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>La matrice de transition</h2>
<p>On a besoin de définir une <span style="color: red"><strong>matrice de transition</strong></span> pour pouvoir définir les probabilités de transition.</p>
<ul>
<li><p>Soit <span class="math inline">\(\xi\)</span> la variable catégorielle initiale avec <span class="math inline">\(K\)</span> catégories <span class="math inline">\(1 \dots K\)</span><br>
<span class="math inline">\(\rightarrow\)</span> dans l’exemple, <span class="math inline">\(\xi\)</span> = Situation professionnelle, K = 3</p></li>
<li><p>Soit <span class="math inline">\(X\)</span> la même variable catégorielle dans le jeu de données perturbé<br>
<span class="math inline">\(\rightarrow\)</span> dans l’exemple, <span class="math inline">\(X\)</span> = Situation professionnelle (PRAM)</p></li>
</ul>
</section>
<section id="la-matrice-de-transition-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>La matrice de transition</h2>
<p>On peut définir la matrice de transition <span class="math inline">\(P\)</span>,</p>
<p><span class="math display">\[P =(p_{kl})_{1 \leq k,l \leq K}\]</span></p>
<p>où <span class="math inline">\(p_{kl} = P(X =l|\xi = k)\)</span></p>

<img data-src="./img/matrice_transition_PRAM.png" class="quarto-figure quarto-figure-center r-stretch" style="width:5.0%"></section>
<section id="comment-choisir-la-matrice-de-transition" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Comment choisir la matrice de transition ?</h2>
<ul>
<li><p>PRAM change aléatoirement les comptages de la population :</p>
<p><span class="math display">\[\mathbb{E}\begin{pmatrix} N^{pram}_{I} \\N^{pram}_{E}\\ N^{pram}_{U} \end{pmatrix} = P^{T} \begin{pmatrix}N_{I} \\N_{E}\\ N_{U} \end{pmatrix}\]</span></p></li>
<li><p>Selon P <strong><span style="color: red">et les comptages originaux</span></strong>, les marges peuvent être beaucoup perturbées !</p></li>
<li><p>Des coefficients diagonaux élevés peuvent être insuffisants</p></li>
</ul>
</section>
<section id="un-exemple-numérique" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple numérique</h2>
<ul>
<li><p>Marges originales</p>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Ina</th>
<th>ctif Act</th>
<th>if Chô</th>
<th style="text-align: left;">meur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Fréquence (million)</td>
<td>16.8</td>
<td>49</td>
<td style="text-align: left;">4.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">Pourcentage</td>
<td>24 %</td>
<td>70 %</td>
<td style="text-align: left;">6 %</td>
</tr>
</tbody>
</table></li>
<li><p>Matrice de transition <span class="math inline">\(P\)</span> :</p></li>
</ul>

<img data-src="./img/matrice_transition_PRAM.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="un-exemple-numérique-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Un exemple numérique</h2>
<p>On peut maintenant calculer les marges perturbées !</p>
<ul>
<li><p>Marges originales</p>
<table>
<thead>
<tr class="header">
<th>Statut</th>
<th>Inactif</th>
<th>Actif</th>
<th>Chômeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Fréquence (million)</td>
<td>17</td>
<td>49</td>
<td>4</td>
</tr>
<tr class="even">
<td>Pourcentage</td>
<td>24%</td>
<td>70%</td>
<td>6%</td>
</tr>
</tbody>
</table></li>
<li><p>Nouvelles marges</p>
<table>
<colgroup>
<col style="width: 35%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Statut</th>
<th>Inactif</th>
<th>Actif</th>
<th>Chômeur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Fréquence</td>
<td>14</td>
<td>41</td>
<td><strong><span style="color:red">16</span></strong></td>
</tr>
<tr class="even">
<td>Pourcentage</td>
<td>20%</td>
<td>58%</td>
<td><span style="color:red">22 %</span></td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section id="pram-invariant" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>PRAM Invariant</h2>
<ul>
<li><p>Possibilité de choisir la matrice <span class="math inline">\(P\)</span> de telle sorte que la perturbation soit sans biais <span class="math inline">\(\rightarrow\)</span> PRAM invariant</p></li>
<li><p>Etant donné que : <span class="math display">\[\mathbb{E}\begin{pmatrix} N^{pram}_{I} \\N^{pram}_{E}\\ N^{pram}_{U} \end{pmatrix} = P^{T} \begin{pmatrix}N_{I} \\N_{E}\\ N_{U} \end{pmatrix}\]</span></p></li>
<li><p>Il faut, pour cela, choisir <span class="math inline">\(P\)</span> telle que les fréquences marginales originales soient un vecteur propre de <span class="math inline">\(P\)</span> associé à la valeur propre <span class="math inline">\(1\)</span>.</p></li>
</ul>
</section>
<section id="mesurer-le-niveau-de-protection" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesurer le niveau de protection</h2>
<ul>
<li><p>PRAM introduit délibérement une erreur de mesure <span class="math inline">\(\rightarrow\)</span> on ne peut pas utilisé le k-anonymat ou la l-diversité</p></li>
<li><p>Niveau de protection mesuré à partir des paramètres de la méthode (matrice de transition).</p></li>
<li><p>Idée: faire en sorte que la rareté de certaines modalités soit rendue suffisamment incertaine à inférer <span class="math inline">\(\rightarrow\)</span> posterior odds ratio</p></li>
</ul>
</section>
<section id="mesurer-le-niveau-de-protection-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesurer le niveau de protection</h2>
<p><span class="math display">\[POST\_ODDS(k) = \frac{P(\xi = k|X=k)}{P(\xi \neq k|X=k)} = \frac{p_{kk}P(\xi = k)}{\sum_{l \neq k}p_{lk}P(\xi=l)}\]</span></p>
<ul>
<li><span class="math inline">\(p_{kk}\)</span> sont connus et dépendent du plan de sondage</li>
<li><span class="math inline">\(P(\xi = k)\)</span> peut être difficile à estimer</li>
<li>on peut estimer grossièrement <span class="math inline">\(P(\xi = k)\)</span> par <span class="math inline">\(\frac{T_\xi(k)}{n}\)</span></li>
</ul>
</section>
<section id="interprétation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Interprétation</h2>
<p>On observe k dans le jeu pertubé :</p>
<ul>
<li><p>Si <span class="math inline">\(POST\_ODDS(k) &gt; 1\)</span>, alors la valeur originale est plus probablement <strong><span class="math inline">\(k\)</span></strong> plutôt qu’une autre valeur.</p></li>
<li><p>Si <span class="math inline">\(POST\_ODDS(k) &lt; 1\)</span>, alors la valeur originale est plus probablement une <strong>autre valeur</strong> que <span class="math inline">\(k\)</span>.</p></li>
</ul>
</section>
<section id="avantages-inconvénients-4" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Avantages / inconvénients</h2>
<div id="tbl-pram-avtg-incv" class="table table-striped table-hover quarto-float quarto-figure quarto-figure-center" style="font-size: 70%;">
<figure class="quarto-float quarto-float-tbl">
<div aria-describedby="tbl-pram-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover">
<caption>Avantages et inconvénients de PRAM</caption>
<colgroup>
<col style="width: 53%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Avantages</th>
<th style="text-align: center;">Inconvénients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Permet de fournir le niveau de protection associé au bruit injecté en calculant les probabilités de transition inverses</td>
<td style="text-align: center;">Création d’éventuelles combinaisons impossibles (ex : enfant à la retraite).</td>
</tr>
<tr class="even">
<td style="text-align: center;">Conserve l’additivité des tableaux générés à partir des micro-données bruitées.</td>
<td style="text-align: center;">Difficile de définir une matrice de protection qui prend en compte les liens avec toutes les variables.</td>
</tr>
</tbody>
</table>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-pram-avtg-incv-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;13: Avantages et inconvénients de PRAM
</figcaption>
</figure>
</div>
</section></section>
<section>
<section id="les-données-synthétiques" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain" data-number="8">
<h1><span class="header-section-number">8</span> Les données synthétiques</h1>
<ul>
<li><p>Idée: Générer tout ou partie des données individuelles.</p></li>
<li><p>Deux types de synthèse:</p>
<ul>
<li><p>Synthèse complète: toutes les variables et tous les individus sont générés.</p></li>
<li><p>Synthèse partielle: Seulement certaines variables sont générées (principalement les variables sensibles).</p></li>
</ul></li>
</ul>
</section>
<section id="modélisation-séquentielle" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Modélisation séquentielle</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Fully Conditional Specification</strong></p>
</div>
<div class="callout-content">
<p>Chaque variable du jeu de données est modélisée séquentiellement et conditionnellement aux variables précédentes.</p>
<p>Pour générer la <span class="math inline">\(p^e\)</span> variable, on cherche à modéliser sa distribution conditionnelle :</p>
<p><span class="math display">\[f_{X_p | X_1 , X_2 , \dots , X_{p-1}}\]</span></p>
<p>Modèles statistiques couramment utilisés: - modèles paramétriques (régression linéaire ou logistique) - méthodes à base d’arbres: CART, Boosting, random forest, XGBoost.</p>
</div>
</div>
</div>
</section>
<section id="les-méthodes-deep-learning-i" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les méthodes Deep Learning (I)</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tabular Variational Auto Encoder (TVAE)</strong></p>
</div>
<div class="callout-content">
<p>L’auto encodage consiste à combiner <strong>une phase d’encodage</strong> qui réduit la dimension des données pour apprendre les caractéristiques les plus importantes et <strong>une phase de décodage</strong> pour reconstituer des données dans leur dimension originale.</p>
</div>
</div>
</div>
</section>
<section id="les-méthodes-deep-learning-ii" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les méthodes Deep Learning (II)</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Conditional Tabular Generative Adversarial Network (CTGAN)</strong></p>
</div>
<div class="callout-content">
<p>Les GAN sont très populaires dans la génération d’images. Les CTGAN sont une adaptation des GAN pour générer des données tabulaires (microdonnées ou données agrégées). Un générateur construit des données synthétiques et les soumet à un discriminateur dont l’objectif est de distinguer ces données générées des données originales.</p>
</div>
</div>
</div>
</section>
<section id="références" class="slide level2 smaller scrollable" data-background-image="background.svg" data-background-size="contain">
<h2>Références</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-chipperfield_australian_2016" class="csl-entry" role="listitem">
Chipperfield, James, Daniel Gow, et Bronwyn Loong. 2016. <span>«&nbsp;The <span>Australian</span> <span>Bureau</span> of <span>Statistics</span> and releasing frequency tables via a remote server&nbsp;»</span>. <em>Statistical Journal of the IAOS</em> 32 (1): 53‑64. <a href="https://doi.org/10.3233/SJI-160969">https://doi.org/10.3233/SJI-160969</a>.
</div>
<div id="ref-giesing_concepts_2019" class="csl-entry" role="listitem">
Gießing, Sarah, et Reinhard Tent. 2019. <span>«&nbsp;Concepts for generalising tools implementing the cell key method to the case of continuous variables&nbsp;»</span>. In <em><span>UNECE</span> - <span>Expert</span> <span>Meeting</span> on <span>Statistical</span> <span>Data</span> <span>Confidentiality</span></em>. the Hague. <a href="https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2019/mtg1/SDC2019_S2_Germany_Giessing_Tent_AD.pdf">https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2019/mtg1/SDC2019_S2_Germany_Giessing_Tent_AD.pdf</a>.
</div>
<div id="ref-hundepool_handbook_2024" class="csl-entry" role="listitem">
Hundepool, Anco, Josep Domingo-Ferre, Luisa Franconi, Sarah Giessing, Rainer Lenz, Jane Longhurst, Eric Schulte Nordholt, et al. 2024. <em>Handbook on <span>Statistical</span> <span>Disclosure</span> <span>Control</span></em>. 2nd Edition. ESSNet SDC. <a href="https://sdctools.github.io/HandbookSDC/">https://sdctools.github.io/HandbookSDC/</a>.
</div>
<div id="ref-thompson_methodology_2013" class="csl-entry" role="listitem">
Thompson, Gwenda, Stephen Broadfoot, et Daniel Elazar. 2013. <span>«&nbsp;Methodology for the <span>Automatic</span> <span>Confidentialisation</span> of <span>Statistical</span> <span>Outputs</span> from <span>Remote</span> <span>Servers</span> at the <span>Australian</span> <span>Bureau</span> of <span>Statistics</span>&nbsp;»</span>. In <em>Joint <span>UNECE</span>/<span>Eurostat</span> work session on statistical data confidentiality</em>. Ottawa. <a href="https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2013/Topic_1_ABS.pdf">https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2013/Topic_1_ABS.pdf</a>.
</div>
</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Les méthodes de protection statistique des données confidentielles</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copié");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copié");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/InseeFrLab\.github\.io\/formation_protection_donnees\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>