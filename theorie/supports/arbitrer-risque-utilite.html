<!DOCTYPE html>
<html lang="fr-FR"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <title>La protection des données statistiques publiques – L’Arbitrage Risque/Utilité</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-7230c0af59ab1606bc2ed49e76979e8e.css">
  <link rel="stylesheet" href="_extensions/InseeFrLab/onyxia/logo.css">
  <link rel="stylesheet" href="custom.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="_extensions/InseeFrLab/onyxia/background.svg" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title">L’Arbitrage Risque/Utilité</h1>
  <p class="subtitle"></p><p><strong><span class="orange">Arbitrer pour mieux maîtriser</span></strong></p><p></p>

<div class="quarto-title-authors">
</div>

</section>
<section class="slide level2">

<div class="frame">

</div>
<section id="sommaire" class="frame" data-background-image="background.svg" data-background-size="contain">
<h3 data-background-image="background.svg" data-background-size="contain">Sommaire</h3>
</section>
</section>
<section id="un-arbitrage-nécessaire" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un arbitrage nécessaire</h1>
<div class="frame">
<p>Introduction</p>
<p>La définition maximaliste de la protection des données:</p>
<div class="displayquote">
<p>If the release of the statistics <span class="math inline">\(T(D)\)</span> makes it possible to determine the value [of confidential statistical data] more accurately than is possible without access to <span class="math inline">\(T(D)\)</span>, a disclosure has taken place. (T. Dalenius, <a href="https://doi.org/10.1016/0378-3758(77)90007-6">Privacy transformations for statistical information systems</a>, 1977)</p>
</div>
</div>
</section>

<section id="introduction" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Introduction</h1>
<div class="frame">
<ul>
<li><p>Une ambition originelle impossible à atteindre.</p></li>
<li><p>Exemple: Lien fort entre Fumeur et Cancer des poumons <span class="math inline">\(\Rightarrow\)</span> si, on (une compagnie d’assurance) sait qu’un individu est fumeur, alors elle peut lui imputer un risque important d’avoir un cancer.</p></li>
<li><p>Il faudrait</p>
<ul>
<li><p>supposer que l’utilisateur ne dispose d’aucune information auxiliaire (irréaliste)</p></li>
<li><p>empêcher toute inférence statistique (non souhaitable)</p></li>
</ul></li>
</ul>
</div>
</section>

<section id="introduction-1" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Introduction</h1>
<div class="frame">
<div class="displayquote">
<p>Les missions du SSP ne dépendent pas seulement de sa capacité à maîtriser les outils ou les méthodes nécessaires à la production d’une information de qualité, mais aussi de <strong>sa capacité à protéger et à garantir la confidentialité des données qui lui sont confiées</strong>. Cette protection est la condition pour continuer à disposer de ces données.</p>
</div>
<div class="displayquote">
<p><strong>La maîtrise des risques</strong> de perte ou de violation de confidentialité des données dont il est dépositaire représente un enjeu crucial pour le SSP. (P. Redor, Courrier des Statistiques, juin 2023)</p>
</div>
</div>
</section>

<section id="quel-arbitrage" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Quel arbitrage ?</h1>
<div class="frame">
<p>Protéger des données confidentielles, c’est arbitrer entre:</p>
<ul>
<li><p>leur utilité pour la connaissance et le débat public;</p></li>
<li><p>leur risque intrinsèque: toute donnée diffusée divulgue une information sur un individu ou un groupe d’individus.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/trade_off_balance.png"></p>
<figcaption>image</figcaption>
</figure>
</div>
</div>
</section>

<section id="un-arbitrage-nécessaire-1" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un arbitrage nécessaire</h1>
<div class="frame">
<ul>
<li><p>Ne pas diffuser rendrait la statistique publique inutile;</p></li>
<li><p>Tout diffuser rendrait la statistique publique dangereuse;</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/trade_off_graph.png"></p>
<figcaption>image</figcaption>
</figure>
</div>
</div>
</section>

<section id="un-arbitrage-nécessaire-2" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un arbitrage nécessaire</h1>
<div class="frame">
<div class="block">
<p>Arbitrer Arbitrer c’est faire un compromis entre minimiser le risque de divulgation d’information confidentielle et minimiser la perte d’information due aux traitements de protection des données.</p>
</div>
<div class="alertblock">
<p>Attention Il n’existe pas de méthode minimisant le risque et la perte d’information en même temps!</p>
</div>
</div>
</section>

<section id="un-exemple-darbitrage" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un exemple d’arbitrage</h1>
<div class="frame">
<p>Le recensement de la population en France:</p>
<ul>
<li><p>Décret de publication spécifique;</p></li>
<li><p>Utilité des données du RP très forte (un certain nombre de lois en dépendent - dotation des communes par exemple)</p></li>
<li><p>Risque d’utilisation des données diffusées contre les personnes est jugé faible.</p>
<p><span class="math inline">\(\Rightarrow\)</span> L’Insee diffuse des données communales même si elles permettent parfois d’identifier et caractériser des individus.</p></li>
</ul>
</div>
</section>

<section id="un-arbitrage-inhérent-à-la-gestion-de-la-confidentialité" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un arbitrage inhérent à la gestion de la confidentialité</h1>
<div class="frame">
<ul>
<li><p>Il n’existe pas de risque zéro</p></li>
<li><p>Aucune méthode ne supprime totalement le risque <span class="math inline">\(\Rightarrow\)</span></p>
<ul>
<li><p>Arbitrer est donc inhérent à la discipline.</p></li>
<li><p>Cet arbitrage considéré comme <strong>le paradigme</strong> de la discipline.</p></li>
</ul></li>
<li><p>Un paradigme parfois critiqué (Cox et al.&nbsp;2011):</p>
<ul>
<li><p>S’il aide à savoir comment penser...</p></li>
<li><p>...il aide moins à savoir comment agir.</p></li>
</ul></li>
</ul>
</div>
</section>

<section id="un-arbitrage-nécessaire-3" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Un arbitrage nécessaire</h1>
<div class="frame">
<p>Pour arbitrer, il faut pouvoir</p>
<ul>
<li><p>Définir les termes de l’arbitrage</p></li>
<li><p>Mesurer les phénomènes.</p></li>
</ul>
<p><span class="math inline">\(\Rightarrow\)</span> Objectiver les notions de risque et d’utilité afin de pouvoir mener un arbitrage honnête.</p>
</div>
</section>

<section id="en-pratique-un-autre-arbitrage-a-lieu" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>En pratique, un autre arbitrage a lieu</h1>
<div class="frame">
<p>Un arbitrage Coûts/Bénéfices est réalisé:</p>
<ul>
<li><p>Par l’INS: Quels moyens (en termes de temps, de complexité et de coûts financiers) déployer pour quel niveau de protection ?</p></li>
<li><p>Par l’attaquant: Vaut-il le coût de déployer des moyens importants à tenter de retrouver de l’information confidentielle contenue dans les données diffusées ?</p></li>
</ul>
<p><span class="math inline">\(\Longrightarrow\)</span> Mettre en place des méthodes qui ont un coût adapté au risque objectivé et à la sensibilité des données.</p>
</div>
</section>

<section id="une-démarche-en-plusieurs-étapes" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Une démarche en plusieurs étapes</h1>
<div class="frame">
<p>Étapes clés du processus de protection des données</p>
<p>Une démarche reprise de (Hundepool et al.&nbsp;2010):</p>
<ol type="1">
<li><p>Est-il nécessaire de protéger les données ?</p></li>
<li><p>Quelles sont les caractéristiques et utilisations principales des données ?</p></li>
<li><p>Définition et mesure des risques de divulgation</p></li>
<li><p>Choix des méthodes de protection des données</p></li>
<li><p>Mise en oeuvre des méthodes</p></li>
</ol>
</div>
</section>

<section id="étape-1" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 1</h1>
<div class="frame">
<p>Est-il nécessaire de protéger les données ?</p>
<ul>
<li><p>Analyse des unités considérées et variables présentes dans le fichier de microdonnées, si elles ne sont pas sensibles pas besoin d’effectuer de traitement pour la protection des données</p></li>
<li><p>Quel type de diffusion ? (tableaux de données, cartes, microdonnées ...)</p></li>
</ul>
</div>
</section>

<section id="étape-2" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 2</h1>
<div class="frame">
<p>Quelles sont les caractéristiques et utilisations principales des données ? (I)</p>
<ul>
<li><p>Analyse du type et de la structure des données pour déterminer les variables / unités qui nécessitent une protection</p></li>
<li><p>Analyse de la méthodologie de l’enquête</p></li>
<li><p>Définition des objectifs de l’institut : type de publication (PUF, MFR), politiques de diffusion, cohérence entre plusieurs diffusions simultanées, cohérence avec ce qui est déjà publié</p></li>
</ul>
</div>
</section>

<section id="étape-2-1" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 2</h1>
<div class="frame">
<p>Quelles sont les caractéristiques et utilisations principales des données ? (II)</p>
<ul>
<li><p>Analyse des besoins des utilisateurs (variables prioritaires, types d’analyses qui seront réalisées)</p></li>
<li><p>Analyse du questionnaire pour les enquêtes (variables à retirer / à inclure, quel niveau de détail pour les indicateurs structurels telles que les variables socio-démographique ?)</p></li>
</ul>
</div>
</section>

<section id="étape-3" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 3</h1>
<div class="frame">
<p>Définition et mesure des risques de divulgation</p>
<ul>
<li><p>Recenser les différents scénarios possibles conduisant à la divulgation des données</p></li>
<li><p>Ces scénarios dépendent du type de données considérées (données exhaustives, enquêtes) et de la diffusion choisie (pour les chercheurs ou le grand public)</p></li>
<li><p>Choisir la ou les méthodes pour mesurer le risque de divulgation (développé dans la partie "Les différents types de risques")</p></li>
<li><p>Si on considère que le risque de divulgation est trop élevé alors il faut mettre en place des méthodes de protection des données</p></li>
</ul>
</div>
</section>

<section id="étape-4" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 4</h1>
<div class="frame">
<p>Choix des méthodes de protection des données</p>
<ul>
<li><p>Choisir une / plusieurs méthode(s) de protection pour réduire les risques de divulgation au seuil de tolérance qu’on s’est fixé</p></li>
<li><p>Le choix de la méthode dépend de l’impact sur l’utilité des données de ladite méthode</p></li>
<li><p>Analyse de perte d’utilité due à la protection</p></li>
</ul>
</div>
</section>

<section id="étape-5" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Étape 5</h1>
<div class="frame">
<p>Mise en oeuvre des méthodes</p>
<ol type="1">
<li><p>Choisir un logiciel</p></li>
<li><p>Réaliser la mesure des risques de divulgation</p></li>
<li><p>Protéger les données</p></li>
<li><p>Quantification de l’information perdue</p></li>
<li><p>Contrôle du processus de protection</p>
<ul>
<li>vérifier que les méthodes mises en oeuvre ont bien permis de réduire le risque de divulgation au niveau considéré comme acceptable</li>
</ul></li>
<li><p>Réalisation d’un document synthétisant les méthodes de protection utilisées et faisant le bilan de l’information perdue</p>
<ul>
<li><p>si possible le transmettre aux utilisateurs des données publiées</p></li>
<li><p>peut contenir des avertissements sur les précautions à prendre lors de l’utilisation d’un fichier anonymisé</p></li>
</ul></li>
</ol>
</div>
</section>

<section>
<section id="objectiver-le-risque" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Objectiver le risque</h1>

</section>
<section id="les-différents-types-de-risque" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Les différents types de risque</h2>
<div class="frame">
<div class="block">
<p>Risque de divulgation Risque de divulguer une information confidentielle en publiant des données.</p>
</div>
<p>Quatre types de risque de divulgation :</p>
<ul>
<li><p>Risque de divulgation d’identité</p></li>
<li><p>Risque de divulgation d’attribut</p></li>
<li><p>Risque de divulgation par inférence</p></li>
<li><p>Risque de divulgation par différenciation</p>
<ul>
<li><p>par "emboîtement"</p></li>
<li><p>par "recoupement"</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="risque-de-divulgation-didentité" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risque de divulgation d’identité</h2>
<div class="frame">
<div class="block">
<p>Risque de divulgation d’identité Risque de reconnaître un individu spécifique dans les données publiées : un attaquant peut identifier une unité à partir de la publication.</p>
</div>
<p>Exemples :</p>
<ul>
<li><p>Certaines variables comme le nom, l’adresse qui identifient directement des individus ou des foyers.</p></li>
<li><p>Toutes les personnes avec de caractéristiques très rares (ex : personnes très âgées).</p></li>
<li><p>Il a été montré que 87% de la population américaine est unique uniquement à partir du ZIP code, du genre et de la date de naissance (Sweeney, 2000).</p></li>
</ul>
</div>
</section>
<section id="risque-de-divulgation-didentité-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risque de divulgation d’identité</h2>
<div class="frame">
<ul>
<li><p>L’âge, le genre, la profession et le niveau d’éducation sont généralement considérés comme des <strong>quasi-identifiants</strong></p></li>
<li><p>La divulgation d’identité ne permet pas toujours d’apprendre de nouvelles information sur l’individu (si l’attaquant parvient juste à matcher mais qu’il n’y a pas de variable en plus dans les données alors il n’a rien appris).</p></li>
</ul>
</div>
</section>
<section id="risque-de-divulgation-dattribut" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risque de divulgation d’attribut</h2>
<div class="frame">
<div class="block">
<p>Risque de divulgation d’attribut Risque de divulguer de l’information sensible sur certains individus dans les données diffusées.</p>
</div>
<p>Exemples :</p>
<ul>
<li><p>Si un individu est identifié à partir de certaines variables alors l’attaquant connaît toutes ses autres caractéristiques pour les autres variables publiées</p></li>
<li><p>Divulgation d’un attribut de groupe : on parle de divulgation d’attribut même si l’attribut ne concerne pas un unique individu mais tout un groupe. A partir de la table ci-dessous on sait que tous les hommes sont diabétiques.</p>
<pre><code>            Femme   Homme</code></pre>
<hr>
<p>Diabétique 30 40 Pas diabétique 12 0</p></li>
</ul>
</div>
</section>
<section id="risque-de-divulgation-par-inférence" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risque de divulgation par inférence</h2>
<div class="frame">
<div class="block">
<p>Risque de divulgation par inférence Risque de pouvoir déduire avec une certitude élevée des informations sensibles sur des individus à partir des données publiées.</p>
</div>
<p>Exemples :</p>
<ul>
<li><p>Lorsque la proportion de certaines caractéristiques est très élevée au sein d’un groupe</p>
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Femme</th>
<th style="text-align: center;">Homme</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Diabétique</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">38</td>
</tr>
<tr class="even">
<td>Pas diabétique</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">2</td>
</tr>
</tbody>
</table></li>
<li><p>Lorsque deux variables sont fortement corrélées, on peut déduire l’une à partir de l’autre</p></li>
</ul>
</div>
</section>
<section id="risque-de-divulgation-par-différenciation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risque de divulgation par différenciation</h2>
<div class="frame">
<p>Deux types de différenciation :</p>
<ul>
<li><p>Différenciation par "emboîtement" : différenciation possible engendrée par l’existence de deux zonages parfaitement emboîtés l’un dans l’autre (cas le plus classique)</p></li>
<li><p>Différenciation par "recoupement" : différenciation entre des zonages recouvrant un même territoire mais sans s’emboîter l’un dans l’autre - les zones de l’un recoupant celles de l’autre</p></li>
</ul>
</div>
</section>
<section id="différenciation-par-recoupement" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Différenciation par recoupement</h2>
<div class="frame">
<div id="fig:enter-label" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/diff_geo_recoupment1.png"></p>
<figcaption>Exemple de différenciation par recoupement en France entre un département (zonage administratif) et un EPCI (zonage d’étude)</figcaption>
</figure>
</div>
</div>
</section>
<section id="différenciation-par-recoupement-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Différenciation par recoupement</h2>
<div class="frame">
<div id="fig:enter-label" class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/diff_geo_recoupement2.png"></p>
<figcaption>Zoom sur l’EPCI qui chevauche les départments du Rhône (69) et de l’Ain (01)</figcaption>
</figure>
</div>
</div>
</section></section>
<section>
<section id="le-paradigme-classique-le-k-anonymat" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Le paradigme classique: le k-anonymat</h1>

</section>
<section id="distinguer-les-variables" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Distinguer les variables</h2>
<div class="frame">
<ul>
<li><p><strong>Identifiants</strong>: Variables permettant d’identifier directement un individu.</p></li>
<li><p><strong>Quasi-identifiants</strong>: Variables pouvant conduire à réidentifier un individu à partir d’une information auxiliaire.</p></li>
<li><p><strong>Variables sensibles</strong>: Variables pour lesquelles des mesures de protection spécifiques peuvent s’avérer nécessaires.</p></li>
<li><p>Autres variables</p></li>
</ul>
</div>
</section>
<section id="distinguer-les-variables-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Distinguer les variables</h2>
<div class="frame">
<p>Remarques:</p>
<ul>
<li><p>Les identifiants sont retirés très tôt au cours du processus de production <span class="math inline">\(\Rightarrow\)</span> ils ne posent pas de problème en termes de gestion de la confidentialité.</p></li>
<li><p>Les quasi-identifiants:</p>
<ul>
<li><p>Pour des données individus: sexe, âge, lieu d’habitation, diplôme, statut marital, etc.</p></li>
<li><p>Pour des données entreprises: Secteur d’activité, lieu du siège, etc.</p></li>
<li><p>Liste à déterminer à chaque fois</p></li>
<li><p>De quelles variables un attaquant dispose-t-il déjà ?</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="distinguer-les-variables-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Distinguer les variables</h2>
<div class="frame">
<div id="tab:types_variables">
<table class="caption-top">
<caption>Les différents types de variables dans un jeu de données</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Var. Identifiantes</th>
<th></th>
<th style="text-align: left;">Var Quasi-Identifiantes</th>
<th></th>
<th></th>
<th style="text-align: left;">Autre Variable</th>
<th style="text-align: left;">Var. Sensible</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Nom</strong></td>
<td><strong>Adresse</strong></td>
<td style="text-align: left;"><strong>Commune</strong></td>
<td><strong>Âge</strong></td>
<td><strong>Diplôme</strong></td>
<td style="text-align: left;"><strong>Statut d’occupation</strong></td>
<td style="text-align: left;"><strong>Revenus</strong></td>
</tr>
<tr class="even">
<td style="text-align: left;">Johan</td>
<td>3, rue ...</td>
<td style="text-align: left;">Paris</td>
<td>36</td>
<td>Bac</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>150 000,00 €</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jeanne</td>
<td>115, bd ...</td>
<td style="text-align: left;">Malakoff</td>
<td>41</td>
<td>Bac +3</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>60 000,00 €</em></td>
</tr>
<tr class="even">
<td style="text-align: left;">Jehanne</td>
<td>68, rue ...</td>
<td style="text-align: left;">Lyon</td>
<td>52</td>
<td>Bac +5</td>
<td style="text-align: left;">Chômeur</td>
<td style="text-align: left;"><em>75 000,00 €</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Joann</td>
<td>7, chemin ...</td>
<td style="text-align: left;">Villeurbanne</td>
<td>45</td>
<td>Bac</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>32 000,00 €</em></td>
</tr>
<tr class="even">
<td style="text-align: left;">Yoann</td>
<td>53, avenue ...</td>
<td style="text-align: left;">Cerisy-La-Salle</td>
<td>41</td>
<td>BEP</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>19 000,00 €</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jenny</td>
<td>26bis, rue ...</td>
<td style="text-align: left;">Cherbourg</td>
<td>26</td>
<td>CAP</td>
<td style="text-align: left;">Chômeur</td>
<td style="text-align: left;"><em>5 000,00 €</em></td>
</tr>
<tr class="even">
<td style="text-align: left;">Johnny</td>
<td>12, place ...</td>
<td style="text-align: left;">Pithiviers</td>
<td>31</td>
<td>Bac Pro</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>25 000,00 €</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jean</td>
<td>3, impasse ...</td>
<td style="text-align: left;">Orléans</td>
<td>48</td>
<td>Bac</td>
<td style="text-align: left;">Actif occupé</td>
<td style="text-align: left;"><em>32 000,00 €</em></td>
</tr>
<tr class="even">
<td style="text-align: left;">Jeannette</td>
<td>8, chemin …</td>
<td style="text-align: left;">Paris</td>
<td>85</td>
<td>Aucun</td>
<td style="text-align: left;">Retraité</td>
<td style="text-align: left;"><em>10 000,00 €</em></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="quantifier-le-risque-le-k-anonymat" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Quantifier le risque : le k-anonymat</h2>
<div class="frame">
<div class="block">
<p>Le k-anonymat (Samarati et Sweeney, 1998) Un jeu de données est considéré comme k-anonyme si la combinaison la moins fréquente des modalités des variables quasi-identifiantes compte au moins <em>k</em> unités.</p>
</div>
<ul>
<li><p>Cette mesure assure que tous les individus sont similaires à au moins k-1 autres.</p></li>
<li><p><strong>Mesure de risque globale</strong> qui se focalise sur les individus les plus à risque de ré-identification.</p></li>
<li><p>La probabilité associée au risque pour un individu du fichier d’être ré-identifié est au minimum 1/<em>k</em></p></li>
</ul>
</div>
</section>
<section id="quantifier-le-risque-le-k-anonymat-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Quantifier le risque : le k-anonymat</h2>
<div class="frame">
<div id="tab:1-anonyme">
<table class="caption-top">
<caption>Exemple d’un fichier individuel 1-anonyme, l’âge et le genre étant considérés comme quasi-identifiants</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Id</th>
<th style="text-align: left;">Age</th>
<th style="text-align: left;">Genre</th>
<th style="text-align: left;">Maladie(s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">[45;55[</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">Diabète</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">[45;55[</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">Hypertension artérielle</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">[45;55[</td>
<td style="text-align: left;">F</td>
<td style="text-align: left;">Cancer</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">[45;55[</td>
<td style="text-align: left;">F</td>
<td style="text-align: left;">Grippe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">[70;75[</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">Diabète</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">[45;55[</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">Diabète</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="quantifier-le-risque-la-l-diversité" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Quantifier le risque : la l-diversité</h2>
<div class="frame">
<div class="block">
<p>La l-diversité Assure une diversité suffisante des modalités d’une variable sensible prises par les individus au sein d’une même combinaison de quasi-identifiants.</p>
</div>
<ul>
<li><p>Raffinement du <span class="math inline">\(\mathbf{k}\)</span>-anonymat.</p></li>
<li><p>Protection contre la divulgation d’attributs sensibles.</p></li>
</ul>
</div>
</section>
<section id="quantifier-le-risque-la-l-diversité-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Quantifier le risque : la l-diversité</h2>
<div class="frame">
<table class="caption-top">
<caption>Un fichier 2-anonyme mais pas assez diversifié</caption>
<thead>
<tr class="header">
<th style="text-align: center;"><em>Age</em></th>
<th style="text-align: center;"><em>Sexe</em></th>
<th style="text-align: center;"><em>Maladie(s)</em></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">[50;55[</td>
<td style="text-align: center;">H</td>
<td style="text-align: center;">Diabète</td>
</tr>
<tr class="even">
<td style="text-align: center;">[50;55[</td>
<td style="text-align: center;">H</td>
<td style="text-align: center;">Diabète</td>
</tr>
<tr class="odd">
<td style="text-align: center;">[50;55[</td>
<td style="text-align: center;">F</td>
<td style="text-align: center;">Cancer</td>
</tr>
<tr class="even">
<td style="text-align: center;">[50;55[</td>
<td style="text-align: center;">F</td>
<td style="text-align: center;">Grippe</td>
</tr>
<tr class="odd">
<td style="text-align: center;">[50;55[</td>
<td style="text-align: center;">H</td>
<td style="text-align: center;">Diabète</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="limites-du-k-anonymat" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Limites du k-anonymat</h2>
<div class="frame">
<p>Ces mesures sont très répandues, faciles à comprendre et à mettre en place, mais elles ont aussi quelques limites:</p>
<ul>
<li><p>L’efficacité dépend du <strong>scénario de divulgation</strong> :</p>
<ul>
<li><p>Si l’intrus sait qu’un individu spécifique est dans l’ensemble de données, le <span class="math inline">\(\mathbf{k}\)</span>-anonymat est une <strong>manière équitable d’évaluer le risque de ré-identification</strong>.</p></li>
<li><p>Si l’intrus essaie de faire correspondre les données publiées avec une base de données d’identification, l’évaluation des risques basée sur le <span class="math inline">\(\mathbf{k}\)</span>-anonymat est conservatrice.</p></li>
</ul></li>
<li><p>Le <span class="math inline">\(\mathbf{k}\)</span>-anonymat <strong>ne prend pas en compte les poids d’échantillonnage</strong>.<br>
<span class="math inline">\(\Rightarrow\)</span> le k-anonymat appliqué à un échantillon sur-évaluera le risque de ré-identification.</p></li>
</ul>
</div>
</section></section>
<section>
<section id="mesures-probabilistes-du-risque" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Mesures probabilistes du risque</h1>

</section>
<section id="mesures-naïves-du-risque-individuel" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesures (naïves) du risque individuel</h2>
<div class="frame">
<ul>
<li><p><strong>Probabilité de ré-identifier un individu</strong> d’une <em>population</em>: <span class="math inline">\(r_k = \frac{1}{N_k}\)</span><br>
(<span class="math inline">\(N_k\)</span> = nb d’individus partageant la même combinaison de clés <span class="math inline">\(k\)</span>).</p></li>
<li><p><strong>Probabilité de ré-identifier un individu d’un <em>échantillon</em></strong>:</p>
<ul>
<li><p>Soit on raisonne <em>au niveau de l’échantillon</em>: <span class="math inline">\(r_k = \frac{1}{n_k}\)</span><br>
(<span class="math inline">\(n_k\)</span> = nb d’individus de l’échantillon partageant la même combinaison de clés <span class="math inline">\(k\)</span>).</p></li>
<li><p>Soit on raisonne <em>au niveau de la population</em>: <span class="math inline">\(r_k\)</span> peut être estimé par <span class="math inline">\(\hat{r_k} = \frac{1}{\sum\limits_{i \in k}{w_i}}\)</span>,<br>
où <span class="math inline">\(w_i\)</span> est le poids de l’individu <span class="math inline">\(i\)</span>.</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="mesures-probabilistes-du-risque-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesures probabilistes du risque</h2>
<div class="frame">
<ul>
<li><p>Les individus les plus à risque:</p>
<ul>
<li><p>Les uniques de population, quand <span class="math inline">\(N_k = 1\)</span></p></li>
<li><p>Les uniques dans l’échantillon, quand <span class="math inline">\(n_k = 1\)</span></p></li>
<li><p>Les uniques dans l’échantillon qui sont également uniques dans la population, quand <span class="math inline">\(\sum\limits_{i \in k}{w_i} = 1\)</span></p></li>
</ul></li>
<li><p>Les mesures individuelles permettent de cibler les individus les plus à risque.</p></li>
<li><p>Les mesures globales sont utiles pour réaliser l’arbitrage.</p>
<ul>
<li>Par exemple, le risque individuel moyen <span class="math inline">\(\tau = \frac{\sum\limits_{k}{n_k \times r_k}}{n}\)</span>.</li>
</ul></li>
</ul>
</div>
</section>
<section id="mesures-probabilistes-du-risque-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesures probabilistes du risque</h2>
<div class="frame">
<p>Des mesures plus raffinées sont implémentées dans des outils classiques tels que <span class="math inline">\(\mu\)</span>-Argus ou le package R sdcmicro.</p>
<ul>
<li><p>Quand on dispose d’un échantillon (donc des <span class="math inline">\(n_k\)</span>), on ne connaît en général pas les <span class="math inline">\(N_k\)</span>.</p></li>
<li><p>Mesure du risque individuel conditionnellement à l’échantillon: <span class="math inline">\(r_k = \mathbb{E}(\frac{1}{N_k}|n_k)\)</span>.</p></li>
<li><p>Mesure dépendant d’une modélisation de la loi (posterior) de <span class="math inline">\(N_k | n_k\)</span></p>
<ul>
<li><p>Modélisation des fréquences des clés dans la population conditionnellement à leur fréquence dans l’échantillon.</p></li>
<li><p>Par une binomiale négative par exemple dans Benedetti et Franconi, 1998.</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="autres-mesures" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Autres mesures</h2>
<div class="frame">
<ul>
<li><p>Le <strong>Record Linkage</strong>:</p>
<ul>
<li><p>Mesure <em>a posteriori</em> de la distance entre les individus du jeu protégé et ceux du jeu original.</p></li>
<li><p>Permet d’évaluer le nombre de correspondances exactes entre données perturbées et originales.</p></li>
</ul></li>
<li><p>Les <strong>Outliers</strong>:</p>
<ul>
<li><p>Fort risque de réidentification des individus ayant des valeurs en queue de distribution (par ex. les très hauts revenus des footballeurs)</p></li>
<li><p>Une perturbation n’est pas toujours suffisante (Un outlier perturbé reste souvent un outlier).</p></li>
<li><p>Détection des outliers à partir des quantiles de la distribution.</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="définir-un-scénario-dattaque" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Définir un scénario d’attaque</h2>
<div class="frame">
<div class="block">
<p>Scénario d’attaque Définir des scénarios d’attaque c’est envisager les moyens utilisés par l’attaquant et objectiver les utilisations frauduleuses que nous chercherons à empêcher.</p>
</div>
<ul>
<li><p>Arbitrage Coûts/Risques (INS)</p></li>
<li><p>Arbitrage Coûts/Bénéfices (Attaquant)</p></li>
</ul>
</div>
</section></section>
<section>
<section id="objectiver-la-perte-dinformation-utilité" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Objectiver la perte d’information (utilité)</h1>

</section>
<section id="comment-la-définir" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Comment la définir ?</h2>
<div class="frame">
<p>Comment la définir ?</p>
<ul>
<li>Le processus de protection des données entraîne nécessairement une perte d’information</li>
</ul>
<div class="columns">
<div class="column">
<p>0.49</p>
<table class="caption-top">
<tbody>
<tr class="odd">
<td style="text-align: center;">Région</td>
<td style="text-align: center;">Âge</td>
<td style="text-align: center;">Profession</td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">Statut</td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">Inactif</td>
</tr>
<tr class="even">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">Chômeur</td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">52</td>
<td style="text-align: center;">Employé</td>
</tr>
<tr class="even">
<td style="text-align: center;">94</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">Employé</td>
</tr>
<tr class="odd">
<td style="text-align: center;">75</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">Chômeur</td>
</tr>
<tr class="even">
<td style="text-align: center;">92</td>
<td style="text-align: center;">26</td>
<td style="text-align: center;">Employé</td>
</tr>
<tr class="odd">
<td style="text-align: center;">92</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">Employé</td>
</tr>
<tr class="even">
<td style="text-align: center;">94</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">Inactif</td>
</tr>
</tbody>
</table>
</div><div class="column">
<p>0.49</p>
<table class="caption-top" style="width:39%;">
<colgroup>
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 18%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;">Région</td>
<td style="text-align: center;">Âge</td>
<td style="text-align: center;">Profession</td>
</tr>
</tbody>
</table>
</div></div>
<p>risque = 100 % , Perte d’info = 0 risque = 0 % , Perte d’info = 100 %</p>
</div>
</section>
<section id="perte-dinformation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Comment la définir ? Les utilisateurs</p>
<ul>
<li><p>Pas de définition de la perte d’information sans connaître la <strong>gamme envisagée des utilisateurs des données</strong></p></li>
<li><p>En <strong>fonction des utilisateurs finaux</strong>, le concept de perte d’information peut changer</p></li>
<li><p>Il n’est pas recommandé de publier plusieurs versions protégées du même jeu de données pour chaque type d’utilisateur <span class="math inline">\(\longrightarrow\)</span> risques de divulgation importants par différenciation.</p></li>
</ul>
</div>
</section>
<section id="perte-dinformation-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Comment la définir ? Idée principale</p>
<p>Deux moyens pour mesurer la perte d’information :</p>
<ol type="1">
<li><p><strong>Comparer les enregistrements bruts</strong> entre le jeu de données original et le jeu de données protégé</p></li>
<li><p><strong>Comparer certaines statistiques</strong> calculées sur les jeux de données originaux et protégés</p></li>
</ol>
</div>
</section>
<section id="perte-dinformation-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Données continues Pour les <strong>données continues</strong>, formellement :</p>
<ul>
<li><p><span class="math inline">\(I_1,\dots, I_n\)</span>, <span class="math inline">\(n\)</span> enregistrements individuels</p></li>
<li><p><span class="math inline">\(Z_1,..,Z_p\)</span>, <span class="math inline">\(p\)</span> données continues</p></li>
<li><p><span class="math inline">\(X\)</span> la matrice de données originale, <span class="math inline">\(X^{'}\)</span> la matrice de données protégée</p></li>
</ul>
</div>
</section>
<section id="perte-dinformation-3" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Données continues, distance entre matrices</p>
<ul>
<li><strong>Erreur quadratique moyenne</strong> : somme des différences au carré, composante par composante entre 2 matrices, divisée par le nombre de coefficients de chaque matrice : <span class="math display">\[\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n(x_{ij}-x^{'}_{ij})^2\]</span></li>
</ul>
</div>
<div class="frame">
<p>Perte d’informationDonnées continues, distance entre matrices</p>
<ul>
<li><strong>Erreur absolue moyenne</strong> : somme des différences absolues, composante par composante entre 2 matrices, divisée par le nombre de coefficients de chaque matrice <span class="math display">\[\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n|x_{ij}-x^{'}_{ij}|\]</span></li>
</ul>
</div>
<div class="frame">
<p>Perte d’informationDonnées continues, distance entre matrices</p>
<ul>
<li><strong>Variation moyenne</strong> : somme des variations absolues en pourcentage des composantes de la matrice protégée par rapport à la matrice de données originale <span class="math display">\[\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n\frac{|x_{ij}-x^{'}_{ij}|}{|x_{ij}|}\]</span></li>
</ul>
</div>
</section>
<section id="perte-dinformation-4" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Un exemple</p>
<ul>
<li><span style="color: blue"><span class="math inline">\(X\)</span></span> en haut, <span style="color: blue"><span class="math inline">\(X^{'}\)</span></span> en bas, les données perturbées</li>
</ul>
<table class="caption-top">
<tbody>
<tr class="odd">
<td style="text-align: center;">Sexe</td>
<td style="text-align: center;">Région</td>
<td style="text-align: center;">Âge</td>
<td style="text-align: center;">heures travaillées</td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">par semaine</td>
</tr>
<tr class="odd">
<td style="text-align: center;">F</td>
<td style="text-align: center;">92</td>
<td style="text-align: center;"><span style="color: blue">36</span></td>
<td style="text-align: center;"><span style="color: blue">17</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">M</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;"><span style="color: blue">41</span></td>
<td style="text-align: center;"><span style="color: blue">35</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">F</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;"><span style="color: blue">52</span></td>
<td style="text-align: center;"><span style="color: blue">5</span></td>
</tr>
</tbody>
</table>
<table class="caption-top">
<tbody>
<tr class="odd">
<td style="text-align: center;">Sexe</td>
<td style="text-align: center;">Région</td>
<td style="text-align: center;">Âge</td>
<td style="text-align: center;">heures travaillées</td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">par semaine</td>
</tr>
<tr class="odd">
<td style="text-align: center;">F</td>
<td style="text-align: center;">92</td>
<td style="text-align: center;"><span style="color: blue">34</span></td>
<td style="text-align: center;"><span style="color: blue">23</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">F</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;"><span style="color: blue">48</span></td>
<td style="text-align: center;"><span style="color: blue">35</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">M</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;"><span style="color: blue">58</span></td>
<td style="text-align: center;"><span style="color: blue">2</span></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="perte-dinformation-5" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Un exemple</p>
<ul>
<li><p><strong>Erreur quadratique moyenne</strong> = <span class="math inline">\(\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n(x_{ij}-x^{'}_{ij})^2=\frac{(36-34)^2+(41-48)^2+(52-58)^2+(17-23)^2+(35-35)^2+(5-2)^2}{6}=\frac{4+49+36+36+9}{6}=22\)</span></p></li>
<li><p><strong>Erreur absolue moyenne</strong> = <span class="math inline">\(\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n|x_{ij}-x^{'}_{ij}|=\frac{|36-34|+|41-48|+|52-58|+|17-23|+|35-35|+|5-2|}{6}=\frac{2+7+6+6+0+3}{6}=\frac{24}{6}=4\)</span></p></li>
<li><p><strong>Variation moyenne</strong> = <span class="math inline">\(\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n\frac{|x_{ij}-x^{'}_{ij}|}{|x_{ij}|}=\frac{\frac{|36-34|}{36}+\frac{|41-48|}{41}+\frac{|52-58|}{52}+\frac{|17-23|}{17}+\frac{|35-35|}{35}+\frac{|5-2|}{5}}{6}=\frac{\frac{2}{36}+\frac{7}{41}+\frac{6}{52}+\frac{6}{17}+\frac{0}{35}+\frac{3}{5}}{6}=0.15\)</span></p></li>
</ul>
</div>
</section>
<section id="perte-dinformation-6" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<ul>
<li>Les petites valeurs de <span class="math inline">\(x_{ij}\)</span> peuvent entraîner une instabilité lors du calcul de la variation moyenne <span class="math inline">\(\longrightarrow\)</span> pour éviter cela, la solution est la formulation : <span class="math display">\[\frac{1}{np}\sum_{j=1}^p\sum_{i=1}^n\frac{|x_{ij}-x^{'}_{ij}|}{\sqrt{2}S_j}\]</span> avec <span class="math inline">\(S_j\)</span> l’écart type de la <span class="math inline">\(j\)</span>-ème variable</li>
</ul>
</div>
</section>
<section id="perte-dinformation-7" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<p>Données continues</p>
<p>Mesures spécifiques:</p>
<ul>
<li><p>Comparaisons univariées (comparaison de la distribution d’une variable avant et après perturbation).</p></li>
<li><p>Comparaisons bivariées: Corrélations linéaires par exemple.</p></li>
<li><p>Comparaison multivariées: Comparaison des plans d’une analyse en composante principale.</p></li>
<li><p>Comparaison des paramètres d’une régression, etc.</p></li>
</ul>
</div>
</section>
<section id="données-catégorielles" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Données catégorielles</h2>
<div class="frame">
<p>Pour les <strong>variables catégorielles</strong>, 3 idées principales pour évaluer la perte d’information avec des données catégorielles :</p>
<ul>
<li><p><strong>Comparaison directe</strong> des valeurs des variables</p>
<ul>
<li><p>Écarts absolus moyens</p></li>
<li></li>
</ul></li>
<li><p>Comparaison des <strong>tables de contingence</strong></p></li>
<li><p>Mesures basées sur <strong>l’entropie</strong></p></li>
</ul>
</div>
</section>
<section id="mesure-basée-sur-lentropie" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Mesure basée sur l’entropie</h2>
<div class="frame">
<ul>
<li><p>L’entropie mesure l’incertitude induite par une distribution de probabilité donnée : <span class="math display">\[H(V/V^{'}=j) = - \sum_{i=1}^K P(V=i|V^{'} = j) \log(P(V=i|V^{'} = j))\]</span></p></li>
<li><p>Selon la méthode, il peut être difficile d’évaluer la quantité <span class="math inline">\(P(V=i|V^{'} = j)\)</span></p></li>
<li><p>Risque global <span class="math display">\[R = \sum_{r \in enregistrements} H(V/V^{'}=\underset{valeur protégée}{\underbrace{j_{r}}})\]</span></p></li>
</ul>
</div>
</section>
<section id="perte-dinformation-8" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Perte d’information</h2>
<div class="frame">
<ul>
<li><span class="math inline">\(K = 5\)</span> catégories, soit <span class="math inline">\(j = 4\)</span>, et examinons <span class="math inline">\(P(V=i|V^{'} = 4)_{1\leq i\leq 5}\)</span></li>
</ul>
<div class="columns">
<div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/Dirac.png" style="width:4cm"></p>
<figcaption>image</figcaption>
</figure>
</div>
</div><div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/Compromise.png" style="width:4cm"></p>
<figcaption>image</figcaption>
</figure>
</div>
</div><div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/uniform.png" style="width:4cm"></p>
<figcaption>image</figcaption>
</figure>
</div>
</div></div>
<ul>
<li><span class="math inline">\(\longrightarrow\)</span> Compromis entre risque et perte d’information !</li>
</ul>
</div>
</section>
<section id="visualisation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Visualisation</h2>
<div class="frame">
<ul>
<li><p>De nombreux moyens de visualisation de la perte d’information:</p>
<ul>
<li><p>Univarié: histogrammes, boîtes à moustaches, diagrammes en barres</p></li>
<li><p>Bivarié: Matrices de corrélations, Diagrammes en mosaïques, Plan d’une analyse factorielle des correspondances, etc.</p></li>
<li><p>Multivarié: 1er plan d’une analyse factorielle (ACP, ACM, AFDM)</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="visualisation-1" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Visualisation</h2>
<div class="frame">
<p>Matrice de corrélations dans les données originales et différences observées après perturbation selon deux méthodes différentes:</p>
<div class="columns">
<div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/cor_original.png" style="width:4cm"></p>
<figcaption>Original</figcaption>
</figure>
</div>
</div><div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/cor_cart.png" style="width:4cm"></p>
<figcaption>Méthode 1</figcaption>
</figure>
</div>
</div><div class="column">
<p>0.30</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/cor_ctgan.png" style="width:4cm"></p>
<figcaption>Méthode 2</figcaption>
</figure>
</div>
</div></div>
</div>
</section>
<section id="visualisation-2" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Visualisation</h2>
<div class="frame">
<p>Matrice de corrélations dans les données originales et différences observées après perturbation selon deux méthodes différentes:</p>
<div class="columns">
<div class="column">
<p>0.48</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/acp_original.png" style="width:4cm"></p>
<figcaption>Original</figcaption>
</figure>
</div>
</div><div class="column">
<p>0.48</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/acp_ctgan.png" style="width:4cm"></p>
<figcaption>Perturbé</figcaption>
</figure>
</div>
</div></div>
</div>
</section>
<section id="données-tabulées" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Données tabulées</h2>
<div class="frame">
<p>Pour les <strong>variables catégorielles</strong>, 3 idées principales pour évaluer la perte d’information avec des données catégorielles :</p>
<ul>
<li><p>Mesures globales</p>
<ul>
<li><p>Écarts absolus moyens</p></li>
<li><p>Distance de Hellinger<br>
<span class="math display">\[HD(\mathbf{X}, \mathbf{X}') = \frac{1}{\sqrt{2}} \sqrt{\sum_{j = 1}^M \left(\sqrt{\frac{x'_j}{\sum_{j=1}^M x'_j}} - \sqrt{\frac{x_j}{\sum_{j=1}^M x_j}}\right)^2}\]</span></p></li>
</ul></li>
<li><p>Pour Tableau de contingence:</p>
<ul>
<li><p>Comparaison des V de Cramer (basée sur la statistique du <span class="math inline">\(\chi^2\)</span></p></li>
<li><p>Comparaison du 1er plan factoriel d’une analyse factorielle des correspondances.</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="en-guise-de-conclusion" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>EN guise de conclusion</h2>
<div class="frame">
<ul>
<li><p>Il existe de nombreuses façons d’évaluer la perte d’information.</p></li>
<li><p>Fortement liée au niveau de protection.</p></li>
<li><p>De nombreuses méthodes pour évaluer la perte d’information, le choix de la mesure dépend entièrement des utilisateurs finaux des données publiées.</p></li>
<li><p>Difficile d’anticiper toutes les utilisations d’un ensemble de données et donc toutes les mesures associées de perte d’information.</p></li>
<li><p>Nécessité de faire des concessions sur certaines caractéristiques d’un tableau pour libérer des contraintes ailleurs.</p></li>
<li><p>On ne peut pas préserver toutes les caractéristiques d’un ensemble de données.</p></li>
</ul>
</div>
</section></section>
<section>
<section id="pour-aller-plus-loin" class="title-slide slide level1 center" data-background-image="background.svg" data-background-size="contain">
<h1>Pour aller plus loin</h1>

</section>
<section id="source-généraliste" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Source généraliste</h2>
<div class="frame">
<p>Hundepool and alt., <em>Handbook on Statistical Disclosure Control</em>, Wiley, 2012<br>
Une version libre et gratuite est disponible ici: <a href="https://ec.europa.eu/eurostat/cros/system/files/SDC_Handbook.pdf" class="uri">https://ec.europa.eu/eurostat/cros/system/files/SDC_Handbook.pdf</a> (2010)</p>
</div>
</section>
<section id="risques-de-divulgation" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Risques de divulgation</h2>
<div class="frame">
<ul>
<li><p>Sweeney, L. (2000). Simple demographics often identify people uniquely. <em>Health</em> (San Francisco), 671(2000), 1-34.</p></li>
<li><p>El Emam, K., &amp; Dankar, F. K. (2008). Protecting privacy using k-anonymity. <em>Journal of the American Medical Informatics Association</em>, 15(5), 627-637.</p></li>
</ul>
</div>
</section>
<section id="compromis-entre-risque-et-utilité" class="slide level2" data-background-image="background.svg" data-background-size="contain">
<h2>Compromis entre Risque et Utilité:</h2>
<div class="frame">
<ul>
<li>Domingo-Ferrer, J., Mateo-Sanz, J. M., &amp; Torra, V. (2001, May). Comparing SDC methods for microdata on the basis of information loss and disclosure risk. In <em>Pre-proceedings of ETK-NTTS</em> (Vol. 2, pp.&nbsp;807-826).</li>
</ul>
</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>L’arbitrage risque/utilité</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copié");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copié");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/InseeFrLab\.github\.io\/formation_protection_donnees\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>