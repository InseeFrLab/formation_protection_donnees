{
  "hash": "5b954e089fb8032aee31cf1b78bb5d66",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Les m√©thodes suppressives\nsubtitle: |\n  **[Pour donn√©es tabul√©es ou individuelles]{.orange}**\norder: 3\nhref: theorie/supports/methodes-suppressives.html\nimage: ../../images/theorie.png\n# date: \nslide-number: true\nheader: |\n  [Retour √† l'accueil](https://github.com/InseeFrLab/formation_protection_donnees)\nfooter: |\n  Les m√©thodes de protection statistique des donn√©es confidentielles\n# uncomment for French presentations:\nlang: fr-FR\n# for blind readers:\nslide-tone: false\n# for @olevitt:\n# chalkboard: # press the B key to toggle chalkboard\n#   theme: whiteboard\n# uncomment to use the multiplex mode:\n#multiplex: true\nformat:\n  onyxia-revealjs\n  # pick the light mode (onyxia-revealjs) or the dark mode (onyxia-dark-revealjs)\n  #onyxia-dark-revealjs:\ncontrols: true\ncss: custom.css\n# from: markdown+emoji\n# listing:\n#   id: sample-listings\n#   contents: teaching\n#   sort: \"date desc\"\n#   type: table\nbibliography: ../../references-SDC.bib\n# csl: ../style.csl  # D√©commentez besoin d'un style de biblio sp√©cifique\n---\n\n## Les m√©thodes √† disposition\n\n::: frame\n\nDeux types de m√©thodes en fonction du moment o√π elles sont appliqu√©es :\n\n- Les **m√©thodes pr√©-tabulation** sont appliqu√©es sur les donn√©es individuelles, *i.e.* **avant** toute tabulation\n- Les **m√©thodes post-tabulation** sont appliqu√©es sur les donn√©es agr√©g√©es, *i.e.* **apr√®s** tabulation\n\n:::\n\n## Les m√©thodes √† disposition\n\n| Type de m√©thode     | Type de donn√©es                     | **M√©thodes**                          |\n|---------------------|-------------------------------------|----------------------------------------|\n| Pr√©-tabulation      | Micro-donn√©es\\index{Microdata}      | Recodage des variables  <br> Suppression locale |\n| Post-tabulation     | Donn√©es tabul√©es                    | Suppression de cellules <br> Regroupement de cat√©gories |\n\n\n# Les m√©thodes pr√©-tabulation\n\n## Le recodage des variables\n\n| id | √¢ge | Genre | Profession   |\n|----|-----|-------|--------------|\n| 1  | 23  | H     | statistiques |\n| 2  | 24  | H     | statistiques |\n| 3  | 50  | F     | statistiques |\n| 4  | 53  | H     | statistiques |\n| 5  | 51  | F     | statistiques |\n\n## Le recodage des variables\n\n| id | √¢ge   | Genre | Profession   |\n|----|-------|-------|--------------|\n| 1  | 20-30 | H     | statistiques |\n| 2  | 20-30 | H     | statistiques |\n| 3  | 50-60 | F     | statistiques |\n| 4  | 50-60 | H     | statistiques |\n| 5  | 50-60 | F     | statistiques |\n\n## La suppression locale\n\nS'applique aux variables cat√©gorielles.\n\n. . .\n\nSuppression d'au moins une cat√©gorie pr√©sente dans une combinaison √† risque, i.e. on la remplace par une **valeur manquante**.\n\n. . . \n\n| id | Lieu de r√©sidence | Genre | Profession   |\n|----|-------------------|-------|--------------|\n| 1  | poitiers          | H     | statistiques |\n| 2  | poitiers          | H     | statistiques |\n| 3  | barfleur          | H     | p√™che        |\n| 4  | barfleur          | H     | p√™che        |\n| 5  | barfleur          | F     | maire        |\n\n## La suppression locale\n\n| id | Lieu de r√©sidence | Genre | Profession   |\n|----|-------------------|-------|--------------|\n| 1  | poitiers          | H     | statistiques |\n| 2  | poitiers          | H     | statistiques |\n| 3  | barfleur          | H     | p√™che        |\n| 4  | barfleur          | H     | p√™che        |\n| 5  | barfleur          | F     | *NA*         |\n\n# Les m√©thodes post-tabulation\n\nRegroupement des cat√©gories et suppression de cellules.\n\n## Tableaux d'effectifs\n\n|                   | Nord | Ouest | Est | Sud | Total |\n|:------------------|-----:|------:|----:|----:|------:|\n| **Polluante**     |    6 |    14 |   1 |   7 |    28 |\n| **Non polluante** |    3 |     2 |   1 |  13 |    19 |\n| **Total**         |    9 |    16 |   2 |  20 |    47 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 1 ‚Äì Nombre d'entreprises polluantes par r√©gion\n</div>\n\n. . .\n\nY a-t-il des cellules √† risque ?\n\n## Tableaux d'effectifs\n\n**R√®gle de fr√©quence** : une cellule d'un tableau ne doit pas √™tre construite √† partir de strictement moins de n unit√©s (n > 0).  \n\n<br>\n\nPour les donn√©es entreprises √† l'Insee, n = 3.\n\n## Tableaux d'effectifs\n\n|                   | Nord | Ouest | Est | Sud | Total |\n|:------------------|-----:|------:|----:|----:|------:|\n| **Polluante**     |    6 |    14 | <span style=\"color: red;\">1</span> |   7 |    28 |\n| **Non polluante** |    3 | <span style=\"color: red;\">2</span> | <span style=\"color: red;\">1</span> |  13 |    19 |\n| **Total**         |    9 |    16 | <span style=\"color: red;\">2</span> |  20 |    47 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 1 ‚Äì Nombre d'entreprises polluantes par r√©gion\n</div>\n\n## Tableaux de volume\n\n|                   | Harpes | Piano | Orgues  |  Total |\n|:------------------|------:|------:|------:|------:|------:|\n| **Nord**          |     58 |     71 |     92 |    221 |\n| **Centre**        |     11 |    124 |    157 |    292 |\n| **Sud**           |     36 |     24 |     60 |    120 |\n| **Total**         |    105 |    219 |    309 |    633 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n. . .\n\nY a-t-il des cellules √† risque ?\n\n## Tableaux de volume\n\n| R√©gion     | Harpes           | Piano            | Orgues           | Total            |\n|:-----------|-----------------:|-----------------:|-----------------:|-----------------:|\n| **Nord**   | 58 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 71 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span>  | 92 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 221 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (27)</span> |\n| **Centre** | 11 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (4)</span>   | 124 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (11)</span> | 157 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (2)</span>  | 292 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span> |\n| **Sud**    | 36 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (3)</span>   | 24 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (6)</span>   | 60 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (1)</span>   | 120 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (10)</span> |\n| **Total**  | 105 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (12)</span> | 219 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (34)</span> | 309 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (8)</span>  | 633 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (54)</span> |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> les valeurs entre parenth√®ses indiquent le <span style=\"color:blue;\">nombre de contributeurs</span>.\n</div>\n\n## Tableaux de volume\n\nSecret primaire de fr√©quence.\n\n| R√©gion     | Harpes           | Piano            | Orgues           | Total            |\n|:-----------|-----------------:|-----------------:|-----------------:|-----------------:|\n| **Nord**   | 58 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 71 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span>  | 92 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 221 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (27)</span> |\n| **Centre** | 11 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (4)</span>   | 124 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (11)</span> | 157 <span style=\"color:red;\" title=\"n<3\"> (2)</span>  | 292 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span> |\n| **Sud**    | 36 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (3)</span>   | 24 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (6)</span>   | 60 <span style=\"color:red;\" title=\"n<3\"> (1)</span>   | 120 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (10)</span> |\n| **Total**  | 105 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (12)</span> | 219 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (34)</span> | 309 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (8)</span>  | 633 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (54)</span> |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> les valeurs entre parenth√®ses indiquent le <span style=\"color:blue;\">nombre de contributeurs</span>.\n</div>\n\n## Tableaux de volume\n\n**R√®gle de dominance (n,k)** : une cellule est sensible si les n plus grands contributeurs de cette cellule repr√©sentent plus de k% du total de celle-ci.\n\n<br>\n\n- Pour les donn√©es entreprises √† l'Insee, n = 1 et k = 85. Donc, 1 unit√© contributrice √† une cellule ne peut contribuer √† plus de 85% de la valeur de celle-ci.\n- Pour chaque cellule du tableau, besoin de d√©terminer le plus gros contributeur.\n\n## Tableaux de volume\n\nSecret primaire de dominance.\n\n| R√©gion     | Harpes           | Piano            | Orgues           | Total            |\n|:-----------|-----------------:|-----------------:|-----------------:|-----------------:|\n| **Nord**   | 58 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 71 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span>  | <span style=\"color:orange;\" title=\"92 = 86 + 3 + 1 + 1 + 1\">92</span> <span style=\"color:orange;\" title=\"k = 93% > 85%\"> (5)</span>   | 221 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (27)</span> |\n| **Centre** | 11 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (4)</span>   | 124 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (11)</span> | 157 <span style=\"color:red;\" title=\"SP fr√©quence\"> (2)</span>  | 292 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span> |\n| **Sud**    | 36 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (3)</span>   | 24 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (6)</span>   | 60 <span style=\"color:red;\" title=\"SP fr√©quence\"> (1)</span>   | 120 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (10)</span> |\n| **Total**  | 105 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (12)</span> | 219 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (34)</span> | 309 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (8)</span>  | 633 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (54)</span> |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> les valeurs entre parenth√®ses indiquent le <span style=\"color:blue;\">nombre de contributeurs</span>.\n</div>\n\n## Tableaux de volume\n\n**R√®gle du p%** : une cellule est sensible si l'un des contributeurs a une cellule peut estimer la valeur d'un autre contributeur √† p% de sa v√©ritable valeur.\n\n- En pratique, le 2eme contributeur de la valeur de la cellule ne doit pas pouvoir estimer en utilisant sa propre valeur, celle du premier contributeur avec une pr√©cision sup√©rieure √† p%.\n- Il est d'usage de choisir p = 10.\n- Pas utilis√©e √† l'Insee mais recommand√©e par les experts europ√©ens.\n\n## Tableaux de volume\n\nSecret primaire d√ª √† la r√®gle du p%.\n\n| R√©gion     | Harpes           | Piano            | Orgues           | Total            |\n|:-----------|-----------------:|-----------------:|-----------------:|-----------------:|\n| **Nord**   | 58 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 71 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span>  | <span style=\"color:orange;\" title=\"92 = 86 + 3 + 1 + 1 + 1\">92</span> <span style=\"color:orange;\" title=\"k = 93% > 85%\"> (5)</span>   | 221 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (27)</span> |\n| **Centre** | 11 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (4)</span>   | 124 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (11)</span> | 157 <span style=\"color:red;\" title=\"SP fr√©quence\"> (2)</span>  | 292 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span> |\n| **Sud**    | <span style=\"color:purple;\" title=\"36 = 19 + 16 + 1\">36</span> <span style=\"color:purple;\" title=\"p = 5,3% < 10%\"> (3)</span>   | 24 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (6)</span>   | 60 <span style=\"color:red;\" title=\"SP fr√©quence\"> (1)</span>   | 120 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (10)</span> |\n| **Total**  | 105 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (12)</span> | 219 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (34)</span> | 309 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (8)</span>  | 633 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (54)</span> |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> les valeurs entre parenth√®ses indiquent le <span style=\"color:blue;\">nombre de contributeurs</span>.\n</div>\n\n## Le secret primaire\n\nLes cellules cat√©goris√©es √† risque pour la r√®gle de fr√©quence, la r√®gle de dominance et la r√®gle du p% constituent le secret primaire. On ne peut pas diffuser ces cellules.\n\n<br>\n\nComment faire ?\n\n## Le regroupement de cat√©gories\nRed√©finir le contenu des variables de croisement en **diminuant le nombre de** leur **modalit√©s**.\n\n<br>\n\nPermet de r√©duire fortement, voir d'enlever compl√®tement le secret primaire. \n\n<br>\n\nEnvisager cette option avant les autres m√©thodes.\n\n## Le recodage : un exemple\n\n|                   | <25 | 25-30 | 30-50 | > 50 | Total |\n|:------------------|----:|------:|------:|-----:|------:|\n| **Polluante**     |   <span style=\"color: red;\">2</span> |     5 |     7 |    6 |    20 |\n| **Non polluante** |   8 |    15 |    17 |   20 |    60 |\n| **Total**         |  10 |    20 |    24 |   26 |    80 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 3 ‚Äì Nombre d'entreprises polluantes selon l'√¢ge du dirigeant\n</div>\n\n. . .\n\nD√©finir de nouvelles modalit√©s pour augmenter le nombre de r√©pondants par cellule.\n\n## Le recodage : un exemple\n\n|                   | <28 | 28-35 | 35-55 | > 55 | Total |\n|:------------------|----:|------:|------:|-----:|------:|\n| **Polluante**     |   3 |     6 |     6 |    5 |    20 |\n| **Non polluante** |   9 |    17 |    19 |   15 |    60 |\n| **Total**         |  12 |    23 |    25 |   20 |    80 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 3bis ‚Äì Nombre d'entreprises polluantes selon l'√¢ge du dirigeant\n</div>\n\n## Le recodage : √† vous de jouer !\n\nOn cherche √† publier le tableau suivant :\n\n- Population d'une r√©gion par leur zone d'emploi de r√©sidence, leur zone d'emploi de travail, leur profession et leur √¢ge.\n- Beaucoup de secret primaire dans ce tableau puisque la plupart des gens r√©sident et travaillent dans la m√™me zone d'emploi.\n- Comment recoder ce tableau ?\n\n. . .\n\nUn premier recodage consiste √† regrouper toutes les zones d'emploi de travail hors r√©gion dans une seule cat√©gorie.\n\n## Le recodage\n\n| üëç | üëé |\n|:--:|:--:|\n| R√©duit le SP. | Ne supprime pas toujours totalement le SP. |\n| Tr√®s simple √† mettre en place. | Impossible dans certains cas (structure impos√©e, suivi dans le temps). |\n\n. . .\n\nComment prot√©ger le secret primaire restant ?\n\n# La suppression de cellules\n\n## Le secret primaire\n\nPremi√®re √©tape : supprimer les cellules ne respectant pas les r√®gles du secret primaire.\n\n|                   | Nord | Ouest | Est | Sud | Total |\n|:------------------|-----:|------:|----:|----:|------:|\n| **Polluante**     |    6 |    14 | <span style=\"color: red;\">X</span> |   7 |    28 |\n| **Non polluante** |    3 | <span style=\"color: red;\">X</span> | 3 |  13 |    21 |\n| **Total**         |    9 |    16 | 4 |  20 |    49 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 1 ‚Äì Nombre d'entreprises polluantes par r√©gion\n</div>\n. . .\n\nCe n'est pas suffisant, les cellules sont li√©es entre elles par des √©quations (marges).\n\n## Le secret secondaire\n\nDeuxi√®me √©tape : supprimer des cellules pour prot√©ger le secret primaire.\n\n|                   | Nord | Ouest |  Est | Sud | Total |\n|:------------------|-----:|------:|-----:|----:|------:|\n| **Polluante**     |    6 | <span style=\"color: red;\">X</span> | <span style=\"color: red;\">X</span> |   7 |    28 |\n| **Non polluante** |    3 | <span style=\"color: red;\">X</span> | <span style=\"color: red;\">X</span> |  13 |    21 |\n| **Total**         |    9 |    16                              | 4                                  |  20 |    49 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 1 ‚Äì Nombre d'entreprises polluantes par r√©gion\n</div>\n\n## Le secret secondaire\n\nPlusieurs structures de suppressions (masques de secret) sont possibles.\n\n|                   | Nord | Ouest |  Est | Sud | Total |\n|:------------------|-----:|------:|-----:|----:|------:|\n| **Polluante**     | <span style=\"color: red;\">X</span> |     14                             | <span style=\"color: red;\">X</span> |   7 |    28 |\n| **Non polluante** | <span style=\"color: red;\">X</span> | <span style=\"color: red;\">X</span> |   3                                |  13 |    21 |\n| **Total**         |    9 | <span style=\"color: red;\">X</span> | <span style=\"color: red;\">X</span> |  20 |    49 |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 1 ‚Äì Nombre d'entreprises polluantes par r√©gion\n</div>\n\n## Les intervalles de protection\n\nCacher des cellules revient √† diffuser des intervalles.\n\n|                   | Nord | Ouest    |  Est    | Sud | Total |\n|:------------------|-----:|---------:|--------:|----:|------:|\n| **Polluante**     |    6 | <span style=\"color: red;\">[11 ; 15]</span> | <span style=\"color: red;\">[0 ; 4]</span> |   7 |    28 |\n| **Non polluante** |    3 | <span style=\"color: red;\">[1 ; 5]</span> | <span style=\"color: red;\">[0 ; 4]</span> |  13 |    21 |\n| **Total**         |    9 |    16                              | 4                                  |  20 |    49 |\n\n\n**L'intervalle des possibles** : l'ensemble des valeurs possibles prises par la cellule supprim√©e apr√®s avoir pos√© le masque de secret.\n\n## Les intervalles de protection\n\n**L'intervalle de protection** : soit $V_C$ la valeur d'une cellule C sensible √† la r√®gle de fr√©quence et $m\\%$ la marge protection choisie.\n\n<br>\n\n$[(1 - m\\%). V_C ; (1 + m\\%). V_C]$\n\n<br>\n\nEn pratique on choisit souvent une marge de 10%, $[90\\%.V_C ; 110\\%.V_C]$\n\n## Les intervalles de protection\n\n| R√©gion     | Harpes           | Piano            | Orgues           | Total            |\n|:-----------|-----------------:|-----------------:|-----------------:|-----------------:|\n| **Nord**   | 58 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 71 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span>  | 92 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (5)</span>   | 221 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (27)</span> |\n| **Centre** | 11 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (4)</span>   | 124 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (11)</span> | <span style=\"color:red;\" title=\"[141.3 ; 172.7]\">157</span>  <span style=\"color:red;\" title=\"n < 3\"> (2)</span>  | 292 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (17)</span> |\n| **Sud**    | 36 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (3)</span>   | 24 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (6)</span>   | <span style=\"color:red;\" title=\"[54 ; 66]\">60</span> <span style=\"color:red;\" title=\"n < 3\"> (1)</span>   | 120 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (10)</span> |\n| **Total**  | 105 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (12)</span> | 219 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (34)</span> | 309 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (8)</span>  | 633 <span style=\"color:blue;\" title=\"Nombre d'entreprises\"> (54)</span> |\n\n<div style=\"text-align: center; font-weight: bold; margin-bottom: 0.5em;\">\n  Tableau 2 ‚Äì R√©partition des ventes d'instruments par r√©gion et par type, en millions d'euros\n</div>\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> glisser la souris sur les valeurs en secret primaire de fr√©quence pour voir les intervalles de protection.\n</div>\n\n## Les intervalles de protection\n\n**R√®gle des intervalles** : l'intervalle de protection de chaque cellule sensible doit √™tre inclus dans son intervalle des possibles.\n\n<br>\n\nCette r√®gle permet de se pr√©munir d'une divulgation par inf√©rence.\n\n## Les intervalles de protection\n\nExemple avec une marge de protection de 10%.\n\n| R√©gion     | Harpe | Piano  | Orgue   | Autre   | Total     |\n|:-----------|------:|-------:|--------:|--------:|----------:|\n| **Nord**   | 58   | 71   | 92    | 800   | **1021**  |\n| **Centre** | 11    | 124  | <span style=\"color:red;\" title=\"[141 ; 173]\">157 (2)</span>   | 934    | **1226** |\n| **Sud**    | 36    | 24  | <span style=\"color:red;\" title=\"[54 ; 66]\">60 (1)</span>   | 651   | **771** |\n| **Total**  | **105** | **219** | **309**  | **2385** | **3018** |\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> glisser la souris sur les valeurs en secret primaire de fr√©quence pour voir les intervalles de protection.\n</div>\n\n## Les intervalles de protection\n\nExemple avec une marge de protection de 10%.\n\n| R√©gion     | Harpe | Piano  | Orgue   | Autre   | Total     |\n|:-----------|------:|-------:|--------:|--------:|----------:|\n| **Nord**   | X   | 71   | X    | 800   | **1021**  |\n| **Centre** | X    | 124  | <span style=\"color:red;\" title=\"[141 ; 173]\">X</span>   | 934    | **1226** |\n| **Sud**    | X    | 24  | <span style=\"color:red;\" title=\"[54 ; 66]\">X</span>   | 651   | **771** |\n| **Total**  | **105** | **219** | **309**  | **2385** | **3018** |\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> glisser la souris sur les valeurs en secret primaire de fr√©quence pour voir les intervalles de protection.\n</div>\n\n## Les intervalles de protection\n\nExemple avec une marge de protection de 10%.\n\n| R√©gion     | Harpe | Piano  | Orgue   | Autre   | Total     |\n|:-----------|------:|-------:|--------:|--------:|----------:|\n| **Nord**   | [0;105]   | 71   | [45;150]    | 800   | **1021**  |\n| **Centre** | [0;105]    | 124  | <span style=\"color:red;\" title=\"[141 ; 173]\">[63;168]</span>   | 934    | **1226** |\n| **Sud**    | [0;96]    | 24  | <span style=\"color:red;\" title=\"[54 ; 66]\">[0;96]</span>   | 651   | **771** |\n| **Total**  | **105** | **219** | **309**  | **2385** | **3018** |\n\n<div style=\"font-size: 0.9em; margin-top: 0.5em;\">\n  <em>Note :</em> glisser la souris sur les valeurs en secret primaire de fr√©quence pour voir les intervalles de protection.\n</div>\n\n## Les intervalles de protection\n\nLa borne sup√©rieure de l'intervalle des possibles (168) est inf√©rieure √† la borne sup√©rieure de l'intervalle de protection (173).\n\n\n::: {.cell layout-align=\"center\" fig.margin='false'}\n::: {.cell-output-display}\n![](methodes-suppressives_files/figure-revealjs/unnamed-chunk-1-1.png){fig-align='center' width=576}\n:::\n:::\n\n\n\n## Les intervalles de protection\n\n\n::: {.cell layout-align=\"center\" fig.margin='false'}\n::: {.cell-output-display}\n![](methodes-suppressives_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=576}\n:::\n:::\n\n\nOn peut inf√©rer la valeur de la cellule √† <span title=\"157 + (7/100)*157 = 168\">7%</span> et non 10%.\n\nLa cellule n'est pas suffisamment prot√©g√©e.\n\n## Les intervalles de protection\n\nOn utilise un autre masque de secret ...\n\n| R√©gion     | Harpe | Piano  | Orgue   | Autre   | Total     |\n|:-----------|------:|-------:|--------:|--------:|----------:|\n| **Nord**   | 58   | X   | X    | 800   | **1021**  |\n| **Centre** | 11    | X  | <span style=\"color:red;\" title=\"[141 ; 173]\">X</span>   | 934    | **1226** |\n| **Sud**    | 36    | X  | <span style=\"color:red;\" title=\"[54 ; 66]\">X</span>   | 651   | **771** |\n| **Total**  | **105** | **219** | **309**  | **2385** | **3018** |\n\n\n## Les intervalles de protection\n\n... avec d'autres intervalles des possibles.\n\n| R√©gion     | Harpe | Piano  | Orgue   | Autre   | Total     |\n|:-----------|------:|-------:|--------:|--------:|----------:|\n| **Nord**   | 58   | [0;163]   | [0;163]    | 800   | **1021**  |\n| **Centre** | 11    | [0;219]  | <span style=\"color:red; font-weight: bold;\" title=\"[141 ; 173]\">[62;281]</span>   | 934    | **1226** |\n| **Sud**    | 36   | [0;84]  | <span style=\"color:red; font-weight: bold;\" title=\"[54 ; 66]\">[0;84]</span>   | 651   | **771** |\n| **Total**  | **105** | **219** | **309**  | **2385** | **3018** \n\n## Les intervalles de protection\n\n\n::: {.cell layout-align=\"center\" fig.margin='false'}\n::: {.cell-output-display}\n![](methodes-suppressives_files/figure-revealjs/unnamed-chunk-3-1.png){fig-align='center' width=576}\n:::\n:::\n\n\nAvec cet autre masque de secret la cellule est suffisamment prot√©g√©e.\n\n## Minimiser la perte d'information\n\nPour minimiser la perte d'information, il faut d√©finir pour chaque cellule un **co√ªt** associ√© √† sa suppression.\n\n<br>\n\nPlusieurs possibilit√©s :\n\n- Le nombre de cellules supprim√©es\n- Le nombre de contributeurs concern√©s par les cases supprim√©es\n- La valeur de la cellule (d√©faut Tau-Argus)\n- Un autre variable / co√ªt ajust√©\n\n# Les outils\n\n## $\\tau$-Argus\n\n<div style=\"display: flex; align-items: center; justify-content: space-between;\">\n  <ul>\n    <li>Permet de calculer le secret primaire et secondaire ou faire des arrondis contr√¥l√©s</li>\n    <li>D√©veloppement maintenance et support : group√© d'expert europ√©ens coordonn√© par CBS</li>\n    <li>Logiciel de r√©f√©rence en Europe pour g√©rer la confidentialit√© des tableaux</li>\n    <li>Logiciel libre et open source</li>\n    <li>Derni√®re version stable 4.2.4 (26 avril 2023)</li>\n  </ul>\n  <img src=\"./img/tau_argus_logo.png\" alt=\"Tau-Argus Logo\" style=\"height: 200px; margin-left: 20px; object-fit: contain;\">\n</div>\n\n\n## $\\tau$-Argus\n\n| üëç | üëé |\n|:--:|:--:|\n| Outil qui fait r√©f√©rence. | Interface fouillis. |\n| Performant sur la partie pose de secret gr√¢ce √† une optimisation globale. | Bugs et erreurs pas faciles √† comprendre et corriger. |\n|Outil maintenu r√©guli√®rement. | Reproductibilit√© des op√©rations limit√©es. |\n\n## rtauargus\n\nUn package R pour b√©n√©ficier des avantages de $\\tau$-Argus tout en limitant les inconv√©nients.\n\n<div style=\"display: flex; align-items: flex-start; justify-content: space-between;\">\n  <ul>\n    <li>D√©velopp√© √† l'Insee</li>\n    <li>[Code open-source](https://github.com/InseeFrLab/rtauargus)\n</li>\n    <li>Version la plus r√©cente 02/25 : v-1.2.999-dev</li>\n    <li>[Une documentation en ligne](https://inseefrlab.github.io/rtauargus/)</li>\n    <li>Utiliser les fonctions tab_XXX()</li>\n  </ul>\n  <img src=\"./img/rtauargus_logo_sans_fond.png\" alt=\"rtauargus Logo\" style=\"height: 200px; margin-left: 20px;\">\n</div>\n\n## rtauargus\n\nFonctionnement du package :\n\n- cr√©e l'ensemble des fichiers dans les formats attendus par $\\tau$-Argus\n- Lance $\\tau$-Argus\n- R√©cup√®re les r√©sultats dans R\n\n## rtauargus\n\n1) Poser le secret primaire \"manuellement\"\n2) Poser le secret secondaire avec :\n  - `tab_rtauargus()` : pour prot√©ger un seul tableau\n  - `tab_multi_manager()` : pour prot√©ger plusieurs tableaux\n  \n## rtauargus\n\nBesoin de retours utilisateurs : cr√©er une [issue sur github](https://github.com/InseeFrLab/rtauargus/issues).\n\nOu nous contacter par [mail](mailto:dg75_dmcsi-confidentialite@insee.fr).\n\n\n# Les hi√©rarchies\n\n## Tableaux hi√©rarchis√©s\n\n![](./img/pres_hrc-clear.png)\n\n## Tableaux hi√©rarchis√©s\n\n![](./img/pres_hrc_2-clear.png)\n\n. . . \n\nSi on ne renseigne pas la hi√©rarchie, on peut retrouver la valeur cach√©e.\n\n## Tableaux hi√©rarchis√©s\n\n![](./img/pres_hrc_3-clear.png)\n\n. . .\n\nLorsque la hi√©rarchie est renseign√©e, on prot√®ge bien les donn√©es.\n\n## Le format Argus des hi√©rarchies\n\nDans $\\tau$-Argus les hi√©rarchies sont pr√©sent√©es dans un format particulier : fichier texte **.hrc**.\n\n- Doit d√©crire parfaitement l'embo√Ætement\n- Le nombre de @ d√©signe le niveau d'embo√Ætement de chaque cat√©gorie\n- Ne fait pas appara√Ætre le total\n- La fonction `write_hrc2()` permet de cr√©er un fichier **.hrc** √† partir d'une table de passage\n\n# Prot√©ger des tableaux li√©s\n\n\n## Prot√©ger des tableaux li√©s avec rtauargus\n\nUtiliser la fonction `tab_multi_manager()` :  \n\n1) L'utilisateur d√©crit les tableaux\n2) Fusion automatique de tous les tableaux entre eux\n3) Algorithme g√®re la protection it√©rative des tableaux\n\nN.B. La pose du secret √† chaque it√©ration est effectu√©e avec $\\tau$-Argus.\n\n. . .\n\nLa fonction `tab_multi_manager()` fournit un journal sous forme de reporting (√©tapes pose secret).\n\n# Analyser une demande\n\n## L'analyse d'une demande\nIl faut rep√©rer les liens entre les tableaux pour poser un secret qui les prot√®ge vraiment.\n\nLes tableaux diffus√©s ne sont pas les m√™mes que les tableaux √† prot√©ger.\n\n## Etapes de l'analyse\n1) R√©unir les informations n√©cessaires √† la description des tableaux\n\n- champ\n- variables de croisements\n- variable de r√©ponses (i.e. indicateur)\n- tableaux de fr√©quence ou de volumes ?\n- description des embo√Ætements pour les hi√©rarchies\n- √©quations ou corr√©lations entre les variables de r√©ponses\n\n## Etapes de l'analyse\n2) La demande peut-elle √™tre d√©coup√©e en sous-demandes ind√©pendantes ?\n\n- champs diff√©rents et non compl√©mentaires => \\perp\\!\\!\\!\\perp\n- variable de r√©ponses diff√©rentes (et non li√©es par une √©quation / corr√©lation) => \\perp\\!\\!\\!\\perp\n- variables de croisement toutes diff√©rentes => \\perp\\!\\!\\!\\perp\n\nDans les cas d'ind√©pendance il faut *g√©rer s√©par√©ment les diff√©rentes sous-demandes*.\n\n## Etapes de l'analyse\n3) Lister les tableaux n√©cessaires pour la pose du secret\n\n- Certaines hi√©rarchies peuvent conduire √† unifier des tableaux\n- Si tableaux additifs, construire un unique tableau en cr√©ant une variable suppl√©mentaire\n- Si hi√©rarchie non-embo√Æt√©e, extraire les niveaux concern√©s pour construire un tableau suppl√©mentaire\n\n## Etapes de l'analyse\n4) Pr√©parer les hi√©rarchies\n\n- D√©tecter les variables hi√©rarchiques\n- Construire les fichiers .hrc n√©cessaires (manuellement ou avec `write_hrc2()`)\n\n# Liens sp√©cifiques\n## Traiter un lien additif entre des variables r√©ponses\n\n<div style=\"display: flex; gap: 20px;\">\n\n<div style=\"flex: 1;\">\n\n|       | reg1   | reg2   | **T**  |\n|-------|--------|--------|--------|\n| **tr1** | 5      | 10     | **15** |\n| **tr2** | 12     | 18     | **30** |\n| **tr3** | 5      | 5      | **10** |\n|  **T**  | **22** | **33** | **55** |\n<p style=\"text-align: center;\"><strong>CA couteaux</strong></p>\n</div>\n\n<div style=\"flex: 1;\">\n\n|       | reg1   | reg2   | **T**  |\n|-------|--------|--------|--------|\n| **tr1** | 3      | 8      | **11** |\n| **tr2** | 6      | 20     | **26** |\n| **tr3** | 2      | 6      | **8**  |\n| **T** | **11** | **34** | **45** |\n<p style=\"text-align: center;\"><strong>CA fourchettes</strong></p>\n</div>\n\n<div style=\"flex: 1;\">\n\n|       | reg1   | reg2   | **T**  |\n|-------|--------|--------|--------|\n| **tr1** | 8      | 18     | **26** |\n| **tr2** | 18     | 38     | **56** |\n| **tr3** | 7      | 11     | **18** |\n| **T** | **33** | **67** | **100**|\n<p style=\"text-align: center;\"><strong>CA couverts</strong></p>\n</div>\n\n</div>\n\n<br>\n\nLien entre les CA : \"couverts = couteaux + fourchettes\".\n\n## Traiter un lien additif entre des variables r√©ponses\n\nNouvelle variable de croisement : \"type_couverts\".\n\n| **R√©gion** |   **Tr**   |   **type_couverts**  |  **chiffre_affaires**  |\n| ---------- | ---------- | -------------------- | ---------------------- |\n| reg1       |     tr1    | couteaux             | 5                      |\n| reg1       |     tr1    | fourchettes          | 3                      |\n| reg1       |     tr1    | couverts             | 8                      |\n| ...        |     ...    | ...                  | ...                    |\n| **Total**  | **Total**  | **couverts**         | **100**                |\n\n\n\n## Traiter une hi√©rarchie non-embo√Æt√©e\n\n![](./img/hrc_non_emb-clear.png){fig-align=\"center\"}\n\n\n\nIci, l'agr√©gat `50+` ne peut pas √™tre bien embo√Æt√© dans la hi√©rarchie.\n\n## Traiter une hi√©rarchie non-embo√Æt√©e\n\n![](./img/hrc_non_emb_grp-clear.png){fig-align=\"center\"}\n\nCr√©er un second tableau contenant uniquement la ventilation de 50+.\n\n## Traiter une hi√©rarchie non-embo√Æt√©e\n\n::: columns\n::: column\n`princ.hrc`\n\n<25  \n25-29  \n30-69  \n\\@30-49  \n\\@50-69  \n70+  \n:::\n\n::: column\n`alt.hrc`\n\n50-69  \n70+  \n:::\n:::\n\n\n\n\n",
    "supporting": [
      "methodes-suppressives_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}