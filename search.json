[
  {
    "objectID": "ressources/index.html",
    "href": "ressources/index.html",
    "title": "Ressources",
    "section": "",
    "text": "Bibliographie indicative\n\n\nDes références pour aller plus loin.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInstaller les packages et les outils sur R\n\n\nOù trouver et comment installer les outils et packages recommandés ?\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html",
    "href": "ressources/fiches/bibliographie.html",
    "title": "Bibliographie indicative",
    "section": "",
    "text": "Handbook on Statistical Disclosure Control"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#ressources-généralistes",
    "href": "ressources/fiches/bibliographie.html#ressources-généralistes",
    "title": "Bibliographie indicative",
    "section": "",
    "text": "Handbook on Statistical Disclosure Control"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#les-méthodes-suppressives",
    "href": "ressources/fiches/bibliographie.html#les-méthodes-suppressives",
    "title": "Bibliographie indicative",
    "section": "Les méthodes suppressives",
    "text": "Les méthodes suppressives\n\nManuel de protection des données tabulées"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#le-traitement-des-données-individuelles",
    "href": "ressources/fiches/bibliographie.html#le-traitement-des-données-individuelles",
    "title": "Bibliographie indicative",
    "section": "Le traitement des données individuelles",
    "text": "Le traitement des données individuelles\n\nLa gestion de la confidentialité des données individuelles (Insee)\nStatistical Disclosure Control for Microdata: A Practice Guide for sdcMicro\nStatistical Disclosure Control for Microdata: Theory"
  },
  {
    "objectID": "glossaire/index.html",
    "href": "glossaire/index.html",
    "title": "Glossaire",
    "section": "",
    "text": "M\nMicro-données: Un jeu de micro-données est l’équivalent d’un jeu de données individuelles, dans lequel chaque enregistrement (chaque ligne) correspond aux informations d’une unité statistique (individu, ménage, entreprise, etc.), informations issues d’une enquête, d’un répertoire ou d’un fichier administratif."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "",
    "text": "Cette fiche pratique présente une façon de protéger des tableaux en utilisant une méthode suppressive grâce au package rtauargus qui appelle Tau-Argus depuis R. Le code peut être entièrement caché ou visible grâce au bouton à droite du titre. Vous pouvez aussi le faire apparaître ou disparaître au fur et à mesure de la lecture en appuyant sur les boutons &lt;/&gt; Code."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#présentation-des-données-individuelles",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#présentation-des-données-individuelles",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Présentation des données individuelles",
    "text": "Présentation des données individuelles\nNous créons un jeu de données entreprises (1 ligne = 1 entreprise) pour lesquelles on dispose d’informations telles que l’activité, la catégorie juridique, la géographie d’implantation (variables NUTS) et la tranche d’effectifs. Pour chaque entreprise on dispose également du chiffre d’affaires (CA) selon le type de produits (salades, pizzas, batavias, légumes rouges, etc.).\n\n\nCode\nstr(micro)\n\n\ntibble [10,000 × 14] (S3: tbl_df/tbl/data.frame)\n $ a10     : chr [1:10000] \"BE\" \"MN\" \"BE\" \"OQ\" ...\n $ a21     : chr [1:10000] \"C\" \"N\" \"E\" \"Q\" ...\n $ a88     : chr [1:10000] \"C27\" \"N78\" \"E38\" \"Q87\" ...\n $ nuts1   : chr [1:10000] \"FR1\" \"FRC\" \"FRJ\" \"FRF\" ...\n $ nuts2   : chr [1:10000] \"FR10\" \"FRC2\" \"FRJ2\" \"FRF2\" ...\n $ nuts3   : chr [1:10000] \"FR103\" \"FRC22\" \"FRJ25\" \"FRF22\" ...\n $ treff   : chr [1:10000] \"tr3\" \"tr1\" \"tr1\" \"tr3\" ...\n $ cj      : chr [1:10000] \"LL\" \"LL\" \"LL\" \"PA\" ...\n $ maches  : num [1:10000] 73625 72960 49101 61880 61224 ...\n $ batavias: num [1:10000] 55324 52754 31679 33658 38232 ...\n $ salades : num [1:10000] 128949 125714 80780 95538 99456 ...\n $ tomates : num [1:10000] 130212 344992 164522 176079 145249 ...\n $ pizzas  : num [1:10000] 116520 0 0 267409 0 ...\n $ poids   : num [1:10000] 242 179 184 50 164 103 53 234 239 243 ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-un-indicateur",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-un-indicateur",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Tabuler un indicateur",
    "text": "Tabuler un indicateur\nOn veut construire le chiffre d’affaires en salades des entreprises par activité (niveau a88) et par tranche d’effectifs (treff).\n\n\nCode\nsalades &lt;- tabulate_micro_data(\n  df = micro,\n  cat_var = c(\"a88\", \"treff\"),\n  pond_var = \"poids\",\n  resp_var = \"salades\",\n  marge_label = \"Total\"\n)\n\n\nLe résultat est un tableau long avec :\n\nLes variables de croisement (a88 et treff)\nDifférents indicateurs :\n\nnb_obs: comptage du nombre d’entreprises (pour appliquer la règle de fréquence)\nsalades_tot: indicateur / variable de réponse (ici total du chiffre d’affaire de salades)\nsalades_max: contribution maximale au chiffre d’affaires (pour appliquer la règle de dominance) Toutes les marges (totaux et sous-totaux) ont été ajoutées à la table.\n\n\n\n\nCode\nstr(salades)\n\n\nClasses 'data.table' and 'data.frame':  351 obs. of  5 variables:\n $ a88        : chr  \"C27\" \"N78\" \"E38\" \"Q87\" ...\n $ treff      : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs     : num  19554 17371 20839 20224 17122 ...\n $ salades_tot: num  1.74e+09 1.54e+09 1.82e+09 1.86e+09 1.57e+09 ...\n $ salades_max: num  137073 137203 140522 144429 140834 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt;"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#calculer-plusieurs-indicateurs-en-même-temps",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#calculer-plusieurs-indicateurs-en-même-temps",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Calculer plusieurs indicateurs en même temps",
    "text": "Calculer plusieurs indicateurs en même temps\nOn veut construire deux tableaux :\n\nle chiffre d’affaires de la production de pizzas des entreprises par activité (niveau A10), par tranche d’effectifs (treff) et catégorie juridique (cj);\nle chiffre d’affaires de la production de tomates des entreprises par activité (niveau A10), par tranche d’effectifs (treff) et catégorie juridique (cj).\n\nCes deux tableaux ont les mêmes variables de croisement et deux indicateurs différents. Ils peuvent être construits en même temps.\n\n\nCode\npizzas_tomates &lt;- tabulate_micro_data(\n  df = micro,\n  cat_vars = c(\"a10\", \"treff\",\"cj\"),\n  pond_var = \"poids\",\n  resp_var = c(\"pizzas\",\"tomates\"),\n  marge_label = \"Ensemble\"\n)\n\nstr(pizzas_tomates)\n\n\nClasses 'data.table' and 'data.frame':  174 obs. of  8 variables:\n $ a10        : chr  \"BE\" \"MN\" \"OQ\" \"RU\" ...\n $ treff      : chr  \"Ensemble\" \"Ensemble\" \"Ensemble\" \"Ensemble\" ...\n $ cj         : chr  \"Ensemble\" \"Ensemble\" \"Ensemble\" \"Ensemble\" ...\n $ nb_obs     : num  608493 239202 75471 171537 184607 ...\n $ pizzas_tot : num  2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n $ tomates_tot: num  1.54e+11 6.20e+10 1.83e+10 4.44e+10 4.62e+10 ...\n $ pizzas_max : num  899871 898861 899157 898798 899906 ...\n $ tomates_max: num  499928 499883 494816 499526 499837 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt;"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Poser le secret secondaire",
    "text": "Poser le secret secondaire\nPoser un masque de secret sur un tableau comprend les étapes suivantes:\n\nTout d’abord on pose le secret primaire. Pour cela, il faut créer créer des variables indicatrices :\n\nPour chacun des tableaux, vous ajouterez une variable booléenne indiquant si la cellule est problématique (TRUE) ou non (FALSE), au regard de chacune des règles pertinentes à appliquer :\n\nSi vous appliquez la règle de fréquence, la variable créée s’appellera is_secret_freq;\nSi vous appliquez la règle de dominance, la variable créée s’appellera is_secret_dom.\n\nPuis de créer une variable qu’on appellera is_secret_prim, définie ainsi :\n\nis_secret_prim = is_secret_freq si seule la règle de fréquence doit s’appliquer;\nis_secret_prim = is_secret_freq | is_secret_dom si les deux règles doivent s’appliquer;\n\n\nAprès avoir posé le secret primaire, vous calculerez le nombre de cellules détectées comme à risque.\nEnsuite, il s’agit de poser le secret secondaire en utilisant le package rtauargus. Les consignes d’installation de rtauargus et du logiciel Tau-Argus sont indiquées dans la partie Initialisation. Vous utiliserez la fonction tab_rtauargus().\nEnfin, vous calculerez le nombre de cellules selon leur statut final. Nous utiliserons pour cela la norme européenne en notant :\n\n\nA les cellules en secret primaire à cause de la règle de fréquence\nB les cellules en secret primaire à cause de la règle de dominance (dans le futur ces cellules pourraient être notées O)\nD les cellules concernées par le secret secondaire\nV les cellules non touchées par le secret, cad les cellules qui pourront être diffusées.\n\nLa fonction tab_rtauargus() permet de poser le secret secondaire et requiert les arguments suivants :\n- tabular : la table à protéger - dir_name : le nom du répertoire où les fichiers seront sauvegardés - files_name : le nom utilisé pour nommer les fichiers (chaque fichier a une extension différente); - explanatory_vars : le nom des variables de croisements présents dans la table; - secret_var : le nom de la variable indiquant si une cellule est à risque ou non (secret primaire); - value : nom de la variable de réponse; - freq : nom de la variable d’effectifs; - totcode : le code utilisé pour indiquer le total pour chacune des variables de croisements (explanatory_vars).\n\n\nCode\nsalades_masq &lt;- tab_rtauargus(\n  salades_detect,\n  dir_name = \"tauargus_files/exo2\",\n  files_name = \"T0\",\n  explanatory_vars = c(\"a88\",\"treff\"),\n  secret_var = \"is_secret_prim\",\n  value = \"salades_tot\",\n  freq = \"nb_obs\",\n  totcode = c(a88=\"Total\",treff=\"Total\"),\n  verbose = FALSE\n)"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-les-résultats",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-les-résultats",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Analyser les résultats",
    "text": "Analyser les résultats\n\nLes fichiers créés lors de l’exécution de Tau-Argus\nL’ensemble des fichiers créés pendant le processus se trouvent dans le répertoire mentionné dans l’argument dir_name. Tous les fichiers ont le même nom, mais pas la même extension:\n\nT0.tab : tableau de données\nT0.hst : fichier d’apriori où sont listées les cellules à risque (secret primaire)\nT0.rda : fichier de métadonnées;\nT0.arb : fichier batch, qui sera exécuté par Tau-Argus\nT0.txt : fichier log, retraçant les étapes exécutées par Tau-Argus\nT0.csv : masque au format csv\n\n\n\nLe masque\nLe masque est retourné par la fonction. Ce masque est une copie de la table fournie en entrée à laquelle une variable supplémentaire, Status, est fournie indiquant le statut final de la cellule:\n\nB : secret primaire (ou apriori)\nD : secret secondaire\nV : cellule valide, cad qui peut être diffusée\n\n\n\nCode\nstr(salades_masq)\n\n\nClasses 'data.table' and 'data.frame':  351 obs. of  9 variables:\n $ a88           : chr  \"A01\" \"A01\" \"A01\" \"A01\" ...\n $ treff         : chr  \"Total\" \"tr1\" \"tr2\" \"tr3\" ...\n $ nb_obs        : num  16978 7660 856 8462 19026 ...\n $ salades_tot   : num  1.53e+09 6.99e+08 7.44e+07 7.61e+08 1.67e+09 ...\n $ salades_max   : num  136845 130891 106591 136845 142618 ...\n $ is_secret_freq: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ is_secret_dom : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ is_secret_prim: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ Status        : chr  \"V\" \"V\" \"V\" \"V\" ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n - attr(*, \"sorted\")= chr [1:2] \"a88\" \"treff\"\n\n\n\n\nBilan du secret\nPour faire le bilan du secret le mieux est de modifier la variable Status fournie par Tau-Argus. En effet, cette variable ne permet pas de faire la distinction entre l’origine du secret primaire (fréquence ou dominance).\n\n\nCode\nsalades_masq_statut_final &lt;- salades_masq %&gt;% \n  mutate(\n    statut_final = case_when(\n      is_secret_freq ~ \"A\",\n      is_secret_dom ~ \"B\",\n      TRUE ~ Status,\n    )\n  )\n\n\nAfin de bien appréhender l’impact du secret posé, on va non seulement compter le nombre de cellules masquées, mais aussi calculer la valeur des cellules masquées.\n\n\nCode\nsalades_masq_statut_final %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(salades_tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 3 × 5\n  statut_final n_cell     val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;        &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                 4       402294     1.14    0.0000714\n2 D                 2       625022     0.570   0.000111 \n3 V               345 563464335844    98.3   100.       \n\n\nOn masque 1.5% des cellules mais moins de 0.01% de l’information totale."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#construction-du-fichier-hiérarchique-pour-tau-argus",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#construction-du-fichier-hiérarchique-pour-tau-argus",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Construction du fichier hiérarchique pour Tau-Argus",
    "text": "Construction du fichier hiérarchique pour Tau-Argus\n\n“A la main”\nLa première option consiste à créer le fichier nécessaire (extension .hrc) à la main. Ceci est tout à fait pertinent si la hiérarchie n’est pas trop étendue.\nTau-Argus attend en effet un type de fichier bien particulier, dont l’extension est .hrc. Il s’agit d’un simple fichier texte où les différents emboîtements sont écrits les uns en-dessous des autres. Un symbole (le @) est utilisé pour préciser le niveau de chacun des emboîtements au sein de la hiérarchie.\nPar exemple, un fichier contenant les lignes suivantes :\nALL\n(A?)\n@(A1?)\n@(A2?)\n(B?)\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\n(C?)\ndécrit une hiérarchie contenant les emboîtements suivants:\n\nALL = A + B + C =&gt; ALL est le total et A, B et C sont les emboîtements de niveau 1;\nA = A1 + A2 =&gt; A1 et A2 sont des sous-niveaux de A, donc des emboîtements de niveau 2;\nB = B1 + B2\nB2 = B21 + B22\n\nNéanmoins, pour utiliser cette hiérarchie avec Tau-Argus, le super-total (ici “ALL”) ne doit pas apparaître dans le fichier .hrc qui lui est fourni.\nLe bon fichier est donc le suivant :\n(A?)\n@(A1?)\n@(A2?)\n(B?)\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\n(C?)\n\n\nAutomatiquement\nQuand la hiérarchie est très étendue, l’écriture manuelle du fichier de hiérarchie est pénible. Or, quand ce genre de cas se présente, il existe souvent une table de correspondance permettant d’associer les différents niveaux entre eux.\nNous appelons table de correspondance une table qui précise l’ensemble des niveaux associés aux emboîtements les plus fins.\nLa table de correspondance représentant la hiérarchie suivante :\nALL\n(A?)\n@(A1?)\n@(A2?)\n(B?)\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\n(C?)\nest la suivante:\n\n\nCode\ncorr_tab &lt;- tibble(\n  niv0 = \"ALL\",\n  niv1 = c(rep(\"A\",2),rep(\"B\",3), \"C\"),\n  niv2 = c(\"A1\",\"A2\",\"B1\",rep(\"B2\",2), \"C\"),\n  niv3 = c(\"A1\",\"A2\",\"B1\", \"B21\", \"B22\", \"C\")\n)\ncorr_tab\n\n\n# A tibble: 6 × 4\n  niv0  niv1  niv2  niv3 \n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1 ALL   A     A1    A1   \n2 ALL   A     A2    A2   \n3 ALL   B     B1    B1   \n4 ALL   B     B2    B21  \n5 ALL   B     B2    B22  \n6 ALL   C     C     C    \n\n\nRemarque: La fonction rtauargus::write_hrc2() qui permet de construire le fichier .hrc à partir d’une table de correspondance n’accepte pas de valeurs manquantes dans la table en entrée. C’est pourquoi, à la dernière ligne, par exemple, C n’admettant pas de subdivisions est répété sur les niveaux inférieurs.\nAvec la fonction write_hrc2() du package rtauargus, on peut exporter la table de correspondance en un fichier hrc. Comme noté précédemment, Tau-Argus n’acceptant pas que le super-total d’une variable hiérarchique soit présent dans le fichier .hrc on le supprime:\n\n\nCode\nwrite_hrc2(corr_tab %&gt;% select(-niv0), file_name = \"fichiers_tauargus/hrc/exemple_TA.hrc\")\nread.table(\"fichiers_tauargus/hrc/exemple_TA.hrc\")\n\n\n     V1\n1     A\n2   @A1\n3   @A2\n4     B\n5   @B1\n6   @B2\n7 @@B21\n8 @@B22\n9     C"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#protection",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#protection",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Protection",
    "text": "Protection\nA présent nous protégeons le tableau T0 pour lequel on vient de construire la hiérarchie.\nLa variable geo est hiérarchique (Pays = Nord + Ouest + Est + Sud, par exemple), on construit le fichier adéquat.\nTable de passage (habituellement elle existe déjà mais pour l’exercice nous la créons) et appel à rtauargus::write_hrc2().\n\n\nCode\ncorr_pays &lt;- tibble(\n  niv1 = c(rep(\"Nord\", 3), rep(\"Ouest\", 4), rep(\"Est\", 3), rep(\"Sud\", 2)),\n  niv2 = c(\"N1\", \"N2\", \"N3\", \"O1\", \"O2\", \"O3\", \"O4\", \"E1\", \"E2\", \"E3\", \"S1\", \"S2\")\n)\n\nwrite_hrc2(corr_pays, file_name = \"fichiers_tauargus/hrc/pays.hrc\")\nread.table(\"fichiers_tauargus/hrc/pays.hrc\")\n\n\n      V1\n1   Nord\n2    @N1\n3    @N2\n4    @N3\n5  Ouest\n6    @O1\n7    @O2\n8    @O3\n9    @O4\n10   Est\n11   @E1\n12   @E2\n13   @E3\n14   Sud\n15   @S1\n16   @S2\n\n\nNous pouvons dès lors poser le masque de secret sur ce tableau. Pour cela, nous faisons toujours appel à la fonction tab_rtauargus.\n\n1. Poser le secret primaire\n\n\nCode\nstr(T0)\n\n\n'data.frame':   17 obs. of  2 variables:\n $ geo : chr  \"Pays\" \"Nord\" \"Ouest\" \"Est\" ...\n $ freq: num  400 46 191 80 83 21 2 23 32 54 ...\n\n\nIl s’agit d’un tableau d’effectifs/de fréquence, on pose donc seulement le secret primaire de fréquence.\n\n\nCode\nT0_detect &lt;- T0 %&gt;% \n  mutate(\n      is_secret_freq = freq &gt; 0 & freq &lt; 3\n    )\n\ntable(T0_detect$is_secret_freq)\n\n\n\nFALSE  TRUE \n   16     1 \n\n\n\n\n2. Lancer Tau-Argus pour poser le secret secondaire\nPour que l’information hiérarchique soit bien prise en compte lors de la pose du secret secondaire par Tau-Argus, il suffit de renseigner l’argument hrc = sous la forme d’un vecteur nommé c(var1 = fichier1, var2 = fichier2,...): le nom de chaque élément étant le nom de la variable concernée et la valeur étant la localisation du fichier .hrc correspondant.\n\n\nCode\nT0_masq &lt;- tab_rtauargus(\n  T0_detect,\n  dir_name = \"fichiers_tauargus/sorties/ex_hrc_pays\",\n  files_name = \"T0\",\n  explanatory_vars = \"geo\",\n  hrc = c(geo = \"fichiers_tauargus/hrc/pays.hrc\"),\n  secret_var = \"is_secret_freq\",\n  value = \"freq\",\n  totcode = c(geo=\"Pays\"),\n  verbose = FALSE\n)\n\n\nVérifions que le secret a été posé correctement :\n\n\nCode\nT0_masq\n\n\n     geo freq is_secret_freq Status\n1     E1   27          FALSE      V\n2     E2   41          FALSE      V\n3     E3   12          FALSE      V\n4    Est   80          FALSE      V\n5     N1   21          FALSE      D\n6     N2    2           TRUE      B\n7     N3   23          FALSE      V\n8   Nord   46          FALSE      V\n9     O1   32          FALSE      V\n10    O2   54          FALSE      V\n11    O3   67          FALSE      V\n12    O4   38          FALSE      V\n13 Ouest  191          FALSE      V\n14  Pays  400          FALSE      V\n15    S1   44          FALSE      V\n16    S2   39          FALSE      V\n17   Sud   83          FALSE      V\n\n\nLa cellule N2 est en secret primaire car elle a une fréquence inférieure à 3. Il faut donc poser un secret secondaire pour protéger cette cellule. On voit que N1 est en secret secondaire ce qui permet de protéger N2 de la différenciation avec le total Nord. Donc, on a bien ici une pose de secret qui respecte la hiérarchie de la variable geo.\nRegardons à présent le secret posé sans prendre en compte la hiérarchie sur la variable geo :\n\n\nCode\nT0_masq_sans_hrc &lt;- tab_rtauargus(\n  T0_detect,\n  dir_name = \"fichiers_tauargus/sorties/ex_hrc_pays\",\n  files_name = \"T0\",\n  explanatory_vars = \"geo\",\n  # hrc = c(geo = \"fichiers_tauargus/hrc/pays.hrc\"),\n  secret_var = \"is_secret_freq\",\n  value = \"freq\",\n  totcode = c(geo=\"Pays\"),\n  verbose = FALSE\n)\n\n\nCette fois-ci le secret secondaire est posé en E3, pour minimiser les valeurs supprimées. Mais ce secret ne tient pas car on peut retrouver la valeur de N2 en faisant N2 = Nord - N1.\n\n\nCode\nT0_masq_sans_hrc\n\n\n     geo freq is_secret_freq Status\n1     E1   27          FALSE      V\n2     E2   41          FALSE      V\n3     E3   12          FALSE      D\n4    Est   80          FALSE      V\n5     N1   21          FALSE      V\n6     N2    2           TRUE      B\n7     N3   23          FALSE      V\n8   Nord   46          FALSE      V\n9     O1   32          FALSE      V\n10    O2   54          FALSE      V\n11    O3   67          FALSE      V\n12    O4   38          FALSE      V\n13 Ouest  191          FALSE      V\n14  Pays  400          FALSE      V\n15    S1   44          FALSE      V\n16    S2   39          FALSE      V\n17   Sud   83          FALSE      V"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-la-demande",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-la-demande",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Analyser la demande",
    "text": "Analyser la demande\nA partir des microdonnées présentées dans la partie “Tabuler les données”, on souhaite publier les tableaux suivants.\n\n\n\n\n\nTab\nVar_reponse\nexpl_var1\nexpl_var2\n\n\n\n\nT1\nca_pizzas\nNuts2\nTREFF\n\n\nT2\nca_pizzas\nNuts3\nTREFF\n\n\nT3\nca_pizzas\nA10\nNuts2\n\n\nT4\nca_pizzas\nA10\nNuts3\n\n\nT5\nca_pizzas\nA21\nNuts2\n\n\nT6\nca_pizzas\nA21\nNuts3\n\n\nT7\nca_pizzas\nA88\nNuts2\n\n\nT8\nca_pizzas\nA88\nNuts3\n\n\nT9\nca_batavia\nA10\nTREFF\n\n\nT10\nca_batavia\nA10\nCJ\n\n\nT11\nca_batavia\nA21\nTREFF\n\n\nT12\nca_batavia\nA21\nCJ\n\n\nT13\nca_batavia\nA88\nTREFF\n\n\nT14\nca_batavia\nA88\nCJ\n\n\nT15\nca_mache\nA10\nTREFF\n\n\nT16\nca_mache\nA10\nCJ\n\n\nT17\nca_mache\nA21\nTREFF\n\n\nT18\nca_mache\nA21\nCJ\n\n\nT19\nca_mache\nA88\nTREFF\n\n\nT20\nca_mache\nA88\nCJ\n\n\nT21\nca_salades\nA10\nTREFF\n\n\nT22\nca_salades\nA10\nCJ\n\n\nT23\nca_salades\nA21\nTREFF\n\n\nT24\nca_salades\nA21\nCJ\n\n\nT25\nca_salades\nA88\nTREFF\n\n\nT26\nca_salades\nA88\nCJ\n\n\n\n\n\nChamp de la population : entreprises françaises.\nInformations complémentaires : il n'y a que deux types de salades les batavias et la mâche.\n\n\nPour n’oublier aucun lien entre les tableaux, on procède étape par étape.\n\nLes tableaux sont-ils sur le même champ ?\nOui les tableaux portent tous sur le même champ des entreprises françaises.\n\n\nLes tableaux ont-ils les mêmes variables réponses ?\n\nT1-T8 : variable réponse « ca_pizzas »\nT9-T14 : variable réponse « ca_batavia »\nT15-T20 : variable réponse « ca_mache »\nT21-T26 : variable réponse « ca_salades »\n\n\n\nLes variables réponses ont-elles un lien entre elles ?\nL’information complémentaire nous identique qu’il n’y a que deux types de salades, les batavias et la mâche. On comprend donc que la somme des chiffres d’affaires des batavias et des mâches est égale au chiffre d’affaires des salades : ca_salades = ca_batavia + ca_mache. On peut donc regrouper tous les tableaux qui ont les mêmes variables de croisement et l’un de ces trois indicateurs dans un même tableau. Dans ce tableau on crée une nouvelle variable de croisement qu’on peut nommer « crois_salades ». C’est le cas pour les tables de 9 à 26, on peut les regrouper comme suit : - T9_T15_T21 : ca \\(\\otimes\\) {A10 x treff x crois_salades}\n- T10_T16_T22 : ca \\(\\otimes\\) {A10 x cj x crois_salades}\n- T11_T17_T23 : ca \\(\\otimes\\) {A21 x treff x crois_salades}\n- T12_T18_T24 : ca \\(\\otimes\\) {A21 x cj x crois_salades}\n- T13_T19_T25 : ca \\(\\otimes\\) {A88 x treff x crois_salades}\n- T14_T20_T26 : ca \\(\\otimes\\) {A88 x cj x crois_salades}\nOn en déduit donc qu’il y a deux sous-demandes indépendantes / « clusters » :\n- T1-T8 (cluster pizza)\n- T9-T26 (cluster salades)\n\n\nDans chacun des clusters variables de croisement identiques ?\nDans chacun des clusters y a-t-il des variables de croisement identiques ? Y a-t-il des variables de croisements liés par un lien hiérarchique ? Cluster pizza :\n- les variables « nuts2 » et « nuts3 » font partie de la même hiérarchie « nuts », autrement dit une hiérarchie sur la zone géographique\n- les variables A10, A21 et A88 font partie de la hiérarchie « NAF »\nOn peut donc regrouper ces variables de croisement en deux variables de croisement « nuts » et « NAF ». On obtient donc 2 tableaux à protéger dans le cluster pizza :\n- T_A : ca_pizzas \\(\\otimes\\) {nuts x treff}\n- T_B : ca_pizzas \\(\\otimes\\) {naf x nuts}\nCes deux tableaux sont liés par leur marge sur nuts. Il faut les traiter ensemble dans le même tab_multi_manager().\nCluster salades : - les variables A10, A21 et A88 font partie de la hiérarchie « NAF »\nAinsi, on peut réecrire les 6 tableaux écrits plus haut de cette façon :\n- T9_T15_T21 : ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T10_T16_T22 : ca \\(\\otimes\\) {naf x cj x crois_salades}\n- T11_T17_T23 : ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T12_T18_T24 : ca \\(\\otimes\\) {naf x cj x crois_salades}\n- T13_T19_T25 : ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T14_T20_T26 : ca \\(\\otimes\\) {naf x cj x crois_salades}\nOn voit bien que plusieurs de ces tableaux sont en fait exactement les mêmes, donc finalement les tableaux à traiter pour ce cluster sont : - T_C : ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T_D: ca \\(\\otimes\\) {naf x cj x crois_salades}"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-les-données-1",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-les-données-1",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Tabuler les données",
    "text": "Tabuler les données\nOn commence par tabuler les données pour l’indicateur “chiffre d’affaires vente pizzas”.\n\n\nCode\npizzas_tabule &lt;- tabulate_micro_data(\n  micro,\n  cat_vars = c(\"treff\"),\n  hrc_vars = list(naf = c(\"a10\",\"a21\",\"a88\"), nuts = c(\"nuts2\",\"nuts3\")),\n  pond_var = \"poids\",\n  resp_var = c(\"pizzas\"),\n  marge_label = \"Total\"\n)\n\nstr(pizzas_tabule)\n\n\nClasses 'data.table' and 'data.frame':  32222 obs. of  6 variables:\n $ naf       : chr  \"BE\" \"MN\" \"OQ\" \"RU\" ...\n $ nuts      : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ treff     : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs    : num  608493 239202 75471 171537 184607 ...\n $ pizzas_tot: num  2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n $ pizzas_max: num  899871 898861 899157 898798 899906 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nOn tabule ensuite pour les indicateurs “chiffre d’affaires vente mâches, batavia et salades”. N.B. il faut créer une nouvelle variable de croisement.\n\n\nCode\nsalades_tabule &lt;- tabulate_micro_data(\n  micro,\n  cat_vars = c(\"treff\",\"cj\"),\n  hrc_vars = list(naf = c(\"a10\",\"a21\",\"a88\")),\n  pond_var = \"poids\",\n  resp_var = c(\"salades\",\"batavias\",\"maches\"),\n  marge_label = \"Total\"\n)\n\nsalades_tabule_3var &lt;- salades_tabule %&gt;% \n  tidyr::pivot_longer(\n    cols = c(salades_tot, maches_tot, batavias_tot, \n             salades_max, maches_max, batavias_max),\n    names_to = c(\"crois_salades\", \".value\"),\n    names_pattern = \"(.*)_(tot|max)\"\n  )\n\nstr(salades_tabule_3var)\n\n\ntibble [5,484 × 7] (S3: tbl_df/tbl/data.frame)\n $ naf          : chr [1:5484] \"BE\" \"BE\" \"BE\" \"MN\" ...\n $ treff        : chr [1:5484] \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ cj           : chr [1:5484] \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs       : num [1:5484] 608493 608493 608493 239202 239202 ...\n $ crois_salades: chr [1:5484] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n $ tot          : num [1:5484] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n $ max          : num [1:5484] 144352 74992 69992 143830 74974 ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-primaire-2",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-primaire-2",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Poser le secret primaire",
    "text": "Poser le secret primaire\nSecret primaire pour les pizzas.\n\n\nCode\npizzas_tabule &lt;- pizzas_tabule %&gt;% mutate(\n  is_secret_freq = nb_obs &gt; 0 & nb_obs &lt; 3,\n  is_secret_dom = (pizzas_tot != 0) & (pizzas_max &gt; 0.85*pizzas_tot),\n  is_secret_prim = is_secret_freq | is_secret_dom\n)\n\ntable(pizzas_tabule$is_secret_prim)\n\n\n\nFALSE  TRUE \n32198    24 \n\n\nSecret primaire pour les salades.\n\n\nCode\nsalades_tabule_3var &lt;- salades_tabule_3var %&gt;% mutate(\n  is_secret_freq = nb_obs &gt; 0 & nb_obs &lt; 3,\n  is_secret_dom = (tot != 0) & (max &gt; 0.85*tot),\n  is_secret_prim = is_secret_freq | is_secret_dom\n)\n\ntable(pizzas_tabule$is_secret_prim)\n\n\n\nFALSE  TRUE \n32198    24"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#création-des-listes-de-tableaux",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#création-des-listes-de-tableaux",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Création des listes de tableaux",
    "text": "Création des listes de tableaux\nPour le cluster des pizzas.\n\n\nCode\ntableaux_pizza &lt;- list(\n  pizza_nuts_treff = pizzas_tabule %&gt;% filter(naf == \"Total\") %&gt;% select(-naf), # T1.T2\n  pizza_nuts_naf = pizzas_tabule %&gt;% filter(treff == \"Total\") %&gt;% select(-treff) # T3.T4.T5.T6.T7.T8\n)\n\nstr(tableaux_pizza)\n\n\nList of 2\n $ pizza_nuts_treff:Classes 'data.table' and 'data.frame':  516 obs. of  8 variables:\n  ..$ nuts          : chr [1:516] \"FR10\" \"FRC2\" \"FRJ2\" \"FRF2\" ...\n  ..$ treff         : chr [1:516] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:516] 127326 67459 117119 60272 72450 ...\n  ..$ pizzas_tot    : num [1:516] 4.90e+10 2.63e+10 4.40e+10 2.25e+10 2.60e+10 ...\n  ..$ pizzas_max    : num [1:516] 897221 897459 898798 899167 898691 ...\n  ..$ is_secret_freq: logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..- attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n $ pizza_nuts_naf  :Classes 'data.table' and 'data.frame':  11943 obs. of  8 variables:\n  ..$ naf           : chr [1:11943] \"BE\" \"MN\" \"OQ\" \"RU\" ...\n  ..$ nuts          : chr [1:11943] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:11943] 608493 239202 75471 171537 184607 ...\n  ..$ pizzas_tot    : num [1:11943] 2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n  ..$ pizzas_max    : num [1:11943] 899871 898861 899157 898798 899906 ...\n  ..$ is_secret_freq: logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..- attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nPour le cluster des salades.\n\n\nCode\ntableaux_salades &lt;- list(\n  salades_naf_treff = salades_tabule_3var %&gt;% filter(cj == \"Total\") %&gt;% select(-cj), # T9.T15.T21.T11.T17.T23.T13.T19.T25\n  salades_naf_cj = salades_tabule_3var %&gt;% filter(treff == \"Total\") %&gt;% select(-treff) # T10.T16.T22.T12.T18.T24.T14.T20.T26\n)\n\nstr(tableaux_salades)\n\n\nList of 2\n $ salades_naf_treff: tibble [1,425 × 9] (S3: tbl_df/tbl/data.frame)\n  ..$ naf           : chr [1:1425] \"BE\" \"BE\" \"BE\" \"MN\" ...\n  ..$ treff         : chr [1:1425] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:1425] 608493 608493 608493 239202 239202 ...\n  ..$ crois_salades : chr [1:1425] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n  ..$ tot           : num [1:1425] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n  ..$ max           : num [1:1425] 144352 74992 69992 143830 74974 ...\n  ..$ is_secret_freq: logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ salades_naf_cj   : tibble [1,428 × 9] (S3: tbl_df/tbl/data.frame)\n  ..$ naf           : chr [1:1428] \"BE\" \"BE\" \"BE\" \"MN\" ...\n  ..$ cj            : chr [1:1428] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:1428] 608493 608493 608493 239202 239202 ...\n  ..$ crois_salades : chr [1:1428] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n  ..$ tot           : num [1:1428] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n  ..$ max           : num [1:1428] 144352 74992 69992 143830 74974 ...\n  ..$ is_secret_freq: logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#créer-les-hiérarchies",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#créer-les-hiérarchies",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Créer les hiérarchies",
    "text": "Créer les hiérarchies\nComme vu dans la partie Protéger un tableau hiérarchique, on crée les hiérarchies à l’aide de rtauargus::write_hrc2().\n\n\nCode\n# en deux temps\ncorres_naf &lt;- micro %&gt;% select(a10,a21,a88) %&gt;% unique() %&gt;% arrange(a10,a21,a88)\nchemin_hrc_naf &lt;- write_hrc2(corres_naf, file_name = \"fichiers_tauargus/hrc/naf.hrc\")\n\n# d'un seul coup\nchemin_hrc_nuts &lt;- write_hrc2(micro %&gt;% select(nuts2,nuts3) %&gt;% unique() %&gt;% arrange(nuts2),\n                              \"fichiers_tauargus/hrc/nuts.hrc\")\n\n\nN.B. la bonne pratique est de partir d’une table de passage définie à priori. Ici, il est plus simple de partir des microdonnées et on a confiance dans les strcutures des hiérarchies qui en sortiront."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire-1",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire-1",
    "title": "Protéger des tableaux avec une méthode suppressive",
    "section": "Poser le secret secondaire",
    "text": "Poser le secret secondaire\nOn pose le secret puis on unifie les masques afin de les regrouper dans un seul dataframe.\nPour le cluster pizzas.\n\n\nCode\nmasques_pizza &lt;- tab_multi_manager(\n  list_tables = tableaux_pizza,\n  list_explanatory_vars = list(\n    pizza_nuts_treff = c(\"nuts\",\"treff\"), # T1.T2\n    pizza_nuts_naf = c(\"nuts\",\"naf\") # T3.T4.T5.T6.T7.T8\n  ),\n  dir_name = \"./Exos/tauargus_files/ex_analyse_demande/\",\n  hrc = list(naf = chemin_hrc_naf, nuts = chemin_hrc_nuts),\n  totcode = \"Total\",\n  value = \"pizzas_tot\",\n  freq = \"nb_obs\",\n  secret_var = \"is_secret_prim\"\n)\n\n\n\n\nCode\n# unification des masques\nmasque_pizza &lt;- masques_pizza %&gt;% purrr::map_dfr(\n  function(tab){\n    tab %&gt;% \n      mutate(\n        treff = if (\"treff\" %in% names(tab)) treff else \"Total\",\n        cj = if (\"cj\" %in% names(tab)) cj else \"Total\",\n        naf = if (\"naf\" %in% names(tab)) naf else \"Total\"\n      ) %&gt;% \n      select(\"naf\",\"treff\",\"cj\",everything()) %&gt;%\n      rename_with(~\"is_secret_final\", last_col()) %&gt;% \n      mutate(\n        statut_final = case_when(\n          is_secret_freq ~ \"A\",\n          is_secret_dom ~ \"B\",\n          is_secret_final ~\"D\",\n          TRUE ~ \"V\"\n        )) %&gt;% \n      select(-matches(\"is_secret_\"))\n  }\n) %&gt;% unique()\n\nmasque_pizza %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(pizzas_tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 3 × 5\n  statut_final n_cell      val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;         &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                11       9160149    0.0892    0.000102\n2 D                33   14236278602    0.268     0.158   \n3 V             12286 8993596429774   99.6      99.8     \n\n\nPour le cluster salades.\n\n\nCode\nmasques_salades &lt;- tab_multi_manager(\n  list_tables = tableaux_salades,\n  list_explanatory_vars = list(\n    salades_naf_treff = c(\"naf\",\"treff\", \"crois_salades\"),\n    salades_naf_cj = c(\"naf\",\"cj\", \"crois_salades\")\n  ),\n  dir_name = \"./Exos/tauargus_files/ex_analyse_demande/\",\n  hrc = list(naf = chemin_hrc_naf),\n  totcode = c(naf = \"Total\", treff = \"Total\", cj = \"Total\", crois_salades = \"salades\"),\n  value = \"tot\",\n  freq = \"nb_obs\",\n  secret_var = \"is_secret_prim\"\n)\n\n\n\n\nCode\nmasque_salades &lt;- masques_salades %&gt;% purrr::map_dfr(\n  function(tab){\n    tab %&gt;% \n      mutate(\n        treff = if (\"treff\" %in% names(tab)) treff else \"Total\",\n        cj = if (\"cj\" %in% names(tab)) cj else \"Total\",\n        naf = if (\"naf\" %in% names(tab)) naf else \"Total\"\n      ) %&gt;% \n      select(\"naf\",\"treff\",\"cj\",everything()) %&gt;%\n      rename_with(~\"is_secret_final\", last_col()) %&gt;% \n      mutate(\n        statut_final = case_when(\n          is_secret_freq ~ \"A\",\n          is_secret_dom ~ \"B\",\n          is_secret_final ~\"D\",\n          TRUE ~ \"V\"\n        )) %&gt;% \n      select(-matches(\"is_secret_\"))\n  }\n) %&gt;% unique()\n\nmasque_salades %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 4 × 5\n  statut_final n_cell      val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;         &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                21       1380020    0.842   0.0000408 \n2 B                 1         47973    0.0401  0.00000142\n3 D                43   14228897507    1.72    0.421     \n4 V              2428 3366561853460   97.4    99.6"
  },
  {
    "objectID": "pratique/fiches/analyse-automatique.html",
    "href": "pratique/fiches/analyse-automatique.html",
    "title": "Analyse automatique des métadonnées pour la protection des données tabulées",
    "section": "",
    "text": "L’analyse de la demande peut être faite “à la main”, c’est-à-dire en suivant toutes les étapes présentées dans la partie “Analyser la demande” du cours. Cette fiche présente plusieurs exemples de demandes et leur analyse.\nOn peut aussi utiliser la fonction analyse_metadata() qui permet une analyse automatique de la demande à partir de métadonnées bien formatées."
  },
  {
    "objectID": "pratique/fiches/analyse-automatique.html#avec-des-hiérarchies-non-emboîtées",
    "href": "pratique/fiches/analyse-automatique.html#avec-des-hiérarchies-non-emboîtées",
    "title": "Analyse automatique des métadonnées pour la protection des données tabulées",
    "section": "Avec des hiérarchies non-emboîtées",
    "text": "Avec des hiérarchies non-emboîtées\nA présent on ajoute d’autres sous-totaux à la demande. Pour chaque tableau concernant l’activité, on souhaite disposer des deux sous-totaux supplémentaires:\n\nD_To_H : D+E+F+G+H (code NAF: A21)\nC14_To_C19: 14+15+16+18+19 (code NAF: A88)\n\nPour prendre en compte les hiérarchies non-emboîtées, on duplique les tableaux concernés et on suffixe par ‘alt’ ces variables. On rajoute ensuite les tableaux dupliqués à ‘cluster_demande1’ pour obtenir la liste des tableaux à protéger.\n\n\nCode\n# Dupliquer les tableaux concernés\ntab_dupliquer &lt;- cluster_demande1[c(1, 2, 4), , drop = FALSE]\n\n# Renommer les tableaux (_bis) et les hiérarchies correspondantes (_alt)\ntab_dupliquer[1:3, c(\"table_name\", \"hrc_spanning_1\")] &lt;- data.frame(\n  table_name = c(\"T10.T12.T14.T16.T18.T20.T22.T24.T26_bis\",\n                 \"T11.T13.T15.T17.T19.T21.T23.T25.T9_bis\",\n                 \"T3.T4.T5.T6.T7.T8_bis\"),\n  hrc_spanning_1 = c(\"hrc_naf_alt\", \"hrc_naf_alt\", \"hrc_naf_alt\")\n)\n\n# Liste des tableaux à protéger\ncluster_demande1bis &lt;- rbind(cluster_demande1, tab_dupliquer)\n\n# Visualisation\nDT::datatable(cluster_demande1bis)"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html",
    "href": "pratique/fiches/mesurer-risque.html",
    "title": "Les mesures du risque de divulgation",
    "section": "",
    "text": "Code\nlibrary(readr)\nlibrary(purrr)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(sdcMicro)"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#les-données",
    "href": "pratique/fiches/mesurer-risque.html#les-données",
    "title": "Les mesures du risque de divulgation",
    "section": "Les données",
    "text": "Les données\n\n\nCode\nsource(\"../R/fun_risque.R\")\n\n\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#les-différents-types-de-variables",
    "href": "pratique/fiches/mesurer-risque.html#les-différents-types-de-variables",
    "title": "Les mesures du risque de divulgation",
    "section": "Les différents types de variables",
    "text": "Les différents types de variables\nDans un jeu de données, on distingue trois grands types de variables:\n\nles quasi-identifiants: un ensemble de variables dont on suppose qu’un attaquant est susceptible de les avoir déjà à sa disposition.\nles variables sensibles: les variables portant sur des thématiques sensibles au sens de la Loi Informatique et Libertés (religion, opinion, orientation sexuelle, etc.), mais on peut aussi y inclure des variables dont la connaissance est susceptible de porter préjudice à la personne (par exemple le salaire, le fait d’avoir une maladie, le fait d’être au chômage, etc.).\nles variables ni identifiantes ni sensibles: celles qui a priori ne posent pas de problème spécifique en terme de confidentialité."
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants",
    "href": "pratique/fiches/mesurer-risque.html#le-risque-de-ré-identification-et-le-rôle-des-quasi-identifiants",
    "title": "Les mesures du risque de divulgation",
    "section": "Le risque de ré-identification et le rôle des quasi-identifiants",
    "text": "Le risque de ré-identification et le rôle des quasi-identifiants\nAinsi, le premier type de variables engendre un risque de divulgation d’information confidentielle par la possibilité pour l’attaquant de ré-identifier des individus. En effet, si un ataquant dispose d’un fichier nomminatif - un fichier client par exemple - contenant des variables communes avec le jeu de données qu’on s’apprête à publier, il est alors en mesure d’apparier les deux et être en capacité de ré-identifier des individus si ceux-ci se trouvent avoir des caractéristiques peu fréquentes.\n\nUn premier exemple\nPrenons une liste très restreinte de quasi-identifiants: la géographie de résidence, le sexe et l’âge de l’individu. Ces informations sont disponibles par de nombreuses entreprises auprès desquelles nous souscrivons des services (banque, assurance, téléphonie, etc.).\nEn dénombrant les individus de chaque croisement entre les variables quasi-identifiantes, on peut détecter :\n\nle niveau d’anonymité du fichier au sens du k-anonymat: ici notre fichier est 1-anonyme puisqu’il contient de nombreux individus uniques dans leur catégorie.\nla détection des croisements et des individus les plus à risque: &gt; Moins il y a d’individus dans un groupe, plus la probabilité de ré-identification par l’attaquant est forte. Dans le cas d’un groupe unique, la ré-identification est même certaine.\n\n\n\nCode\nqi_vars_I &lt;- c(\"REG\",\"DEP\",\"ARR\", \"SEXE\", \"AGE\")\nfreq_qi_vars &lt;- lfs_2023 |&gt; count(across(all_of(qi_vars_I))) \nfreq_qi_vars |&gt; arrange(n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    97     1\n2:     11     75    751      2   102     1\n3:     11     75    751      2   103     1\n4:     11     75    751      2   116     1\n5:     11     77    771      1    15     1\n6:     11     77    771      1    18     1\n\n\nCode\nfreq_qi_vars |&gt; arrange(-n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    52    43\n2:     11     75    751      1    51    39\n3:     11     75    751      1    21    36\n4:     11     75    751      2    60    36\n5:     11     75    751      2    61    36\n6:     11     75    751      1    55    35\n\n\nAinsi, si une entreprise de notre contrée imaginaire dispose d’un fichier sur tout ou partie de la population en âge de travailler (par exemple un opérateur téléphonique), il pourra ré-identifier sans peine les individus uniques du jeu de données qui seraient présents dans son fchier.\nLa capacité d’un attaquant à pouvoir ré-identifier un individu dépend du nombre d’individus du jeu de données qui partagent les mêmes caractéristiques sur les variables quasi-identifiantes.\nPar exemple, si Thérèse est une femme de 97 ans résidant dans l’arrondissement 751, alors le jeu de données permet de la ré-identifier de façon certaine, puisqu’elle serait la seule dans ce cas.\nAu contraire, si Thérèse est une femme de 52 ans résidant dans le même arrondissement, alors la probabilité de la ré-identifier dans le jeu de données avec ces seules informations serait de 1 chance sur 43.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLe choix des variables quasi-identifiantes\nChoisir les variables quasi-identifiantes est un exercice difficile puisqu’en général, nous n’avons pas une idée exacte des données à la disposition des attaquants potentiels. Il faut donc définir un scénario théorique suffisamment réaliste pour s’assurer de protéger les données individuelles des risques de ré-identification les plus importants.\nEn choisissant le premier jeu de variables quasi-identifiantes (géographie, sexe et âge), on considère le jeu minimal de quasi-idenfiants. L’extrême inverse consisterait à considérer toutes les variable comme des quasi-identifiants. Dans le premier cas, on définit un scénario minimaliste, dans le second le scénario est maximaliste.\nDans notre jeu de données fictif sur l’emploi et le chômage, on pourrait définir\n\nun scénario minimaliste: l’attaquant ne dispose que de la géographie, du sexe et de l’âge de ses clients\nun scénario intermédiaire: l’attaquant dispose en plus d’informations sur sa catégorie sociale et son niveau de diplôme\nun scénario maximaliste: l’attaquant dispose en réalité de toutes les informations sur les individus sauf de son ancienneté au chômage.\n\nSelon ces trois scénarios, le niveau de risque de ré-identifcation des individus ne sera pas le même\n\n\nCode\nqi_vars_II &lt;- c(qi_vars_I, \"PCS1Q\", \"DIP7\")\nqi_vars_III &lt;- c(names(lfs_2023)[!names(lfs_2023) %in% c(\"ANCCHOM\")])\n\nrisques_reident &lt;- \n  list(\"I\" = qi_vars_I, \n       \"II\" = qi_vars_II,\n       \"III\" = qi_vars_III) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\nLoading required package: tidyr\n\n\n\n\nCode\nggplot(risques_reident$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilité\", type = \"seq\", palette = 7) +\n  labs(x=\"Scénario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilité de ré-identification des individus selon le scénario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nrisques_reident$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de ré-identification des individus en fonction du scénario\",\n    digits = 3\n  )\n\n\n\nRisque de ré-identification des individus en fonction du scénario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nI\n0.508\n0.125\n0.333\n1\n8.090\n\n\nII\n0.889\n0.500\n1.000\n1\n61.865\n\n\nIII\n0.977\n1.000\n1.000\n1\n91.102\n\n\n\n\n\n\n\n\n\n\n\nDes variables très efficaces pour la ré-identification\n\n\n\nCertaines variables ont un pouvoir de ré-identification très fort, en particulier :\n\nla géographie (de résidence, de travail, d’implantation): plus elle est précise plus la ré-identification est aisée, d’autant plus que l’adresse est souvent par ailleurs une donnée très largement partagée par les individus et les entreprises.\nl’âge est également très ré-identifiant puisqu’il est à la fois public avec la disponibilité de l’état-civil et concerne, pour certains âges avancés, peu d’individus. Ainsi, si la personne la plus âgée résidant en France est dans notre fichier, nous avons toutes les chances de la ré-identifier de façon certaine en ne connaissant que son âge.\n\nPour réduire le risque de ré-identification, il est souvent très efficace de choisir de diffuser des variables d’âge et de géographie agrégées.\nComparons, par exemple, trois scénarios alternatifs au scénario II présenté ci-dessus:\n\nscénario II-a: le lieu de résidence n’est plus diffusé à l’arrondisement mais au département.\nscénario II-b: l’âge détaillé est remplacé par 5 tranches d’âges.\nscénario II-c: combinaison des deux scénarios ci-dessus.\n\n\n\nCode\nqi_vars_IIa &lt;- c(\"REG\", \"DEP\", \"AGE\", \"PCS1Q\", \"DIP7\")\nqi_vars_IIb &lt;-  c(\"REG\", \"DEP\", \"ARR\", \"AGE6\", \"PCS1Q\", \"DIP7\")\nqi_vars_IIc &lt;- c(\"REG\", \"DEP\", \"AGE6\", \"PCS1Q\", \"DIP7\")\n\nrisques_reident2 &lt;- list(\n  \"II\" = qi_vars_II, \n  \"IIa\" = qi_vars_IIa, \n  \"IIb\" = qi_vars_IIb, \n  \"IIc\" = qi_vars_IIc) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\n\n\nCode\nrisques_reident2$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de ré-identification des individus en fonction du scénario\",\n    digits = 3\n  )\n\n\n\nRisque de ré-identification des individus en fonction du scénario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nII\n0.889\n0.500\n1.000\n1\n61.865\n\n\nIIa\n0.763\n0.250\n1.000\n1\n32.605\n\n\nIIb\n0.419\n0.071\n0.333\n1\n3.406\n\n\nIIc\n0.347\n0.038\n0.250\n1\n1.559\n\n\n\n\n\n\n\nCode\nggplot(risques_reident2$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilité\", type = \"seq\", palette = 7) +\n  labs(x=\"Scénario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilité de ré-identification des individus selon le scénario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nEn réduisant le détail géographique, on a ici divisé par deux la part des uniques. Mais en passant à 6 tranches d’âges, celle-ci est divisée par 20!\nAinsi, les traitements les plus simples (recoder une variable) sont parfois les plus efficaces pour réduire massivement les risques individuels, même si cela ne les annihile pas tous.\n\n\n\n\nAvec le package sdcMicro\nLe package sdcMicro permet de mesurer les risques de ré-identification et le niveau d’anonymité d’un jeu de données individuelles assez simplement.\nDans un premier temps, on initialise un objet de la classe sdcMicroObj en mentionnant uniquement le jeu de données et les variables considérées comme quasi-identfiantes.\n\n\nCode\nlfs_sdc &lt;- sdcMicro::createSdcObj(\n  lfs_2023,\n  keyVars = qi_vars_I\n)\n\n\nLa fonction crée un objet dans une classe S4. Les différents attributs de l’objet (on dit des slots) sont donc accessibles avec le symbole @.\nLes attributs disponibles pour un tel objet sont les suivants:\n\n\nCode\nslotNames(lfs_sdc)\n\n\n [1] \"origData\"          \"keyVars\"           \"pramVars\"         \n [4] \"numVars\"           \"ghostVars\"         \"weightVar\"        \n [7] \"hhId\"              \"strataVar\"         \"sensibleVar\"      \n[10] \"manipKeyVars\"      \"manipPramVars\"     \"manipNumVars\"     \n[13] \"manipGhostVars\"    \"manipStrataVar\"    \"originalRisk\"     \n[16] \"risk\"              \"utility\"           \"pram\"             \n[19] \"localSuppression\"  \"options\"           \"additionalResults\"\n[22] \"set\"               \"prev\"              \"deletedVars\"      \n\n\nLors de la création de l’objet, un certain nombre de métriques de risque ont été calculées:\n\ndes mesures globales:\n\n\n\nCode\nlfs_sdc@risk$global\n\n\n$risk\n[1] 0.2659384\n\n$risk_ER\n[1] 9056\n\n$risk_pct\n[1] 26.59384\n\n$threshold\n[1] 0\n\n$max_risk\n[1] 0.01\n\n\n\ndes mesures individuelles :\n\nrisk : risque individuel défini par \\(\\frac{1}{fk}\\) si le fichier est une population\nfk : nombre d’individus du fichier partageant les mêmes clés (croisements de quasi-identifiants)\nFk : nombre d’individus dans la population partageant les mêmes clés (croisements de quasi-identifiants)\n\n\n\n\n\n\n\n\nEchantillon et Population\n\n\n\n\nPopulation\nSi le jeu de données étudié correspond à une population (fichier exhaustif du champ), alors \\(fk = Fk = \\sum_i{ 1(i \\in k)}\\), nombre d’individus \\(i\\) partageant la clé \\(k\\).\n\n\nEchantillon\nSi, au contraire, il s’agit d’un échantillon, on distinguera:\n\n\\(fk = \\sum_{i \\in S}{ 1(i \\in k)}\\)\n\\(Fk = \\sum_{i \\in S}{  w_i \\times 1(i \\in k)}\\)\n\noù \\(S\\) désigne l’échantillon (le fichier) et \\(w_i\\) le poids de l’individu \\(i \\in S\\).\n(Templ, Kowarik, and Meindl 2015; et Rinott and Shlomo 2006).\n\n\n\n\nRinott, Yosef, and Natalie Shlomo. 2006. “A Generalized Negative Binomial Smoothing Model for Sample Disclosure Risk Estimation.” In Privacy in Statistical Databases, edited by Josep Domingo-Ferrer and Luisa Franconi, 82–93. Berlin, Heidelberg: Springer. https://doi.org/10.1007/11930242_8.\n\nTempl, Matthias, Alexander Kowarik, and Bernhard Meindl. 2015. “Statistical Disclosure Control for Micro-Data Using the r Package sdcMicro.” Journal of Statistical Software 67 (4). https://doi.org/10.18637/jss.v067.i04.\nCertaines variables ont un pouvoir de ré-identification très fort, en particulier :\n\n\nCode\nhead(lfs_sdc@risk$individual)\n\n\n           risk fk Fk\n[1,] 0.25000000  4  4\n[2,] 0.14285714  7  7\n[3,] 0.33333333  3  3\n[4,] 0.09090909 11 11\n[5,] 0.12500000  8  8\n[6,] 0.06250000 16 16"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#le-risque-de-divulgation-dattributs-sensibles",
    "href": "pratique/fiches/mesurer-risque.html#le-risque-de-divulgation-dattributs-sensibles",
    "title": "Les mesures du risque de divulgation",
    "section": "Le risque de divulgation d’attributs sensibles",
    "text": "Le risque de divulgation d’attributs sensibles"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#suda",
    "href": "pratique/fiches/mesurer-risque.html#suda",
    "title": "Les mesures du risque de divulgation",
    "section": "SUDA",
    "text": "SUDA"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#le-risque-individuel",
    "href": "pratique/fiches/mesurer-risque.html#le-risque-individuel",
    "title": "Les mesures du risque de divulgation",
    "section": "Le risque individuel",
    "text": "Le risque individuel\n\nMesures naïves\n\n\nMesures probabilistes\n\n\nLes outliers\n\n\nReferences"
  },
  {
    "objectID": "pratique/fiches/sujets-avances.html",
    "href": "pratique/fiches/sujets-avances.html",
    "title": "Des sujets pour aller plus loin",
    "section": "",
    "text": "Générer des données synthétiques\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAppliquer des mécanismes de confidentialité différentielle\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/fiches/arbitrage.html",
    "href": "pratique/fiches/arbitrage.html",
    "title": "Arbitrer entre risque et utilité",
    "section": "",
    "text": "Les mesures du risque de divulgation\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMesurer la perte d’information\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html",
    "href": "pratique/fiches/proteger-micro-pram.html",
    "title": "Appliquer PRAM",
    "section": "",
    "text": "Code\nlibrary(dplyr)\nlibrary(sdcMicro)"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html#pram-général",
    "href": "pratique/fiches/proteger-micro-pram.html#pram-général",
    "title": "Appliquer PRAM",
    "section": "PRAM général",
    "text": "PRAM général\n\n1. Définir la matrice de transition\nLa matrice de transition présente la probabilité qu’une modalité soit changée en une autre pour tous les changements possibles.\n\n\nCode\nmat &lt;- matrix(\n  c(0.7,0.2,0.1,\n    0.3, 0.6, 0.1,\n    0.1, 0.1, 0.8\n  ),\n  nrow = 3,\n  byrow = TRUE\n)\nrow.names(mat) &lt;- colnames(mat) &lt;- levels(lfs_2023$ACTEU)\n\nprint(mat)\n\n\n        emploi chomage inactif\nemploi     0.7     0.2     0.1\nchomage    0.3     0.6     0.1\ninactif    0.1     0.1     0.8\n\n\nDans cet exemple, la probabilité qu’un individu en emploi reste en emploi est de 70%, alors que la probabilité qu’un individu en emploi passe au chômage est de 20%.\n\n\n2. Appliquer un pram général\nOn appelle la fonction pram() et on précise la matrice de transition avec le paramètre pd.\n\n\nCode\nset.seed(12345) # graine pour la reproductibilité des résultats\n\npram_1 &lt;- pram(\n  lfs_2023, # données\n  variables = \"ACTEU\", # variable sensible\n  pd = mat, # matrice de transition\n  alpha = NA\n)\n\nsummary(pram_1)\n\n\nVariable: ACTEU\n\n\n\n ----------------------\n\n\n\nFrequencies in original and perturbed data:\n\n\n                            ACTEU emploi chomage inactif     NA\n                           &lt;char&gt; &lt;char&gt;  &lt;char&gt;  &lt;char&gt; &lt;char&gt;\n1:           Original Frequencies  16878    1362   15813      0\n2: Frequencies after Perturbation  13785    5784   14484      0\n\n\n\nTransitions:\n\n\n   transition Frequency\n       &lt;char&gt;     &lt;int&gt;\n1:    1 --&gt; 1     11846\n2:    1 --&gt; 2      3392\n3:    1 --&gt; 3      1640\n4:    2 --&gt; 1       372\n5:    2 --&gt; 2       855\n6:    2 --&gt; 3       135\n7:    3 --&gt; 1      1567\n8:    3 --&gt; 2      1537\n9:    3 --&gt; 3     12709\n\n\n\n\n\nLe summary() renvoit les informations principales sur les modifications des microdonnées. On voit la réalisation des échanges de modalités en comparant les fréquences avant et après perturbation.\nOn peut calculer la matrice de transition empirique de l’application de PRAM.\n\n\nCode\nlfs_2023$ACTEU_pram1 &lt;- pram_1$ACTEU_pram\n\nlfs_2023 %&gt;% \n  count(ACTEU, ACTEU_pram1) %&gt;% \n  group_by(ACTEU) %&gt;% \n  mutate(part = n/sum(n)*100) %&gt;% \n  select(-n) %&gt;% \n  tidyr::pivot_wider(\n    names_from = ACTEU_pram1, values_from = part, names_prefix = \"PRAM_\"\n  )\n\n\n# A tibble: 3 × 4\n# Groups:   ACTEU [3]\n  ACTEU   PRAM_emploi PRAM_chomage PRAM_inactif\n  &lt;fct&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;\n1 emploi        70.2         20.1          9.72\n2 chomage       27.3         62.8          9.91\n3 inactif        9.91         9.72        80.4 \n\n\n\n\n3. Analyser les changements\n\nIndicateurs\nUne fois que le jeu de données est perturbé, il est nécessaire de comparer des indicateurs avant et après la perturbation. Cet aspect d’analyse de la perte d’utilité sera développé dans le paragraphe dédié.\n\n\nCode\n# ATTENTION ce type de PRAM n'est pas invariant: les estimatons sont biaisées\n# Calcul du taux de chômage\nlfs_2023 %&gt;% \n  summarise(\n    taux_chomage = sum(ACTEU == \"chomage\")/sum(ACTEU %in% c(\"emploi\",\"chomage\")) *100,\n    taux_chomage_pram = sum(ACTEU_pram1 == \"chomage\")/sum(ACTEU_pram1 %in% c(\"emploi\",\"chomage\")) *100\n  )\n\n\n  taux_chomage taux_chomage_pram\n1     7.467105          29.55695\n\n\nLa perturbation injectée par l’utilisation de pram modifie grandement le taux de chômage : 7 dans les données originales, et 30 dans les données protégées. Les estimations sont biaisées.\n\n\nInvariance globale\n\n\nCode\nlfs_2023 %&gt;% \n  summarise(mean(ACTEU == ACTEU_pram1))\n\n\n  mean(ACTEU == ACTEU_pram1)\n1                  0.7461898\n\n\nDans 75% des cas (i.e. des lignes du fichier), le statut d’activité dans le fichier original est le même que celui dans le fichier modifié avec pram.\nUne variante de pram permet d’obtenir des estimateurs non-biaisés : le pram invariant.\n\n\nPost odds\nLes post odds sont des mesures de risque que l’on calcule a posteriori, une fois que pram est appliqué.\nOn rappelle la formule présentée dans la partie théorique : \\[POST\\_ODDS(k) = \\frac{P(\\xi = k|X=k)}{P(\\xi \\neq k|X=k)} = \\frac{p_{kk}P(\\xi = k)}{\\sum_{l \\neq k}p_{lk}P(\\xi=l)}\\]\n\\(p_{kk}\\) la probabilité que la modalité de ACTEU d’une observation dans le fichier perturbé soit la même que dans le fichier original.\n\\(\\sum_{l \\neq k}p_{lk}\\) la probabilité que la modalité de ACTEU d’une observation dans le fichier perturbé soit différente que celle du fichier original.\n\\(P(\\xi = k)\\) est estimé par \\(T_{\\xi}(k)\\) la fréquence de cette modalité dans les données originales.\n\n\nCode\npost_odds &lt;- function(donnees_perturbees,var_orig,var_pram){\n  # 1. Estimer la matrice de transition\n  # Fréquences conditionnelles P(ACTEU_pram = k | ACTEU = l)\n  mat_transition &lt;- donnees_perturbees %&gt;%\n    count(!!sym(var_orig), !!sym(var_pram), name = \"n\") %&gt;%\n    group_by(!!sym(var_orig)) %&gt;%\n    mutate(p_lk = n / sum(n)) %&gt;%\n    ungroup()\n  \n  # Estimer les marges\n  marges &lt;- donnees_perturbees %&gt;%\n    count(!!sym(var_orig), name = \"n_l\") %&gt;% # n_l, le nombre d’occurrences de chaque valeur\n    # originale l\n    mutate(T_l = n_l / sum(n_l)) # T_l fréquence de la modalité l dans les données\n  # originales\n  \n  # 3. Calculer les post-odds pour chaque modalité de k\n  # Fusionner les infos de transition et de marges\n  base_postodds &lt;- mat_transition %&gt;%\n    left_join(marges, by = setNames(var_orig, var_orig))  # ajoute P_l à chaque ligne\n  \n  # Liste des valeurs PRAM possibles (= valeurs de k)\n  valeurs_k &lt;- donnees_perturbees %&gt;% pull(!!sym(var_pram)) %&gt;% unique()\n  \n  # Calcul des post-odds pour chaque k\n  post_odds_result &lt;- purrr::map_dfr(valeurs_k, function(k) {\n    df_k &lt;- base_postodds %&gt;%\n      filter(!!sym(var_pram) == k)\n    \n    numerateur &lt;- df_k %&gt;%\n      filter(!!sym(var_orig) == k) %&gt;%\n      summarise(num = p_lk * T_l) %&gt;%\n      pull(num)\n    \n    denominateur &lt;- df_k %&gt;%\n      filter(!!sym(var_orig) != k) %&gt;%\n      summarise(den = sum(p_lk * T_l)) %&gt;%\n      pull(den)\n    \n    tibble(\n      valeur_pram = k,\n      post_odds = ifelse(denominateur == 0, NA, numerateur / denominateur)\n    )\n  })\n  return(post_odds_result)\n}\n\npost_odds(lfs_2023,\"ACTEU\",\"ACTEU_pram1\")\n\n\n# A tibble: 3 × 2\n  valeur_pram post_odds\n  &lt;fct&gt;           &lt;dbl&gt;\n1 chomage         0.173\n2 inactif         7.16 \n3 emploi          6.11 \n\n\nLa modalité “chomage” est inférieur à 1, donc quand une observation a la modalité “chomage” dans le fichier perturbé elle ne l’est sans doute pas dans le fichier original. Ce n’est pas le cas pour “inactif” et “emploi”."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html#pram-invariant",
    "href": "pratique/fiches/proteger-micro-pram.html#pram-invariant",
    "title": "Appliquer PRAM",
    "section": "PRAM invariant",
    "text": "PRAM invariant\n\n\nCode\nset.seed(12345)\n\npram_2 &lt;- pram(\n  lfs_2023 %&gt;% select(-ACTEU_pram1),\n  variables = \"ACTEU\",\n  pd = 0.8 # valeur minimale des probabilités sur la diagonale, valeur par défaut\n)\n\nsummary(pram_2) #liste\n\n\nVariable: ACTEU\n\n\n\n ----------------------\n\n\n\nFrequencies in original and perturbed data:\n\n\n                            ACTEU emploi chomage inactif     NA\n                           &lt;char&gt; &lt;char&gt;  &lt;char&gt;  &lt;char&gt; &lt;char&gt;\n1:           Original Frequencies  16878    1362   15813      0\n2: Frequencies after Perturbation  16847    1382   15824      0\n\n\n\nTransitions:\n\n\n   transition Frequency\n       &lt;char&gt;     &lt;int&gt;\n1:    1 --&gt; 1     16283\n2:    1 --&gt; 2       155\n3:    1 --&gt; 3       440\n4:    2 --&gt; 1       133\n5:    2 --&gt; 2      1105\n6:    2 --&gt; 3       124\n7:    3 --&gt; 1       431\n8:    3 --&gt; 2       122\n9:    3 --&gt; 3     15260\n\n\n\n\n\nOn peut voir la matrice de transition qui a été générée à partir de pd = 0.8.\n\n\nCode\nattributes(pram_2)$pram_params$ACTEU$Rs\n\n\n            emploi     chomage    inactif\nemploi  0.96411739 0.009017262 0.02686535\nchomage 0.11174255 0.797453779 0.09080367\ninactif 0.02867472 0.007821071 0.96350421\n\n\nChaque élément de la diagonale vaut au moins 0.8, les autres probabilités sont distribuées de manière uniforme. Toutes les lignes somment à 1.\n\n\nCode\n# Récupérer la variable perturbée\nlfs_2023$ACTEU_pram2 &lt;- pram_2$ACTEU_pram\n\n# invariance globale\nlfs_2023 %&gt;% \n  summarise(mean(ACTEU == ACTEU_pram2))\n\n\n  mean(ACTEU == ACTEU_pram2)\n1                  0.9587408\n\n\nDans 96% des cas, le statut d’activité dans le fichier original est le même que celui dans le fichier modifié avec pram.\nLe taux de chômage dans l’échantillon est-il biaisé ?\n\n\nCode\nlfs_2023 %&gt;% \n  summarise(\n    taux_chomage = sum(ACTEU == 2)/sum(ACTEU %in% 1:2) *100,\n    taux_chomage_pram = sum(ACTEU_pram2 == 2)/sum(ACTEU_pram2 %in% 1:2) *100\n  )\n\n\n  taux_chomage taux_chomage_pram\n1          NaN               NaN\n\n\nLe taux de chômage dans les données originales est de 7.4% et il est de 7.5% dans les données modifiées par pram. L’utilisation d’un pram invariant permet de conserver des marges proches de celles originales sur la variable modifiée.\n\n\nCode\npost_odds(lfs_2023,\"ACTEU\",\"ACTEU_pram2\")\n\n\n# A tibble: 3 × 2\n  valeur_pram post_odds\n  &lt;fct&gt;           &lt;dbl&gt;\n1 emploi          28.9 \n2 inactif         27.1 \n3 chomage          3.99"
  },
  {
    "objectID": "theorie/index.html",
    "href": "theorie/index.html",
    "title": "Un peu de théorie",
    "section": "",
    "text": "L’Arbitrage Risque/Utilité\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLes méthodes de protection statistique des données confidentielles\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLes méthodes suppressives\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLes méthodes perturbatrices\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLa confidentialité différentielle\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-méthodes-à-disposition",
    "href": "theorie/supports/methodes-suppressives.html#les-méthodes-à-disposition",
    "title": "Les méthodes suppressives",
    "section": "Les méthodes à disposition",
    "text": "Les méthodes à disposition\n\nDeux types de méthodes en fonction du moment où elles sont appliquées :\n\nLes méthodes pré-tabulation sont appliquées sur les données individuelles, i.e. avant toute tabulation\nLes méthodes post-tabulation sont appliquées sur les données agrégées, i.e. après tabulation"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-méthodes-à-disposition-1",
    "href": "theorie/supports/methodes-suppressives.html#les-méthodes-à-disposition-1",
    "title": "Les méthodes suppressives",
    "section": "Les méthodes à disposition",
    "text": "Les méthodes à disposition\n\n\n\n\n\n\n\n\nType de méthode\nType de données\nMéthodes\n\n\n\n\nPré-tabulation\nMicro-données\nRecodage des variables  Suppression locale\n\n\nPost-tabulation\nDonnées tabulées\nSuppression de cellules  Regroupement de catégories"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage-des-variables",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage-des-variables",
    "title": "Les méthodes suppressives",
    "section": "Le recodage des variables",
    "text": "Le recodage des variables\n\n\n\nid\nâge\nGenre\nProfession\n\n\n\n\n1\n23\nH\nstatistiques\n\n\n2\n24\nH\nstatistiques\n\n\n3\n50\nF\nstatistiques\n\n\n4\n53\nH\nstatistiques\n\n\n5\n51\nF\nstatistiques"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage-des-variables-1",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage-des-variables-1",
    "title": "Les méthodes suppressives",
    "section": "Le recodage des variables",
    "text": "Le recodage des variables\n\n\n\nid\nâge\nGenre\nProfession\n\n\n\n\n1\n20-30\nH\nstatistiques\n\n\n2\n20-30\nH\nstatistiques\n\n\n3\n50-60\nF\nstatistiques\n\n\n4\n50-60\nH\nstatistiques\n\n\n5\n50-60\nF\nstatistiques"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#la-suppression-locale",
    "href": "theorie/supports/methodes-suppressives.html#la-suppression-locale",
    "title": "Les méthodes suppressives",
    "section": "La suppression locale",
    "text": "La suppression locale\nS’applique aux variables catégorielles.\n\nSuppression d’au moins une catégorie présente dans une combinaison à risque, i.e. on la remplace par une valeur manquante.\n\n\n\n\n\nid\nLieu de résidence\nGenre\nProfession\n\n\n\n\n1\npoitiers\nH\nstatistiques\n\n\n2\npoitiers\nH\nstatistiques\n\n\n3\nbarfleur\nH\npêche\n\n\n4\nbarfleur\nH\npêche\n\n\n5\nbarfleur\nF\nmaire"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#la-suppression-locale-1",
    "href": "theorie/supports/methodes-suppressives.html#la-suppression-locale-1",
    "title": "Les méthodes suppressives",
    "section": "La suppression locale",
    "text": "La suppression locale\n\n\n\nid\nLieu de résidence\nGenre\nProfession\n\n\n\n\n1\npoitiers\nH\nstatistiques\n\n\n2\npoitiers\nH\nstatistiques\n\n\n3\nbarfleur\nH\npêche\n\n\n4\nbarfleur\nH\npêche\n\n\n5\nbarfleur\nF\nNA"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs",
    "title": "Les méthodes suppressives",
    "section": "Tableaux d’effectifs",
    "text": "Tableaux d’effectifs\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\n6\n14\n1\n7\n28\n\n\nNon polluante\n3\n2\n1\n13\n19\n\n\nTotal\n9\n16\n2\n20\n47\n\n\n\n\nTableau 1 – Nombre d’entreprises polluantes par région\n\n\nY a-t-il des cellules à risque ?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs-1",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs-1",
    "title": "Les méthodes suppressives",
    "section": "Tableaux d’effectifs",
    "text": "Tableaux d’effectifs\nRègle de fréquence : une cellule d’un tableau ne doit pas être construite à partir de strictement moins de n unités (n &gt; 0).\n\nPour les données entreprises à l’Insee, n = 3."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs-2",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-deffectifs-2",
    "title": "Les méthodes suppressives",
    "section": "Tableaux d’effectifs",
    "text": "Tableaux d’effectifs\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\n6\n14\n1\n7\n28\n\n\nNon polluante\n3\n2\n1\n13\n19\n\n\nTotal\n9\n16\n2\n20\n47\n\n\n\n\nTableau 1 – Nombre d’entreprises polluantes par région"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\n\n\n\n\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\n\nNord\n58\n71\n92\n221\n\n\n\nCentre\n11\n124\n157\n292\n\n\n\nSud\n36\n24\n60\n120\n\n\n\nTotal\n105\n219\n309\n633\n\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nY a-t-il des cellules à risque ?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-1",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-1",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\nNord\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCentre\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSud\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nNote : les valeurs entre parenthèses indiquent le nombre de contributeurs."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-2",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-2",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\nSecret primaire de fréquence.\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\nNord\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCentre\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSud\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nNote : les valeurs entre parenthèses indiquent le nombre de contributeurs."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-3",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-3",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\nRègle de dominance (n,k) : une cellule est sensible si les n plus grands contributeurs de cette cellule représentent plus de k% du total de celle-ci.\n\n\nPour les données entreprises à l’Insee, n = 1 et k = 85. Donc, 1 unité contributrice à une cellule ne peut contribuer à plus de 85% de la valeur de celle-ci.\nPour chaque cellule du tableau, besoin de déterminer le plus gros contributeur."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-4",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-4",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\nSecret primaire de dominance.\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\nNord\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCentre\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSud\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nNote : les valeurs entre parenthèses indiquent le nombre de contributeurs."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-5",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-5",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\nRègle du p% : une cellule est sensible si l’un des contributeurs a une cellule peut estimer la valeur d’un autre contributeur à p% de sa véritable valeur.\n\nEn pratique, le 2eme contributeur de la valeur de la cellule ne doit pas pouvoir estimer en utilisant sa propre valeur, celle du premier contributeur avec une précision supérieure à p%.\nIl est d’usage de choisir p = 10.\nPas utilisée à l’Insee mais recommandée par les experts européens."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-6",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-de-volume-6",
    "title": "Les méthodes suppressives",
    "section": "Tableaux de volume",
    "text": "Tableaux de volume\nSecret primaire dû à la règle du p%.\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\nNord\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCentre\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSud\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nNote : les valeurs entre parenthèses indiquent le nombre de contributeurs."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-secret-primaire",
    "href": "theorie/supports/methodes-suppressives.html#le-secret-primaire",
    "title": "Les méthodes suppressives",
    "section": "Le secret primaire",
    "text": "Le secret primaire\nLes cellules catégorisées à risque pour la règle de fréquence, la règle de dominance et la règle du p% constituent le secret primaire. On ne peut pas diffuser ces cellules.\n\nComment faire ?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-regroupement-de-catégories",
    "href": "theorie/supports/methodes-suppressives.html#le-regroupement-de-catégories",
    "title": "Les méthodes suppressives",
    "section": "Le regroupement de catégories",
    "text": "Le regroupement de catégories\nRedéfinir le contenu des variables de croisement en diminuant le nombre de leur modalités.\n\nPermet de réduire fortement, voir d’enlever complètement le secret primaire.\n\nEnvisager cette option avant les autres méthodes."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage-un-exemple",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage-un-exemple",
    "title": "Les méthodes suppressives",
    "section": "Le recodage : un exemple",
    "text": "Le recodage : un exemple\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;25\n25-30\n30-50\n&gt; 50\nTotal\n\n\n\n\nPolluante\n2\n5\n7\n6\n20\n\n\nNon polluante\n8\n15\n17\n20\n60\n\n\nTotal\n10\n20\n24\n26\n80\n\n\n\n\nTableau 3 – Nombre d’entreprises polluantes selon l’âge du dirigeant\n\n\nDéfinir de nouvelles modalités pour augmenter le nombre de répondants par cellule."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage-un-exemple-1",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage-un-exemple-1",
    "title": "Les méthodes suppressives",
    "section": "Le recodage : un exemple",
    "text": "Le recodage : un exemple\n\n\n\n\n&lt;28\n28-35\n35-55\n&gt; 55\nTotal\n\n\n\n\nPolluante\n3\n6\n6\n5\n20\n\n\nNon polluante\n9\n17\n19\n15\n60\n\n\nTotal\n12\n23\n25\n20\n80\n\n\n\n\nTableau 3bis – Nombre d’entreprises polluantes selon l’âge du dirigeant"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage-à-vous-de-jouer",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage-à-vous-de-jouer",
    "title": "Les méthodes suppressives",
    "section": "Le recodage : à vous de jouer !",
    "text": "Le recodage : à vous de jouer !\nOn cherche à publier le tableau suivant :\n\nPopulation d’une région par leur zone d’emploi de résidence, leur zone d’emploi de travail, leur profession et leur âge.\nBeaucoup de secret primaire dans ce tableau puisque la plupart des gens résident et travaillent dans la même zone d’emploi.\nComment recoder ce tableau ?\n\n\nUn premier recodage consiste à regrouper toutes les zones d’emploi de travail hors région dans une seule catégorie."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-recodage",
    "href": "theorie/supports/methodes-suppressives.html#le-recodage",
    "title": "Les méthodes suppressives",
    "section": "Le recodage",
    "text": "Le recodage\n\n\n\n\n\n\n\n👍\n👎\n\n\n\n\nRéduit le SP.\nNe supprime pas toujours totalement le SP.\n\n\nTrès simple à mettre en place.\nImpossible dans certains cas (structure imposée, suivi dans le temps).\n\n\n\n\nComment protéger le secret primaire restant ?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-secret-primaire-1",
    "href": "theorie/supports/methodes-suppressives.html#le-secret-primaire-1",
    "title": "Les méthodes suppressives",
    "section": "Le secret primaire",
    "text": "Le secret primaire\nPremière étape : supprimer les cellules ne respectant pas les règles du secret primaire.\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\n6\n14\nX\n7\n28\n\n\nNon polluante\n3\nX\n3\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\n\nTableau 1 – Nombre d’entreprises polluantes par région\n\n\nCe n’est pas suffisant, les cellules sont liées entre elles par des équations (marges)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-secret-secondaire",
    "href": "theorie/supports/methodes-suppressives.html#le-secret-secondaire",
    "title": "Les méthodes suppressives",
    "section": "Le secret secondaire",
    "text": "Le secret secondaire\nDeuxième étape : supprimer des cellules pour protéger le secret primaire.\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\n6\nX\nX\n7\n28\n\n\nNon polluante\n3\nX\nX\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\n\nTableau 1 – Nombre d’entreprises polluantes par région"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-secret-secondaire-1",
    "href": "theorie/supports/methodes-suppressives.html#le-secret-secondaire-1",
    "title": "Les méthodes suppressives",
    "section": "Le secret secondaire",
    "text": "Le secret secondaire\nPlusieurs structures de suppressions (masques de secret) sont possibles.\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\nX\n14\nX\n7\n28\n\n\nNon polluante\nX\nX\n3\n13\n21\n\n\nTotal\n9\nX\nX\n20\n49\n\n\n\n\nTableau 1 – Nombre d’entreprises polluantes par région"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nCacher des cellules revient à diffuser des intervalles.\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluante\n6\n[11 ; 15]\n[0 ; 4]\n7\n28\n\n\nNon polluante\n3\n[1 ; 5]\n[0 ; 4]\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\nIntervalle des possibles : l’ensemble des valeurs possibles prises par la cellule supprimée après avoir posé le masque de secret."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-1",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-1",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nIntervalle de protection : soit \\(V_C\\) la valeur d’une cellule C sensible à la règle de fréquence et \\(m\\%\\) la marge protection choisie.\n\\[\n[(1 - m\\%) \\cdot V_C ;\\ (1 + m\\%) \\cdot V_C]\n\\]\nEn pratique on choisit souvent une marge de 10%, \\[\n[90\\% \\cdot V_C ; 110\\% \\cdot V_C]\n\\]"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-2",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-2",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\nNord\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCentre\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSud\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\nTableau 2 – Répartition des ventes d’instruments par région et par type, en millions d’euros\n\n\nNote : glisser la souris sur les valeurs en secret primaire de fréquence pour voir les intervalles de protection."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-3",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-3",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nRègle des intervalles : l’intervalle de protection de chaque cellule sensible doit être inclus dans son intervalle des possibles.\n\nCette règle permet de se prémunir d’une divulgation par inférence."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-4",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-4",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nExemple avec une marge de protection de 10%.\n\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\n58\n71\n92\n800\n1021\n\n\nCentre\n11\n124\n157 (2)\n934\n1226\n\n\nSud\n36\n24\n60 (1)\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote : glisser la souris sur les valeurs en secret primaire de fréquence pour voir les intervalles de protection."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-5",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-5",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nExemple avec une marge de protection de 10%.\n\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\nX\n71\nX\n800\n1021\n\n\nCentre\nX\n124\nX\n934\n1226\n\n\nSud\nX\n24\nX\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote : glisser la souris sur les valeurs en secret primaire de fréquence pour voir les intervalles de protection."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-6",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-6",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nExemple avec une marge de protection de 10%.\n\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\n[0;105]\n71\n[45;150]\n800\n1021\n\n\nCentre\n[0;105]\n124\n[63;168]\n934\n1226\n\n\nSud\n[0;96]\n24\n[0;96]\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote : glisser la souris sur les valeurs en secret primaire de fréquence pour voir les intervalles de protection."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-7",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-7",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nLa borne supérieure de l’intervalle des possibles (168) est inférieure à la borne supérieure de l’intervalle de protection (173)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-8",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-8",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\n\nOn peut inférer la valeur de la cellule à 7% et non 10%.\nLa cellule n’est pas suffisamment protégée."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-9",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-9",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\nOn utilise un autre masque de secret …\n\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\n58\nX\nX\n800\n1021\n\n\nCentre\n11\nX\nX\n934\n1226\n\n\nSud\n36\nX\nX\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-10",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-10",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\n… avec d’autres intervalles des possibles.\n\n\n\n\n\n\n\n\n\n\n\nRégion\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\n58\n[0;163]\n[0;163]\n800\n1021\n\n\nCentre\n11\n[0;219]\n[62;281]\n934\n1226\n\n\nSud\n36\n[0;84]\n[0;84]\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-11",
    "href": "theorie/supports/methodes-suppressives.html#les-intervalles-de-protection-11",
    "title": "Les méthodes suppressives",
    "section": "Les intervalles de protection",
    "text": "Les intervalles de protection\n\nAvec cet autre masque de secret la cellule est suffisamment protégée."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#minimiser-la-perte-dinformation",
    "href": "theorie/supports/methodes-suppressives.html#minimiser-la-perte-dinformation",
    "title": "Les méthodes suppressives",
    "section": "Minimiser la perte d’information",
    "text": "Minimiser la perte d’information\nPour minimiser la perte d’information, il faut définir pour chaque cellule un coût associé à sa suppression.\n\nPlusieurs possibilités :\n\nLe nombre de cellules supprimées\nLe nombre de contributeurs concernés par les cases supprimées\nLa valeur de la cellule (défaut Tau-Argus)\nUn autre variable / coût ajusté"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tau-argus",
    "href": "theorie/supports/methodes-suppressives.html#tau-argus",
    "title": "Les méthodes suppressives",
    "section": "\\(\\tau\\)-Argus",
    "text": "\\(\\tau\\)-Argus\n\n\n\nPermet de calculer le secret primaire et secondaire ou faire des arrondis contrôlés\n\n\nDéveloppement maintenance et support : groupé d’expert européens coordonné par CBS\n\n\nLogiciel de référence en Europe pour gérer la confidentialité des tableaux\n\n\nLogiciel libre et open source\n\n\nDernière version stable 4.2.4 (26 avril 2023)"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tau-argus-1",
    "href": "theorie/supports/methodes-suppressives.html#tau-argus-1",
    "title": "Les méthodes suppressives",
    "section": "\\(\\tau\\)-Argus",
    "text": "\\(\\tau\\)-Argus\n\n\n\n\n\n\n\n👍\n👎\n\n\n\n\nOutil qui fait référence.\nInterface fouillis.\n\n\nPerformant sur la partie pose de secret grâce à une optimisation globale.\nBugs et erreurs pas faciles à comprendre et corriger.\n\n\nOutil maintenu régulièrement.\nReproductibilité des opérations limitées."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus",
    "title": "Les méthodes suppressives",
    "section": "rtauargus",
    "text": "rtauargus\nUn package R pour bénéficier des avantages de \\(\\tau\\)-Argus tout en limitant les inconvénients.\n\n\n\nDéveloppé à l’Insee\n\n\nCode open-source\n\n\nVersion la plus récente 02/25 : v-1.2.999-dev\n\n\nUne documentation en ligne\n\n\nUtiliser les fonctions tab_XXX()"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-1",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-1",
    "title": "Les méthodes suppressives",
    "section": "rtauargus",
    "text": "rtauargus\nFonctionnement du package :\n\ncrée l’ensemble des fichiers dans les formats attendus par \\(\\tau\\)-Argus\nLance \\(\\tau\\)-Argus\nRécupère les résultats dans R"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-2",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-2",
    "title": "Les méthodes suppressives",
    "section": "rtauargus",
    "text": "rtauargus\n\nPoser le secret primaire “manuellement”\nPoser le secret secondaire avec :\n\n\ntab_rtauargus() : pour protéger un seul tableau\ntab_multi_manager() : pour protéger plusieurs tableaux"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-3",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-3",
    "title": "Les méthodes suppressives",
    "section": "rtauargus",
    "text": "rtauargus\nBesoin de retours utilisateurs : créer une issue sur github.\nOu nous contacter par mail (dg75_dmcsi-confidentialite at insee dot fr)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés",
    "title": "Les méthodes suppressives",
    "section": "Tableaux hiérarchisés",
    "text": "Tableaux hiérarchisés"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés-1",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés-1",
    "title": "Les méthodes suppressives",
    "section": "Tableaux hiérarchisés",
    "text": "Tableaux hiérarchisés\n\n\nSi on ne renseigne pas la hiérarchie, on peut retrouver la valeur cachée."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés-2",
    "href": "theorie/supports/methodes-suppressives.html#tableaux-hiérarchisés-2",
    "title": "Les méthodes suppressives",
    "section": "Tableaux hiérarchisés",
    "text": "Tableaux hiérarchisés\n\n\nLorsque la hiérarchie est renseignée, on protège bien les données."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#le-format-argus-des-hiérarchies",
    "href": "theorie/supports/methodes-suppressives.html#le-format-argus-des-hiérarchies",
    "title": "Les méthodes suppressives",
    "section": "Le format Argus des hiérarchies",
    "text": "Le format Argus des hiérarchies\nDans \\(\\tau\\)-Argus les hiérarchies sont présentées dans un format particulier : fichier texte .hrc.\n\nDoit décrire parfaitement l’emboîtement\nLe nombre de @ désigne le niveau d’emboîtement de chaque catégorie\nNe fait pas apparaître le total\nLa fonction write_hrc2() permet de créer un fichier .hrc à partir d’une table de passage"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protéger-des-tableaux-liés-avec-rtauargus",
    "href": "theorie/supports/methodes-suppressives.html#protéger-des-tableaux-liés-avec-rtauargus",
    "title": "Les méthodes suppressives",
    "section": "Protéger des tableaux liés avec rtauargus",
    "text": "Protéger des tableaux liés avec rtauargus\nUtiliser la fonction tab_multi_manager() :\n\nL’utilisateur décrit les tableaux\nFusion automatique de tous les tableaux entre eux\nAlgorithme gère la protection itérative des tableaux\n\nN.B. La pose du secret à chaque itération est effectuée avec \\(\\tau\\)-Argus.\n\nLa fonction tab_multi_manager() fournit un journal sous forme de reporting (étapes pose secret)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#lanalyse-dune-demande",
    "href": "theorie/supports/methodes-suppressives.html#lanalyse-dune-demande",
    "title": "Les méthodes suppressives",
    "section": "L’analyse d’une demande",
    "text": "L’analyse d’une demande\nIl faut repérer les liens entre les tableaux pour poser un secret qui les protège vraiment.\nLes tableaux diffusés ne sont pas les mêmes que les tableaux à protéger."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse",
    "href": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse",
    "title": "Les méthodes suppressives",
    "section": "Etapes de l’analyse",
    "text": "Etapes de l’analyse\n\nRéunir les informations nécessaires à la description des tableaux\n\n\nchamp\nvariables de croisements\nvariable de réponses (i.e. indicateur)\ntableaux de fréquence ou de volumes ?\ndescription des emboîtements pour les hiérarchies\néquations ou corrélations entre les variables de réponses"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-1",
    "href": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-1",
    "title": "Les méthodes suppressives",
    "section": "Etapes de l’analyse",
    "text": "Etapes de l’analyse\n\nLa demande peut-elle être découpée en sous-demandes indépendantes ?\n\n\nchamps différents et non complémentaires \\(\\perp\\!\\!\\!\\perp\\)\nvariable de réponses différentes (et non liées par une équation / corrélation) \\(\\perp\\!\\!\\!\\perp\\)\nvariables de croisement toutes différentes \\(\\perp\\!\\!\\!\\perp\\)\n\nDans les cas d’indépendance il faut gérer séparément les différentes sous-demandes."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-2",
    "href": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-2",
    "title": "Les méthodes suppressives",
    "section": "Etapes de l’analyse",
    "text": "Etapes de l’analyse\n\nLister les tableaux nécessaires pour la pose du secret\n\n\nCertaines hiérarchies peuvent conduire à unifier des tableaux\nSi tableaux additifs, construire un unique tableau en créant une variable supplémentaire\nSi hiérarchie non-emboîtée, extraire les niveaux concernés pour construire un tableau supplémentaire"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-3",
    "href": "theorie/supports/methodes-suppressives.html#etapes-de-lanalyse-3",
    "title": "Les méthodes suppressives",
    "section": "Etapes de l’analyse",
    "text": "Etapes de l’analyse\n\nPréparer les hiérarchies\n\n\nDétecter les variables hiérarchiques\nConstruire les fichiers .hrc nécessaires (manuellement ou avec write_hrc2())"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#traiter-un-lien-additif-entre-des-variables-réponses",
    "href": "theorie/supports/methodes-suppressives.html#traiter-un-lien-additif-entre-des-variables-réponses",
    "title": "Les méthodes suppressives",
    "section": "Traiter un lien additif entre des variables réponses",
    "text": "Traiter un lien additif entre des variables réponses\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n5\n10\n15\n\n\ntr2\n12\n18\n30\n\n\ntr3\n5\n5\n10\n\n\nT\n22\n33\n55\n\n\n\n\nCA couteaux\n\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n3\n8\n11\n\n\ntr2\n6\n20\n26\n\n\ntr3\n2\n6\n8\n\n\nT\n11\n34\n45\n\n\n\n\nCA fourchettes\n\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n8\n18\n26\n\n\ntr2\n18\n38\n56\n\n\ntr3\n7\n11\n18\n\n\nT\n33\n67\n100\n\n\n\n\nCA couverts\n\n\n\n\nLien entre les CA : “couverts = couteaux + fourchettes”."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#traiter-un-lien-additif-entre-des-variables-réponses-1",
    "href": "theorie/supports/methodes-suppressives.html#traiter-un-lien-additif-entre-des-variables-réponses-1",
    "title": "Les méthodes suppressives",
    "section": "Traiter un lien additif entre des variables réponses",
    "text": "Traiter un lien additif entre des variables réponses\nNouvelle variable de croisement : “type_couverts”.\n\n\n\n\n\n\n\n\n\nRégion\nTr\ntype_couverts\nchiffre_affaires\n\n\n\n\nreg1\ntr1\ncouteaux\n5\n\n\nreg1\ntr1\nfourchettes\n3\n\n\nreg1\ntr1\ncouverts\n8\n\n\n…\n…\n…\n…\n\n\nTotal\nTotal\ncouverts\n100"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée",
    "href": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée",
    "title": "Les méthodes suppressives",
    "section": "Traiter une hiérarchie non-emboîtée",
    "text": "Traiter une hiérarchie non-emboîtée\n\nIci, l’agrégat 50+ ne peut pas être bien emboîté dans la hiérarchie."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée-1",
    "href": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée-1",
    "title": "Les méthodes suppressives",
    "section": "Traiter une hiérarchie non-emboîtée",
    "text": "Traiter une hiérarchie non-emboîtée\n\nCréer un second tableau contenant uniquement la ventilation de 50+."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée-2",
    "href": "theorie/supports/methodes-suppressives.html#traiter-une-hiérarchie-non-emboîtée-2",
    "title": "Les méthodes suppressives",
    "section": "Traiter une hiérarchie non-emboîtée",
    "text": "Traiter une hiérarchie non-emboîtée\n\n\nprinc.hrc\n&lt;25\n25-29\n30-69\n@30-49\n@50-69\n70+\n\nalt.hrc\n50-69\n70+"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "À propos",
    "section": "",
    "text": "Origine du projet\nCe projet est né de la volonté de partager connaissances et matériaux auprès des statisticiens publics en charge d’assurer la protection des données statistiques avant leur diffusion auprès du public.\n\n\nAuteurs\n\nJulien Jamme, Insee\nClara Baudry, Insee"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#les-différents-types-de-risque",
    "href": "theorie/supports/arbitrer-risque-utilite.html#les-différents-types-de-risque",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Les différents types de risque",
    "text": "Les différents types de risque\n\n\nRisque de divulgation Risque de divulguer une information confidentielle en publiant des données.\n\nQuatre types de risque de divulgation :\n\nRisque de divulgation d’identité\nRisque de divulgation d’attribut\nRisque de divulgation par inférence\nRisque de divulgation par différenciation\n\npar \"emboîtement\"\npar \"recoupement\""
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-didentité",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-didentité",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risque de divulgation d’identité",
    "text": "Risque de divulgation d’identité\n\n\nRisque de divulgation d’identité Risque de reconnaître un individu spécifique dans les données publiées : un attaquant peut identifier une unité à partir de la publication.\n\nExemples :\n\nCertaines variables comme le nom, l’adresse qui identifient directement des individus ou des foyers.\nToutes les personnes avec de caractéristiques très rares (ex : personnes très âgées).\nIl a été montré que 87% de la population américaine est unique uniquement à partir du ZIP code, du genre et de la date de naissance (Sweeney, 2000)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-didentité-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-didentité-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risque de divulgation d’identité",
    "text": "Risque de divulgation d’identité\n\n\nL’âge, le genre, la profession et le niveau d’éducation sont généralement considérés comme des quasi-identifiants\nLa divulgation d’identité ne permet pas toujours d’apprendre de nouvelles information sur l’individu (si l’attaquant parvient juste à matcher mais qu’il n’y a pas de variable en plus dans les données alors il n’a rien appris)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-dattribut",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-dattribut",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risque de divulgation d’attribut",
    "text": "Risque de divulgation d’attribut\n\n\nRisque de divulgation d’attribut Risque de divulguer de l’information sensible sur certains individus dans les données diffusées.\n\nExemples :\n\nSi un individu est identifié à partir de certaines variables alors l’attaquant connaît toutes ses autres caractéristiques pour les autres variables publiées\nDivulgation d’un attribut de groupe : on parle de divulgation d’attribut même si l’attribut ne concerne pas un unique individu mais tout un groupe. A partir de la table ci-dessous on sait que tous les hommes sont diabétiques.\n            Femme   Homme\n\nDiabétique 30 40 Pas diabétique 12 0"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-par-inférence",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-par-inférence",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risque de divulgation par inférence",
    "text": "Risque de divulgation par inférence\n\n\nRisque de divulgation par inférence Risque de pouvoir déduire avec une certitude élevée des informations sensibles sur des individus à partir des données publiées.\n\nExemples :\n\nLorsque la proportion de certaines caractéristiques est très élevée au sein d’un groupe\n\n\n\n\nFemme\nHomme\n\n\n\n\nDiabétique\n30\n38\n\n\nPas diabétique\n12\n2\n\n\n\nLorsque deux variables sont fortement corrélées, on peut déduire l’une à partir de l’autre"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-par-différenciation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risque-de-divulgation-par-différenciation",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risque de divulgation par différenciation",
    "text": "Risque de divulgation par différenciation\n\nDeux types de différenciation :\n\nDifférenciation par \"emboîtement\" : différenciation possible engendrée par l’existence de deux zonages parfaitement emboîtés l’un dans l’autre (cas le plus classique)\nDifférenciation par \"recoupement\" : différenciation entre des zonages recouvrant un même territoire mais sans s’emboîter l’un dans l’autre - les zones de l’un recoupant celles de l’autre"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#différenciation-par-recoupement",
    "href": "theorie/supports/arbitrer-risque-utilite.html#différenciation-par-recoupement",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Différenciation par recoupement",
    "text": "Différenciation par recoupement\n\n\n\n\nExemple de différenciation par recoupement en France entre un département (zonage administratif) et un EPCI (zonage d’étude)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#différenciation-par-recoupement-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#différenciation-par-recoupement-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Différenciation par recoupement",
    "text": "Différenciation par recoupement\n\n\n\n\nZoom sur l’EPCI qui chevauche les départments du Rhône (69) et de l’Ain (01)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables",
    "href": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Distinguer les variables",
    "text": "Distinguer les variables\n\n\nIdentifiants: Variables permettant d’identifier directement un individu.\nQuasi-identifiants: Variables pouvant conduire à réidentifier un individu à partir d’une information auxiliaire.\nVariables sensibles: Variables pour lesquelles des mesures de protection spécifiques peuvent s’avérer nécessaires.\nAutres variables"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Distinguer les variables",
    "text": "Distinguer les variables\n\nRemarques:\n\nLes identifiants sont retirés très tôt au cours du processus de production \\(\\Rightarrow\\) ils ne posent pas de problème en termes de gestion de la confidentialité.\nLes quasi-identifiants:\n\nPour des données individus: sexe, âge, lieu d’habitation, diplôme, statut marital, etc.\nPour des données entreprises: Secteur d’activité, lieu du siège, etc.\nListe à déterminer à chaque fois\nDe quelles variables un attaquant dispose-t-il déjà ?"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#distinguer-les-variables-2",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Distinguer les variables",
    "text": "Distinguer les variables\n\n\n\nLes différents types de variables dans un jeu de données\n\n\nVar. Identifiantes\n\nVar Quasi-Identifiantes\n\n\nAutre Variable\nVar. Sensible\n\n\n\n\nNom\nAdresse\nCommune\nÂge\nDiplôme\nStatut d’occupation\nRevenus\n\n\nJohan\n3, rue ...\nParis\n36\nBac\nActif occupé\n150 000,00 €\n\n\nJeanne\n115, bd ...\nMalakoff\n41\nBac +3\nActif occupé\n60 000,00 €\n\n\nJehanne\n68, rue ...\nLyon\n52\nBac +5\nChômeur\n75 000,00 €\n\n\nJoann\n7, chemin ...\nVilleurbanne\n45\nBac\nActif occupé\n32 000,00 €\n\n\nYoann\n53, avenue ...\nCerisy-La-Salle\n41\nBEP\nActif occupé\n19 000,00 €\n\n\nJenny\n26bis, rue ...\nCherbourg\n26\nCAP\nChômeur\n5 000,00 €\n\n\nJohnny\n12, place ...\nPithiviers\n31\nBac Pro\nActif occupé\n25 000,00 €\n\n\nJean\n3, impasse ...\nOrléans\n48\nBac\nActif occupé\n32 000,00 €\n\n\nJeannette\n8, chemin …\nParis\n85\nAucun\nRetraité\n10 000,00 €"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-le-k-anonymat",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-le-k-anonymat",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Quantifier le risque : le k-anonymat",
    "text": "Quantifier le risque : le k-anonymat\n\n\nLe k-anonymat (Samarati et Sweeney, 1998) Un jeu de données est considéré comme k-anonyme si la combinaison la moins fréquente des modalités des variables quasi-identifiantes compte au moins k unités.\n\n\nCette mesure assure que tous les individus sont similaires à au moins k-1 autres.\nMesure de risque globale qui se focalise sur les individus les plus à risque de ré-identification.\nLa probabilité associée au risque pour un individu du fichier d’être ré-identifié est au minimum 1/k"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-le-k-anonymat-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-le-k-anonymat-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Quantifier le risque : le k-anonymat",
    "text": "Quantifier le risque : le k-anonymat\n\n\n\nExemple d’un fichier individuel 1-anonyme, l’âge et le genre étant considérés comme quasi-identifiants\n\n\nId\nAge\nGenre\nMaladie(s)\n\n\n\n\n1\n[45;55[\nM\nDiabète\n\n\n2\n[45;55[\nM\nHypertension artérielle\n\n\n3\n[45;55[\nF\nCancer\n\n\n4\n[45;55[\nF\nGrippe\n\n\n5\n[70;75[\nM\nDiabète\n\n\n6\n[45;55[\nM\nDiabète"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-la-l-diversité",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-la-l-diversité",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Quantifier le risque : la l-diversité",
    "text": "Quantifier le risque : la l-diversité\n\n\nLa l-diversité Assure une diversité suffisante des modalités d’une variable sensible prises par les individus au sein d’une même combinaison de quasi-identifiants.\n\n\nRaffinement du \\(\\mathbf{k}\\)-anonymat.\nProtection contre la divulgation d’attributs sensibles."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-la-l-diversité-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifier-le-risque-la-l-diversité-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Quantifier le risque : la l-diversité",
    "text": "Quantifier le risque : la l-diversité\n\n\nUn fichier 2-anonyme mais pas assez diversifié\n\n\nAge\nSexe\nMaladie(s)\n\n\n\n\n[50;55[\nH\nDiabète\n\n\n[50;55[\nH\nDiabète\n\n\n[50;55[\nF\nCancer\n\n\n[50;55[\nF\nGrippe\n\n\n[50;55[\nH\nDiabète"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#limites-du-k-anonymat",
    "href": "theorie/supports/arbitrer-risque-utilite.html#limites-du-k-anonymat",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Limites du k-anonymat",
    "text": "Limites du k-anonymat\n\nCes mesures sont très répandues, faciles à comprendre et à mettre en place, mais elles ont aussi quelques limites:\n\nL’efficacité dépend du scénario de divulgation :\n\nSi l’intrus sait qu’un individu spécifique est dans l’ensemble de données, le \\(\\mathbf{k}\\)-anonymat est une manière équitable d’évaluer le risque de ré-identification.\nSi l’intrus essaie de faire correspondre les données publiées avec une base de données d’identification, l’évaluation des risques basée sur le \\(\\mathbf{k}\\)-anonymat est conservatrice.\n\nLe \\(\\mathbf{k}\\)-anonymat ne prend pas en compte les poids d’échantillonnage.\n\\(\\Rightarrow\\) le k-anonymat appliqué à un échantillon sur-évaluera le risque de ré-identification."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#mesures-naïves-du-risque-individuel",
    "href": "theorie/supports/arbitrer-risque-utilite.html#mesures-naïves-du-risque-individuel",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Mesures (naïves) du risque individuel",
    "text": "Mesures (naïves) du risque individuel\n\n\nProbabilité de ré-identifier un individu d’une population: \\(r_k = \\frac{1}{N_k}\\)\n(\\(N_k\\) = nb d’individus partageant la même combinaison de clés \\(k\\)).\nProbabilité de ré-identifier un individu d’un échantillon:\n\nSoit on raisonne au niveau de l’échantillon: \\(r_k = \\frac{1}{n_k}\\)\n(\\(n_k\\) = nb d’individus de l’échantillon partageant la même combinaison de clés \\(k\\)).\nSoit on raisonne au niveau de la population: \\(r_k\\) peut être estimé par \\(\\hat{r_k} = \\frac{1}{\\sum\\limits_{i \\in k}{w_i}}\\),\noù \\(w_i\\) est le poids de l’individu \\(i\\)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#mesures-probabilistes-du-risque-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#mesures-probabilistes-du-risque-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Mesures probabilistes du risque",
    "text": "Mesures probabilistes du risque\n\n\nLes individus les plus à risque:\n\nLes uniques de population, quand \\(N_k = 1\\)\nLes uniques dans l’échantillon, quand \\(n_k = 1\\)\nLes uniques dans l’échantillon qui sont également uniques dans la population, quand \\(\\sum\\limits_{i \\in k}{w_i} = 1\\)\n\nLes mesures individuelles permettent de cibler les individus les plus à risque.\nLes mesures globales sont utiles pour réaliser l’arbitrage.\n\nPar exemple, le risque individuel moyen \\(\\tau = \\frac{\\sum\\limits_{k}{n_k \\times r_k}}{n}\\)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#mesures-probabilistes-du-risque-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#mesures-probabilistes-du-risque-2",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Mesures probabilistes du risque",
    "text": "Mesures probabilistes du risque\n\nDes mesures plus raffinées sont implémentées dans des outils classiques tels que \\(\\mu\\)-Argus ou le package R sdcmicro.\n\nQuand on dispose d’un échantillon (donc des \\(n_k\\)), on ne connaît en général pas les \\(N_k\\).\nMesure du risque individuel conditionnellement à l’échantillon: \\(r_k = \\mathbb{E}(\\frac{1}{N_k}|n_k)\\).\nMesure dépendant d’une modélisation de la loi (posterior) de \\(N_k | n_k\\)\n\nModélisation des fréquences des clés dans la population conditionnellement à leur fréquence dans l’échantillon.\nPar une binomiale négative par exemple dans Benedetti et Franconi, 1998."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#autres-mesures",
    "href": "theorie/supports/arbitrer-risque-utilite.html#autres-mesures",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Autres mesures",
    "text": "Autres mesures\n\n\nLe Record Linkage:\n\nMesure a posteriori de la distance entre les individus du jeu protégé et ceux du jeu original.\nPermet d’évaluer le nombre de correspondances exactes entre données perturbées et originales.\n\nLes Outliers:\n\nFort risque de réidentification des individus ayant des valeurs en queue de distribution (par ex. les très hauts revenus des footballeurs)\nUne perturbation n’est pas toujours suffisante (Un outlier perturbé reste souvent un outlier).\nDétection des outliers à partir des quantiles de la distribution."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#définir-un-scénario-dattaque",
    "href": "theorie/supports/arbitrer-risque-utilite.html#définir-un-scénario-dattaque",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Définir un scénario d’attaque",
    "text": "Définir un scénario d’attaque\n\n\nScénario d’attaque Définir des scénarios d’attaque c’est envisager les moyens utilisés par l’attaquant et objectiver les utilisations frauduleuses que nous chercherons à empêcher.\n\n\nArbitrage Coûts/Risques (INS)\nArbitrage Coûts/Bénéfices (Attaquant)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#comment-la-définir",
    "href": "theorie/supports/arbitrer-risque-utilite.html#comment-la-définir",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Comment la définir ?",
    "text": "Comment la définir ?\n\nComment la définir ?\n\nLe processus de protection des données entraîne nécessairement une perte d’information\n\n\n\n0.49\n\n\n\nRégion\nÂge\nProfession\n\n\n\n\nStatut\n\n\n92\n14\nInactif\n\n\n75\n41\nChômeur\n\n\n75\n52\nEmployé\n\n\n94\n45\nEmployé\n\n\n75\n41\nChômeur\n\n\n92\n26\nEmployé\n\n\n92\n31\nEmployé\n\n\n94\n14\nInactif\n\n\n\n\n0.49\n\n\n\n\n\n\n\n\nRégion\nÂge\nProfession\n\n\n\n\nrisque = 100 % , Perte d’info = 0 risque = 0 % , Perte d’info = 100 %"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nComment la définir ? Les utilisateurs\n\nPas de définition de la perte d’information sans connaître la gamme envisagée des utilisateurs des données\nEn fonction des utilisateurs finaux, le concept de perte d’information peut changer\nIl n’est pas recommandé de publier plusieurs versions protégées du même jeu de données pour chaque type d’utilisateur \\(\\longrightarrow\\) risques de divulgation importants par différenciation."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nComment la définir ? Idée principale\nDeux moyens pour mesurer la perte d’information :\n\nComparer les enregistrements bruts entre le jeu de données original et le jeu de données protégé\nComparer certaines statistiques calculées sur les jeux de données originaux et protégés"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-2",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nDonnées continues Pour les données continues, formellement :\n\n\\(I_1,\\dots, I_n\\), \\(n\\) enregistrements individuels\n\\(Z_1,..,Z_p\\), \\(p\\) données continues\n\\(X\\) la matrice de données originale, \\(X^{'}\\) la matrice de données protégée"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-3",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-3",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nDonnées continues, distance entre matrices\n\nErreur quadratique moyenne : somme des différences au carré, composante par composante entre 2 matrices, divisée par le nombre de coefficients de chaque matrice : \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n(x_{ij}-x^{'}_{ij})^2\\]\n\n\n\nPerte d’informationDonnées continues, distance entre matrices\n\nErreur absolue moyenne : somme des différences absolues, composante par composante entre 2 matrices, divisée par le nombre de coefficients de chaque matrice \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n|x_{ij}-x^{'}_{ij}|\\]\n\n\n\nPerte d’informationDonnées continues, distance entre matrices\n\nVariation moyenne : somme des variations absolues en pourcentage des composantes de la matrice protégée par rapport à la matrice de données originale \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n\\frac{|x_{ij}-x^{'}_{ij}|}{|x_{ij}|}\\]"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-4",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-4",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nUn exemple\n\n\\(X\\) en haut, \\(X^{'}\\) en bas, les données perturbées\n\n\n\n\nSexe\nRégion\nÂge\nheures travaillées\n\n\n\n\n\npar semaine\n\n\nF\n92\n36\n17\n\n\nM\n75\n41\n35\n\n\nF\n75\n52\n5\n\n\n\n\n\n\nSexe\nRégion\nÂge\nheures travaillées\n\n\n\n\n\npar semaine\n\n\nF\n92\n34\n23\n\n\nF\n75\n48\n35\n\n\nM\n75\n58\n2"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-5",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-5",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nUn exemple\n\nErreur quadratique moyenne = \\(\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n(x_{ij}-x^{'}_{ij})^2=\\frac{(36-34)^2+(41-48)^2+(52-58)^2+(17-23)^2+(35-35)^2+(5-2)^2}{6}=\\frac{4+49+36+36+9}{6}=22\\)\nErreur absolue moyenne = \\(\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n|x_{ij}-x^{'}_{ij}|=\\frac{|36-34|+|41-48|+|52-58|+|17-23|+|35-35|+|5-2|}{6}=\\frac{2+7+6+6+0+3}{6}=\\frac{24}{6}=4\\)\nVariation moyenne = \\(\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n\\frac{|x_{ij}-x^{'}_{ij}|}{|x_{ij}|}=\\frac{\\frac{|36-34|}{36}+\\frac{|41-48|}{41}+\\frac{|52-58|}{52}+\\frac{|17-23|}{17}+\\frac{|35-35|}{35}+\\frac{|5-2|}{5}}{6}=\\frac{\\frac{2}{36}+\\frac{7}{41}+\\frac{6}{52}+\\frac{6}{17}+\\frac{0}{35}+\\frac{3}{5}}{6}=0.15\\)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-6",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-6",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\n\nLes petites valeurs de \\(x_{ij}\\) peuvent entraîner une instabilité lors du calcul de la variation moyenne \\(\\longrightarrow\\) pour éviter cela, la solution est la formulation : \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n\\frac{|x_{ij}-x^{'}_{ij}|}{\\sqrt{2}S_j}\\] avec \\(S_j\\) l’écart type de la \\(j\\)-ème variable"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-7",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-7",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\nDonnées continues\nMesures spécifiques:\n\nComparaisons univariées (comparaison de la distribution d’une variable avant et après perturbation).\nComparaisons bivariées: Corrélations linéaires par exemple.\nComparaison multivariées: Comparaison des plans d’une analyse en composante principale.\nComparaison des paramètres d’une régression, etc."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#données-catégorielles",
    "href": "theorie/supports/arbitrer-risque-utilite.html#données-catégorielles",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Données catégorielles",
    "text": "Données catégorielles\n\nPour les variables catégorielles, 3 idées principales pour évaluer la perte d’information avec des données catégorielles :\n\nComparaison directe des valeurs des variables\n\nÉcarts absolus moyens\n\n\nComparaison des tables de contingence\nMesures basées sur l’entropie"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#mesure-basée-sur-lentropie",
    "href": "theorie/supports/arbitrer-risque-utilite.html#mesure-basée-sur-lentropie",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Mesure basée sur l’entropie",
    "text": "Mesure basée sur l’entropie\n\n\nL’entropie mesure l’incertitude induite par une distribution de probabilité donnée : \\[H(V/V^{'}=j) = - \\sum_{i=1}^K P(V=i|V^{'} = j) \\log(P(V=i|V^{'} = j))\\]\nSelon la méthode, il peut être difficile d’évaluer la quantité \\(P(V=i|V^{'} = j)\\)\nRisque global \\[R = \\sum_{r \\in enregistrements} H(V/V^{'}=\\underset{valeur protégée}{\\underbrace{j_{r}}})\\]"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-8",
    "href": "theorie/supports/arbitrer-risque-utilite.html#perte-dinformation-8",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Perte d’information",
    "text": "Perte d’information\n\n\n\\(K = 5\\) catégories, soit \\(j = 4\\), et examinons \\(P(V=i|V^{'} = 4)_{1\\leq i\\leq 5}\\)\n\n\n\n0.30\n\n\n\nimage\n\n\n\n0.30\n\n\n\nimage\n\n\n\n0.30\n\n\n\nimage\n\n\n\n\n\\(\\longrightarrow\\) Compromis entre risque et perte d’information !"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#visualisation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#visualisation",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Visualisation",
    "text": "Visualisation\n\n\nDe nombreux moyens de visualisation de la perte d’information:\n\nUnivarié: histogrammes, boîtes à moustaches, diagrammes en barres\nBivarié: Matrices de corrélations, Diagrammes en mosaïques, Plan d’une analyse factorielle des correspondances, etc.\nMultivarié: 1er plan d’une analyse factorielle (ACP, ACM, AFDM)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#visualisation-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#visualisation-1",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Visualisation",
    "text": "Visualisation\n\nMatrice de corrélations dans les données originales et différences observées après perturbation selon deux méthodes différentes:\n\n\n0.30\n\n\n\nOriginal\n\n\n\n0.30\n\n\n\nMéthode 1\n\n\n\n0.30\n\n\n\nMéthode 2"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#visualisation-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#visualisation-2",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Visualisation",
    "text": "Visualisation\n\nMatrice de corrélations dans les données originales et différences observées après perturbation selon deux méthodes différentes:\n\n\n0.48\n\n\n\nOriginal\n\n\n\n0.48\n\n\n\nPerturbé"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#données-tabulées",
    "href": "theorie/supports/arbitrer-risque-utilite.html#données-tabulées",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Données tabulées",
    "text": "Données tabulées\n\nPour les variables catégorielles, 3 idées principales pour évaluer la perte d’information avec des données catégorielles :\n\nMesures globales\n\nÉcarts absolus moyens\nDistance de Hellinger\n\\[HD(\\mathbf{X}, \\mathbf{X}') = \\frac{1}{\\sqrt{2}} \\sqrt{\\sum_{j = 1}^M \\left(\\sqrt{\\frac{x'_j}{\\sum_{j=1}^M x'_j}} - \\sqrt{\\frac{x_j}{\\sum_{j=1}^M x_j}}\\right)^2}\\]\n\nPour Tableau de contingence:\n\nComparaison des V de Cramer (basée sur la statistique du \\(\\chi^2\\)\nComparaison du 1er plan factoriel d’une analyse factorielle des correspondances."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#en-guise-de-conclusion",
    "href": "theorie/supports/arbitrer-risque-utilite.html#en-guise-de-conclusion",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "EN guise de conclusion",
    "text": "EN guise de conclusion\n\n\nIl existe de nombreuses façons d’évaluer la perte d’information.\nFortement liée au niveau de protection.\nDe nombreuses méthodes pour évaluer la perte d’information, le choix de la mesure dépend entièrement des utilisateurs finaux des données publiées.\nDifficile d’anticiper toutes les utilisations d’un ensemble de données et donc toutes les mesures associées de perte d’information.\nNécessité de faire des concessions sur certaines caractéristiques d’un tableau pour libérer des contraintes ailleurs.\nOn ne peut pas préserver toutes les caractéristiques d’un ensemble de données."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#source-généraliste",
    "href": "theorie/supports/arbitrer-risque-utilite.html#source-généraliste",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Source généraliste",
    "text": "Source généraliste\n\nHundepool and alt., Handbook on Statistical Disclosure Control, Wiley, 2012\nUne version libre et gratuite est disponible ici: https://ec.europa.eu/eurostat/cros/system/files/SDC_Handbook.pdf (2010)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risques-de-divulgation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risques-de-divulgation",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Risques de divulgation",
    "text": "Risques de divulgation\n\n\nSweeney, L. (2000). Simple demographics often identify people uniquely. Health (San Francisco), 671(2000), 1-34.\nEl Emam, K., & Dankar, F. K. (2008). Protecting privacy using k-anonymity. Journal of the American Medical Informatics Association, 15(5), 627-637."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#compromis-entre-risque-et-utilité",
    "href": "theorie/supports/arbitrer-risque-utilite.html#compromis-entre-risque-et-utilité",
    "title": "L’Arbitrage Risque/Utilité",
    "section": "Compromis entre Risque et Utilité:",
    "text": "Compromis entre Risque et Utilité:\n\n\nDomingo-Ferrer, J., Mateo-Sanz, J. M., & Torra, V. (2001, May). Comparing SDC methods for microdata on the basis of information loss and disclosure risk. In Pre-proceedings of ETK-NTTS (Vol. 2, pp. 807-826)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-classiques-de-protection-des-données-disponibles",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-classiques-de-protection-des-données-disponibles",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes classiques de protection des données disponibles",
    "text": "Méthodes classiques de protection des données disponibles\n\n\n\nUn tour d’horizon des méthodes de protection des données\n\n\nType de données\nMéthodes non-perturbatrices\nMéthodes perturbatrices\n\n\n\n\nMicrodonnées\nTechniques de sous-échantillonnage\nPerturbation par un bruit (additif, multiplicatif)\n\n\n\nRecodage des variables\nMicroagrégation\n\n\n\nSuppression locale\nTechniques de swapping\n\n\nDonnées tabulées\nSuppression de cellules\nBruitage des sorties\n\n\n\nRecodage des variables\nMéthodes d’arrondi\n\n\n\n\nAjouter du bruit (CKM)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#perturbation-vs-non-perturbation",
    "href": "theorie/supports/tour-des-methodes.html#perturbation-vs-non-perturbation",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Perturbation vs Non-Perturbation",
    "text": "Perturbation vs Non-Perturbation\n\n\nLes méthodes non-perturbatrices réduisent l’information en supprimant les données de certaines valeurs sans changer leur structure.\nLes méthodes perturbatrices ne suppriment pas les données, mais peuvent conduire à perturber toutes les valeurs\nAvec des méthodes perturbatrices, impossible pour l’utilisateur de savoir si l’information diffusée est la \"vraie\".\nProblème des méthodes perturbatrices: impression pour l’utilisateur que les données n’ont pas été protégées."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-non-perturbatrices",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-non-perturbatrices",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes non-perturbatrices",
    "text": "Méthodes non-perturbatrices\n\n\nRecodage des variables\nSuppressions primaire et secondaire"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#recodage-des-variables",
    "href": "theorie/supports/tour-des-methodes.html#recodage-des-variables",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Recodage des variables",
    "text": "Recodage des variables\n\n\nRegrouper des catégories d’une variable catégorielle\nCréer des variables catégorielles à partir d’une variable continue\nÉlargir le champ de diffusion s’il s’avère trop restreint"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple",
    "href": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Recodage des variables: Un exemple",
    "text": "Recodage des variables: Un exemple\n\n\n\n\n\nHarpe\nPiano\nOrgue\nAutre\nTotal\n\n\n\n\nNord\n5\n17\n2\n12\n36\n\n\nCentre\n4\n11\n2\n7\n24\n\n\nSud\n3\n6\n1\n4\n14\n\n\nTotal\n12\n34\n5\n23\n74\n\n\n\n\n\n\n\nHarpe\nPiano\nAutre\nTotal\n\n\n\n\nNord\n5\n17\n14\n36\n\n\nCentre\n4\n11\n9\n24\n\n\nSud\n3\n6\n5\n14\n\n\nTotal\n12\n34\n28\n74"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#recodage-des-variables-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#recodage-des-variables-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Recodage des variables: Avantages / inconvénients",
    "text": "Recodage des variables: Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nFacile à appliquer (pas d’algorithme)\nPerte de détail et donc\n\n\nTrès efficace dans la réduction du risque\nd’information parfois importante\n\n\nFacile à comprendre pour l’utilisateur"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#suppression-de-cellules",
    "href": "theorie/supports/tour-des-methodes.html#suppression-de-cellules",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Suppression de cellules",
    "text": "Suppression de cellules\n\n\nSupprimer certaines cellules pour réduire le risque de ré-identification, tout en minimisant la perte d’information (Secret primaire).\nEn général pas suffisant car les marges du tableau font que les cellules sont liées entre elles par des équations (Secret secondaire).\nOutils : \\(\\tau\\)-Argus et le package R rtauargus"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#le-secret-primaire",
    "href": "theorie/supports/tour-des-methodes.html#le-secret-primaire",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Le secret primaire",
    "text": "Le secret primaire\n\n\nNombre d’entreprises polluantes par région - secret primaire\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n2\n5\n7\n6\n20\n\n\n2-7\nNon\n8\n15\n17\n20\n60\n\n\n2-7\nTotal\n10\n20\n24\n26\n80"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#le-secret-secondaire",
    "href": "theorie/supports/tour-des-methodes.html#le-secret-secondaire",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Le secret secondaire",
    "text": "Le secret secondaire\n\n\nNombre d’entreprises polluantes par région - marges problématiques\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\nx\n5\n7\n6\n20\n\n\n2-7\nNon\n8\n15\n17\n20\n60\n\n\n2-7\nTotal\n10\n20\n24\n26\n80"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#le-secret-secondaire-1",
    "href": "theorie/supports/tour-des-methodes.html#le-secret-secondaire-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Le secret secondaire",
    "text": "Le secret secondaire\n\n\nNombre d’entreprises polluantes par région - masque du secret\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\nx\nx\n7\n6\n20\n\n\n2-7\nNon\nx\nx\n17\n20\n60\n\n\n2-7\nTotal\n10\n20\n24\n26\n80"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#suppression-de-cellules-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#suppression-de-cellules-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Suppression de cellules: Avantages / inconvénients",
    "text": "Suppression de cellules: Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nMéthode très commune à l’Insee et au sein des INS européens\nFonctionne uniquement pour un champ de diffusion défini en amont.\n\n\nMéthode assez bien comprise des utilisateurs\nPeut mener à une grande perte d’information s’il y a beaucoup de liens entre les tableaux.\n\n\n\nDifficile à implémenter pour des diffusions réalistes"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-perturbatrices",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-perturbatrices",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes perturbatrices",
    "text": "Méthodes perturbatrices\n\n\nÉtendue de la perturbation:\n\nSeulement sur les plus petits comptages (données les plus à risque de divulgation)\nSur toutes les cellules: toutes les cellules du tableau sont perturbées (arrondi, Méthode des clés aléatoires (CKM))\n\nProblématiques des méthodes perturbatrices:\n\nComment assurer la cohérence des tableaux entre eux ?\nComment préserver l’additivité au sein des tableaux ?"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées",
    "text": "Méthodes d’arrondi et apparentées\n\nIl existe plusieurs méthodes basées sur des arrondis, dont:\n\nArrondi des petits comptages avec préservation de l’additivité des tableaux (Small Count Rounding) \\(\\Rightarrow\\) une protection limitée.\nArrondi contrôlé (Controlled Rounding): Arrondi de l’ensemble des cellules du tableau tout en conservant l’additivité.\nControlled Tabular adjustment (CTA): Les valeurs des cellules sensibles sont perturbées pour respecter un intervalle de protection. Les autres cellules sont ajustées pour restaurer l’additivité dans les tableaux."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Un exemple",
    "text": "Méthodes d’arrondi et apparentées: Un exemple\n\nTableau de comptage original:\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n6\n14\n1\n7\n28\n\n\n2-7\nNon\n3\n2\n1\n13\n19\n\n\n2-7\nTotal\n9\n16\n2\n20\n47\n\n\n\nSecret primaire = les comptages inférieurs strictement à 5."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-1",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Un exemple",
    "text": "Méthodes d’arrondi et apparentées: Un exemple\n\nSmall Count Rounding, base d’arrondi = 5.\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n6\n14\n0\n7\n27\n\n\n2-7\nNon\n5\n0\n0\n13\n18\n\n\n2-7\nTotal\n11\n14\n0\n20\n45\n\n\n\nMoyenne des écarts absolus: \\(1.067\\)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-2",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-2",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Un exemple",
    "text": "Méthodes d’arrondi et apparentées: Un exemple\n\nArrondi contrôlé avec b = 5\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n5\n15\n0\n5\n25\n\n\n2-7\nNon\n5\n0\n0\n15\n20\n\n\n2-7\nTotal\n10\n15\n0\n20\n45\n\n\n\nMoyenne des écarts absolus: \\(1.467\\)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-3",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-3",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Un exemple",
    "text": "Méthodes d’arrondi et apparentées: Un exemple\n\nControlled Tabular Adjustment avec un intervalle de protection = \\([0;5]\\)\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n5\n16\n0\n7\n28\n\n\n2-7\nNon\n6\n0\n0\n13\n19\n\n\n2-7\nTotal\n11\n16\n0\n20\n47\n\n\n\nMoyenne des écarts absolus: \\(0.933\\)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Avantages / inconvénients",
    "text": "Méthodes d’arrondi et apparentées: Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nConservation de l’additivité\nCR et CTA: Recherche de la solution optimale sur grands tableaux très couteuse en temps (optim. lin.)\n\n\nSCR: Algorithme très efficace sur R\nCR: Une perte d’information parfois excessive\n\n\nPerception de la protection (en particulier des petites valeurs)\nDifficile à utiliser dans le cadre d’une diffusion complexe"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm",
    "href": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "La méthode des clés aléatoires (CKM)",
    "text": "La méthode des clés aléatoires (CKM)\n\nPrincipales caractéristiques de la méthode:\n\nToutes les cellules sont perturbées\nLes cellules sont perturbées indépendamment les unes des autres\nUne même cellule est toujours perturbée de la même manière\nLes zéros originaux ne sont pas perturbés (mais un effectif faible peut devenir un zéro)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-1",
    "href": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "La méthode des clés aléatoires (CKM)",
    "text": "La méthode des clés aléatoires (CKM)\n\nLa distribution de probabilité du bruit injecté est tel que :\n\nUne déviation maximale D et une variance V sont fixés en amont\nLe bruit injecté est sans biais\nLa loi de probabilité de la déviation injectée est définie à partir d’une matrice de transition"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-4",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-darrondi-et-apparentées-un-exemple-4",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes d’arrondi et apparentées: Un exemple",
    "text": "Méthodes d’arrondi et apparentées: Un exemple\n\nCKM avec \\(D = [0;5]\\) et \\(V = 3\\)\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n4\n15\n0\n8\n28\n\n\n2-7\nNon\n1\n3\n2\n15\n20\n\n\n2-7\nTotal\n10\n16\n4\n21\n46"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-les-usages",
    "href": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-les-usages",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "La méthode des clés aléatoires (CKM): Les usages",
    "text": "La méthode des clés aléatoires (CKM): Les usages\n\nLa méthode est utilisée par plusieurs INS:\n\nDepuis 2006, ABS met à disposition un outil de requêtage en ligne pour obtenir des données de son recensement quinquennal. Les données sont protégées avec la CKM. (https://tablebuilder.abs.gov.au)\nLa CKM est une des méthodes préconisées par Eurostat pour protéger les données du Census européen 2021.\nDans ce cadre, Destatis utilise la CKM pour diffuser des données sur des grilles de 500m.\n2024: diffusion de données sur les Quartiers de la Politique de la Ville (QPV)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 1 : Construction de la matrice de transition\nPrenons D = 3 et V = 1.5. Avec le package ptable de R on peut calculer une matrice de transition :"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-1",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 2 : Création d’une clé individuelle aléatoire\nSupposons que la base \\(\\mathcal{B}\\) soit composé des 6 individus suivant et qu’à chacun on associe une clé :\n\n\n\n\nid\nVille\nEcole\nKEY\n\n\n\n\n1\nRennes\nEnsai\n0.9177275\n\n\n2\nParis\nMines\n0.1850062\n\n\n3\nRennes\nEnsai\n0.6266963\n\n\n4\nLyon\nCentrale\n0.1117820\n\n\n5\nMarseille\nCentrale\n0.6496634\n\n\n6\nLille\nCentrale\n0.2813433"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-2",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-2",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 3 : Construction de la clé d’une cellule\nNous souhaitons diffuser le nombre d’individus selon leur école.\nOn a :\n\n\n\n\nEcole\ni\nindividus\nSkey\nCK\n\n\n\n\nEnsai\n2\n{1,3}\n1.544424\n0.544425\n\n\nMines\n1\n{2}\n0.1805062\n0.1805062\n\n\nCentrale\n3\n{4,5,6}\n1.0422789\n0.42789\n\n\nTotal\n6\n{1,2,3,4,5,6}\n2.772219\n0.772219"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-3",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-3",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 4 : Déterminer la perturbation à injecter\n\n\n\ni\nj\np\nv\np_int_lb\np_int_ub\n\n\n\n\n0\n0\n1.00000000\n0\n0.00000000\n1.00000000\n\n\n1\n0\n0.37967089\n-1\n0.00000000\n0.37967089\n\n\n1\n1\n0.37967089\n0\n0.37967089\n0.75934178\n\n\n1\n2\n0.13660124\n1\n0.75934178\n0.89594302\n\n\n1\n3\n0.06910130\n2\n0.89594302\n0.96504432\n\n\n1\n4\n0.03495568\n3\n0.96504432\n1.00000000\n\n\n2\n0\n0.11466600\n-2\n0.00000000\n0.11466600\n\n\n2\n1\n0.24491770\n-1\n0.11466600\n0.35958370\n\n\n2\n2\n0.30449462\n0\n0.35958370\n0.66407832\n\n\n2\n3\n0.22034995\n1\n0.66407832\n0.88442827\n\n\n2\n4\n0.09281544\n2\n0.88442827\n0.97724371\n\n\n2\n5\n0.02275629\n3\n0.97724371\n1.00000000\n\n\n3\n0\n0.01792237\n-3\n0.00000000\n0.01792237\n\n\n3\n1\n0.08898737\n-2\n0.01792237\n0.10690974\n\n\n3\n2\n0.23274919\n-1\n0.10690974\n0.33965893\n\n\n3\n3\n0.32068214\n0\n0.33965893\n0.66034107\n\n\n3\n4\n0.23274919\n1\n0.66034107\n0.89309026\n\n\n3\n5\n0.08898737\n2\n0.89309026\n0.98207763\n\n\n3\n6\n0.01792237\n3\n0.98207763\n1.00000000"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-4",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-pour-illustrer-la-ckm-4",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 5 : Conclusion\n\n\n\n\nEcole\nValeur originale i\nValeur pertubée j\n\n\n\n\n\n\nEnsai\n2\n2\n\n\n\n\nMines\n1\n0\n\n\n\n\nCentrale\n3\n3\n\n\n\n\nTotal\n6\n7"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#la-méthode-des-clés-aléatoires-ckm-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "La méthode des clés aléatoires (CKM): Avantages / inconvénients",
    "text": "La méthode des clés aléatoires (CKM): Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nFacile d’implémentation\nPerte d’additivité\n\n\nAssure la cohérence des tableaux\nPerception potentielle d’une non-protection de la part des utilisateurs\n\n\nRéduit drastiquement le risque de différenciation géographique\n\n\n\nCompatible avec le requêtage / la diffusion sur mesure\n\n\n\nUtilité statistique des données très forte par rapport à des arrondis ou des suppressions"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-non-perturbatrices-1",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-non-perturbatrices-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes non-perturbatrices",
    "text": "Méthodes non-perturbatrices\n\nRecodage des variables: Un exemple\n\nExemple d’un fichier individuel 1-anonyme, l’âge et le genre étant considérés comme quasi-identifiants\n\n\nId\nAge\nGenre\nMaladie(s)\n\n\n\n\n1\n51\nM\nDiabète\n\n\n2\n46\nM\nHypertension artérielle\n\n\n3\n53\nF\nCancer\n\n\n4\n50\nF\nGrippe\n\n\n5\n54\nM\nDiabète\n\n\n6\n51\nM\nDiabète"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple-1",
    "href": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Recodage des variables: Un exemple",
    "text": "Recodage des variables: Un exemple\n\n\nExemple d’un fichier individuel 1-anonyme, l’âge et le genre étant considérés comme quasi-identifiants\n\n\nId\nAge\nGenre\nMaladie(s)\n\n\n\n\n1\n51\nM\nDiabète\n\n\n2\n46\nM\nHypertension artérielle\n\n\n3\n53\nF\nCancer\n\n\n4\n50\nF\nGrippe\n\n\n5\n54\nM\nDiabète\n\n\n6\n51\nM\nDiabète"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple-2",
    "href": "theorie/supports/tour-des-methodes.html#recodage-des-variables-un-exemple-2",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Recodage des variables: Un exemple",
    "text": "Recodage des variables: Un exemple\n\n\nRecodage de la variable âge permettant d’obtenir un fichier 2-anonyme, l’âge et le genre étant considérés comme quasi-identifiants\n\n\nId\nAge\nGenre\nMaladie(s)\n\n\n\n\n1\n[50;55[\nM\nDiabète\n\n\n2\n[50;55[\nM\nHypertension artérielle\n\n\n3\n[50;55[\nF\nCancer\n\n\n4\n[50;55[\nF\nGrippe\n\n\n5\n[50;55[\nM\nDiabète\n\n\n6\n[50;55[\nM\nDiabète"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#suppression-locale",
    "href": "theorie/supports/tour-des-methodes.html#suppression-locale",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Suppression locale",
    "text": "Suppression locale\n\n\nLa suppression locale consiste à supprimer certaines valeur pour réduire le risque de ré-identification;\nTout en minimisant la perte d’information ;\nDe l’information sera supprimée pour atteindre un seuil de risque préalablement défini ;\nMéthode généralement associée au k-anonymat ;\nImplémenté dans le package R sdcMicro et dans le logiciel \\(\\mu\\)-Argus."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#techniques-de-sous-échantillonnage",
    "href": "theorie/supports/tour-des-methodes.html#techniques-de-sous-échantillonnage",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Techniques de sous-échantillonnage",
    "text": "Techniques de sous-échantillonnage\n\n\nDiffusion d’un échantillon d’observations par rapport aux données originales\nMéthode peu adaptée si les variables quasi-identifiantes sont continues ou avec des modalités rares\nExemple : Statistics Catalonia a diffusé en 1995 un sous-échantillon du recensement exhaustif de la population effectué en 1991\nVariante : sous-échnatillonnage déterministe, seuls les enregistrements ne présentant pas de risque de ré-identification sont conservés"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#méthodes-perturbatrices-1",
    "href": "theorie/supports/tour-des-methodes.html#méthodes-perturbatrices-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Méthodes perturbatrices",
    "text": "Méthodes perturbatrices\n\nLa microagrégation\n\nMéthode perturbatrice, plus adaptée aux variables continues, mais peut-être adaptée aux variables catégorielles ordonnées\nIdée principale :\n\nCréer des petits groupes homogènes en prenant en compte les valeurs des variables sélectionnées\nRemplacer les valeurs de tous les individus appartenant au groupe par une unique valeur (peut être la valeur moyenne de valeurs observées dans le groupe)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#microagrégation-un-exemple",
    "href": "theorie/supports/tour-des-methodes.html#microagrégation-un-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Microagrégation: Un exemple",
    "text": "Microagrégation: Un exemple\n\n\n\n\nRégion\nAge\nHeures travaillées\nPoids\n\n\n\n\n\npar semaine\nde sondage\n\n\n\n92\n36\n17\n1000\n\n\n\n75\n41\n35\n2000\n\n\n\n75\n52\n0\n1100\n\n\n\n94\n45\n35\n2500\n\n\n\n75\n41\n0\n1900\n\n\n\n92\n26\n46\n1500\n\n\n\n92\n31\n38\n800\n\n\n\n94\n48\n30\n1200\n\n\n\n\n\nIl y a des croisements uniques pour la clef Age \\(\\times\\) Région"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#microagrégation-un-exemple-1",
    "href": "theorie/supports/tour-des-methodes.html#microagrégation-un-exemple-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Microagrégation: Un exemple",
    "text": "Microagrégation: Un exemple\n\n\n\n\nRégion\nAge\nHeures travaillées\nPoids\n\n\n\n\npar semaine\nde sondage\n\n\n92\n36 31\n17\n1000\n\n\n75\n41 45\n35\n2000\n\n\n75\n52 45\n0\n1100\n\n\n94\n45 47\n35\n2500\n\n\n75\n41 45\n0\n1900\n\n\n92\n26 31\n46\n1500\n\n\n92\n31 31\n38\n800\n\n\n94\n48 47\n30\n1200\n\n\n\n\n\\(\\mu_{red} = 45\\), \\(\\mu_{yellow} = 31\\), \\(\\mu_{green} = 47\\)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#microagrégation-paramètres",
    "href": "theorie/supports/tour-des-methodes.html#microagrégation-paramètres",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Microagrégation: Paramètres",
    "text": "Microagrégation: Paramètres\n\nUn grand nombre de sorties possibles pour cette méthode selon :\n\nla définition d’homogénéité choisie\nl’algorithme utilisé pour construire les groupes\nla détermination de la valeur de remplacement\n\nLes paramètres à définir :\n\nTaille \\(g\\) de chaque groupe (plus la taille du groupe est grande, plus grande sera la perte d’information, et plus celle-ci est grande, plus le niveau de protection est élevé ..)\nQuelles variables sont utilisées pour calculer la distance ?\nQuelles statistiques choisir une fois que les groupes ont été formés ? (moyenne, médiane ?)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#microagrégation-variance-intra-groupe",
    "href": "theorie/supports/tour-des-methodes.html#microagrégation-variance-intra-groupe",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Microagrégation: variance intra-groupe",
    "text": "Microagrégation: variance intra-groupe\n\nL’algorithme cherche à minimiser la somme des carrés intra-groupe \\[SSE = \\sum_{i=1}^g\\sum_{j \\in i} (x_{ij}-\\bar x_{i})^T(x_{ij}-\\bar x_{i})\\]"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#microagrégation-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#microagrégation-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Microagrégation: Avantages / inconvénients",
    "text": "Microagrégation: Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nAdapté au \\(k\\)-anonymat\nTemps de calcul important\n\n\nConstruction de classes pertinentes"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#injection-de-bruit",
    "href": "theorie/supports/tour-des-methodes.html#injection-de-bruit",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Injection de bruit",
    "text": "Injection de bruit\n\n\nMéthode adaptée pour traiter les variables continues\nEn général, on injecte un bruit additif sans biais et à variance fixe"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#perturbation-par-un-bruit-additif",
    "href": "theorie/supports/tour-des-methodes.html#perturbation-par-un-bruit-additif",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Perturbation par un bruit additif",
    "text": "Perturbation par un bruit additif\n\n\nAdaptée pour les variables continues\nPas d’hypothèses faites sur les valeurs possiblement prises par les variables à perturber\nLe bruit ajouté est généralement continu et d’espérance nulle"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#trois-types-de-perturbation-par-un-bruit-additif",
    "href": "theorie/supports/tour-des-methodes.html#trois-types-de-perturbation-par-un-bruit-additif",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Trois types de perturbation par un bruit additif",
    "text": "Trois types de perturbation par un bruit additif\n\n\nBruits indépendants\n\nLes moyennes et covariances sont préservées\nLes variances et les coefficients de corrélation ne sont pas conservés\n\nBruits corrélés\n\nConservation des coefficients de corrélation et de l’espérance\nPréférable à l’ajout des bruits indépendants car on peut obtenir des estimations non biaisées pour plusieurs statistiques importantes"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#trois-types-de-perturbation-par-un-bruit-additif-1",
    "href": "theorie/supports/tour-des-methodes.html#trois-types-de-perturbation-par-un-bruit-additif-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Trois types de perturbation par un bruit additif",
    "text": "Trois types de perturbation par un bruit additif\n\nCes deux méthodes sont rarement utilisées en pratique car apporte une protection relativement faible contre la divulgation d’identité (valeurs extrêmes).\n\nAddition de bruit et transformation linéaire\n\nMatrice de variance-covariance des variables perturbées est un estimateur sans biais de la matrice de variance-covariance des variables originelles"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#perturbation-par-un-bruit-additif-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#perturbation-par-un-bruit-additif-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Perturbation par un bruit additif: Avantages / inconvénients",
    "text": "Perturbation par un bruit additif: Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nTraitement de variables sensibles continues\nPas adapté aux traitements des outliers de grandes valeurs"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs",
    "href": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Targeted Record Swapping (TRS)",
    "text": "Targeted Record Swapping (TRS)\n\n\nRaffinement de méthodes de swapping\nConsiste à échanger la localisation de certains individus jugés à risque avec d’autres individus d’une autre entité géographique\nRéalisé de telle sorte que les individus échangés se ressemblent suffisamment pour limiter l’effet perturbatif de l’échange\nCiblage des individus préalablement détectés comme à risque de ré-identification (voire risque de divulgation d’attributs sensibles)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-une-méthode-très-utilisée",
    "href": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-une-méthode-très-utilisée",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Targeted Record Swapping (TRS): Une méthode très utilisée",
    "text": "Targeted Record Swapping (TRS): Une méthode très utilisée\n\n\nInsee: Données européennes du recensement 2021\nEurostat préconise cette méthode (couplée à la CKM) pour la diffusion du Census européen\nUS Census Bureau: Recensement US 2010\nONS (UK): Recensement depuis 2010"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-un-exemple",
    "href": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-un-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Targeted Record Swapping (TRS): Un exemple",
    "text": "Targeted Record Swapping (TRS): Un exemple"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#targeted-record-swapping-trs-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Targeted Record Swapping (TRS): Avantages / inconvénients",
    "text": "Targeted Record Swapping (TRS): Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nTrès efficace pour traiter différents types de risque.\nNécessite de fixer un grand nombre de paramètres (mesure de risque, variables similarité, taux de swapping).\n\n\nMéthode souple, adaptation à des cas très différents (structures ménages-individus par ex.).\nBruit injecté dans les données n’est pas vraiment contrôlable\n\n\nPréserve les agrégats du niveau géographique au sein duquel le swapping a été opéré.\nGénère localement du biais dans les données."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram",
    "href": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post-Randomisation Method (PRAM)",
    "text": "Post-Randomisation Method (PRAM)\n\n\nPermet de traiter les variables sensibles en bruitant les données de variables catégorielles.\nConsiste à modifier aléatoirement l’appartenance des individus à une classe donnée.\nMéthode particulièrement intéressante pour traiter les divulgations d’attributs sensibles : un attaquant ne peut avoir aucune certitude sur l’attribut d’une observation."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomization-method-pramun-exemple",
    "href": "theorie/supports/tour-des-methodes.html#post-randomization-method-pramun-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post Randomization Method (PRAM)Un exemple",
    "text": "Post Randomization Method (PRAM)Un exemple\n\n\n\n\nRegion\nAge\nSituation\n\n\n\n\nProfessionnelle\n\n\n92\n14\nInactif\n\n\n75\n41\nChômeur\n\n\n75\n52\nActif\n\n\n94\n45\nActif\n\n\n75\n41\nChômeur\n\n\n92\n26\nActif\n\n\n92\n31\nActif\n\n\n94\n14\nInactif\n\n\n\n\nInactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomization-method-pram-un-exemple",
    "href": "theorie/supports/tour-des-methodes.html#post-randomization-method-pram-un-exemple",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post Randomization Method (PRAM): Un exemple",
    "text": "Post Randomization Method (PRAM): Un exemple\n\n\n\n\nRegion\nAge\nSituation\nSituation\n\n\n\n\nProfessionnelle\nProfessionnelle (PRAM)\n\n\n92\n14\nInactif\nChômeur\n\n\n75\n41\nChômeur\nActif\n\n\n75\n52\nActif\nActif\n\n\n94\n45\nActif\nActif\n\n\n75\n41\nChômeur\nInactif\n\n\n92\n26\nActif\nActif\n\n\n92\n31\nActif\nChômeur\n\n\n94\n48\nInactif\nInactif\n\n\n\n\nInactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomization-method-pram-un-exemple-1",
    "href": "theorie/supports/tour-des-methodes.html#post-randomization-method-pram-un-exemple-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post Randomization Method (PRAM): Un exemple",
    "text": "Post Randomization Method (PRAM): Un exemple\n\n\n\n\nRegion\nAge\nSituation\nSituation\n\n\n\n\nProfessionnelle\nProfessionnelle (PRAM)\n\n\n92\n14\nInactif\nChômeur\n\n\n75\n41\nChômeur\nActif\n\n\n75\n52\nActif\nActif\n\n\n94\n45\nActif\nActif\n\n\n75\n41\nChômeur\nInactif\n\n\n92\n26\nActif\nActif\n\n\n92\n31\nActif\nChômeur\n\n\n94\n48\nInactif\nInactif\n\n\n\n\nAttention aux incohérences !"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pram-la-matrice-de-transition",
    "href": "theorie/supports/tour-des-methodes.html#pram-la-matrice-de-transition",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "PRAM : la matrice de transition",
    "text": "PRAM : la matrice de transition\n\nOn a besoin de définir une matrice de transition pour pouvoir définir les probabilités de transition.\n\nSoit \\(\\xi\\) la variable catégorielle initiale \\(K\\) categories \\(1 \\dots K\\)\n\\(\\longrightarrow\\) dans l’exemple \\(\\xi\\) = Situation professionnelle, K = 3\nSoit \\(X\\) la même variable catégorielle dans le jeu de données perturbé\n\\(\\longrightarrow\\) dans l’exemple \\(X\\) = Situation professionnelle (PRAM)\n\nOn peut définir la matrice de transition \\(P\\), \\(P =(p_{kl})_{1 \\leq k,l \\leq K}\\), où \\(p_{kl} = P(X =l|\\xi = k)\\)\n\n\n\n\nInactif\nActif\nChômeur\n\n\n\n\nInactif\n0,8\n0,05\n0,15\n\n\nActif\n0\n0,8\n0,2\n\n\nChômeur\n0,1\n0,1\n0,8"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pram-comment-choisir-la-matrice-de-transition",
    "href": "theorie/supports/tour-des-methodes.html#pram-comment-choisir-la-matrice-de-transition",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "PRAM : Comment choisir la matrice de transition ?",
    "text": "PRAM : Comment choisir la matrice de transition ?\n\n\nPRAM change aléatoirement les comptages de la population :\n\\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nSelon P et les comptages originaux, les marges peuvent être beaucoup perturbées !\nDes coefficients diagonaux élevés peuvent être insuffisants"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pram-exemple-numérique",
    "href": "theorie/supports/tour-des-methodes.html#pram-exemple-numérique",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "PRAM : exemple numérique",
    "text": "PRAM : exemple numérique\n\n\nMarges originales\n\n\n\n\n2-4\nInactif\nActif\nChômeur\n\n\n\n\nFréquence (million)\n16.8\n49\n4.2\n\n\nPourcentage\n24 %\n70 %\n6 %\n\n\n\n\nMatrice de transition \\(P\\) :\n\n\n\n\nInactif\nActif\nChômeur\n\n\n\n\nInactif\n0,8\n0,05\n0,15\n\n\nActif\n0\n0,8\n0,2\n\n\nChômeur\n0,1\n0,1\n0,8\n\n\n\nOn peut maintenant calculer les marges perturbées !"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pram-exemple-numérique-1",
    "href": "theorie/supports/tour-des-methodes.html#pram-exemple-numérique-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "PRAM : exemple numérique",
    "text": "PRAM : exemple numérique\n\n\nMarges originales\n\n\n\n\n2-4\nInactif\nActif\nChômeur\n\n\n\n\nFréquence (million)\n17\n49\n4\n\n\nPourcentage\n24 %\n70 %\n6 %\n\n\n\n\nNouvelles marges\n\n\n\n\n2-4\nInactif\nActif\nChômeur\n\n\n\n\nFréquence (million)\n14\n41\n16\n\n\nPourcentage\n20 %\n58 %\n22 %"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pram-invariant",
    "href": "theorie/supports/tour-des-methodes.html#pram-invariant",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "PRAM Invariant",
    "text": "PRAM Invariant\n\n\nPossibilité de choisir la matrice \\(P\\) de telle sorte que la perturbation soit sans biais \\(\\longrightarrow\\) PRAM invariant\nComme : \\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nIl faut, pour cela, choisir \\(P\\) telle que les fréquences marginales originales soient un vecteur propre de \\(P\\) associé à la valeur propre \\(1\\)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-1",
    "href": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post-Randomisation Method (PRAM)",
    "text": "Post-Randomisation Method (PRAM)\n\nComment mesurer le niveau de protection du fichier obtenu ?\n\nLe niveau de protection est mesuré à partir des paramètres de la méthode (matrice de transition)\nIdée: faire en sorte que la rareté de certaines modalités soient rendues suffisamment incertaines à inférer \\(\\longrightarrow\\) utiliser les posterior odds ratio\n\\[POST\\_ODDS(k) = \\frac{P(\\xi = k|X=k)}{P(\\xi \\neq k|X=k)} = \\frac{p_{kk}P(\\xi = k)}{\\sum_{l \\neq k}p_{lk}P(\\xi=l)}\\]\n\\(p_{kk}\\) sont connus et dépendent du plan de sondage, mais \\(P(\\xi = k)\\) peut être difficile à estimer.\nInterprétation:\n\nSi \\(POST\\_ODDS(k) &gt; 1\\), alors la valeur originale est plus probablement \\(k\\) plutôt qu’une autre valeur, si on observe la modalité \\(k\\) dans le jeu perturbé.\nSi \\(POST\\_ODDS(k) &lt; 1\\), alors la valeur originale est plus probablement une autre valeur que \\(k\\), si on observe la modalité \\(k\\) dans le jeu perturbé."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-2",
    "href": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-2",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post-Randomisation Method (PRAM)",
    "text": "Post-Randomisation Method (PRAM)\n\nComment mesurer le niveau de protection du fichier obtenu? Interprétation :\n\nSi \\(POST\\_ODDS(k) &gt; 1\\), alors la valeur originale est plus probablement \\(k\\) plutôt qu’une autre valeur, si on observe la modalité \\(k\\) dans le jeu perturbé.\nSi \\(POST\\_ODDS(k) &lt; 1\\), alors la valeur originale est plus probablement une autre valeur que \\(k\\), si on observe la modalité \\(k\\) dans le jeu perturbé."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-avantages-inconvénients",
    "href": "theorie/supports/tour-des-methodes.html#post-randomisation-method-pram-avantages-inconvénients",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Post-Randomisation Method (PRAM): Avantages / inconvénients",
    "text": "Post-Randomisation Method (PRAM): Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nPermet de fournir le niveau de protection associé au bruit injecté en calculant les probabilités de transition inverses.\nCréation d’éventuelles combinaisons impossibles (ex : enfant à la retraite).\n\n\nConserve l’additivité des tableaux générés à partir des micro-données bruitées.\nDifficile de définir une matrice de protection qui prend en compte les liens avec toutes les variables.\n\n\n.\n."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#les-données-synthétiques",
    "href": "theorie/supports/tour-des-methodes.html#les-données-synthétiques",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Les données synthétiques",
    "text": "Les données synthétiques\n\n\nIdée: Générer tout ou partie des données individuelles.\nDeux types de synthèse:\n\nSynthèse complète: toutes les variables et tous les individus sont générés.\nSynthèse partielle: Seulement certaines variables sont générées (principalement les variables sensibles)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#les-données-synthétiques-les-méthodes-de-génération-i",
    "href": "theorie/supports/tour-des-methodes.html#les-données-synthétiques-les-méthodes-de-génération-i",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Les données synthétiques: Les méthodes de génération (I)",
    "text": "Les données synthétiques: Les méthodes de génération (I)\n\nLes principales méthodes de génération sont:\n\nModélisation séquentielle conditionnelle (Fully Conditional Specification, FCS): Chaque variable est modélisée l’une après l’autre, conditionnellement aux variables déjà modélisées.\n\nMéthode très populaire et efficace\nPour générer la \\(p^e\\) variable, on cherche à modéliser sa distribution conditionnelle : \\[f_{X_p | X_1 , X_2 , \\dots , X_{p-1}}\\]\nModélisation paramétrique (régression linéaire ou logistique) ou non paramétrique (en particulier méthodes à base d’arbres: CART, Boosting, random forest, XGBoost)."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#les-données-synthétiques-les-méthodes-de-génération-ii",
    "href": "theorie/supports/tour-des-methodes.html#les-données-synthétiques-les-méthodes-de-génération-ii",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Les données synthétiques: Les méthodes de génération (II)",
    "text": "Les données synthétiques: Les méthodes de génération (II)\n\nLes principales méthodes de génération sont (suite):\n\nMéthodes de Deep Learning:\n\nTabular Variational Auto Encoder (TVAE): L’auto encodage consiste à combiner une phase d’encodage qui réduit la dimension des données pour apprendre les caractéristiques les plus importantes et une phase de décodage pour reconstituer des données dans leur dimension originale.\nConditional Tabular Generative Adversarial Network (CTGAN): Les GAN sont très populaires dans la génération d’images. Les CTGAN sont une adaptation des GAN pour générer des données tabulaires (microdonnées ou données agrégées). Un générateur construit des données synthétiques et les soumet à un discriminateur dont l’objectif est de distinguer ces données générées des données originales."
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#un-exemple-avec-le-labour-force-survey-lfs",
    "href": "theorie/supports/tour-des-methodes.html#un-exemple-avec-le-labour-force-survey-lfs",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Un exemple avec le Labour Force Survey (LFS)",
    "text": "Un exemple avec le Labour Force Survey (LFS)\n\n\nContexte Eurostat\nCombinaison de méthodes\nPublication d’un fichier de microdonnées à usage public à partir de l’enquête emploi en continu\nApproche traditionnelle : recodage global et suppression locale"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#étapes-de-lapproche-traditionnelle",
    "href": "theorie/supports/tour-des-methodes.html#étapes-de-lapproche-traditionnelle",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Étapes de l’approche traditionnelle",
    "text": "Étapes de l’approche traditionnelle\n\n\nSupprimer certaines variables (comme la région ou des variables utiles pour reconstruire les ménages)\nRepérer les variables identifiantes (ex : sexe, âge, nationalité, profession, niveau d’éducation)\nRecodage global (ex : âge en 6 catégories, nationalité en 3, niveau d’éducation en 3)\nDéterminer le niveau de risque avec le k-anonymat (ici k = 5)\nChoisir les variables clés parmi les variables identifiantes (degré d’urbanisation, sexe, âge, nationalité, profession, années d’expériences et plus haut niveau d’éducation)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#étapes-de-lapproche-traditionnelle-1",
    "href": "theorie/supports/tour-des-methodes.html#étapes-de-lapproche-traditionnelle-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Étapes de l’approche traditionnelle",
    "text": "Étapes de l’approche traditionnelle\n\n\nSuppression locale et PRAM pour des individus à risque :\n\nSuppression locale sur les variables clés\nPRAM sur les autres variables (probabilité de rester identique mise à 0.8)\n\nSuppression locale à partir de toutes les combinaisons m-dimensionnelles sur toutes les variables identifiantes (m = 4 et k = 10)"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin",
    "href": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Pour aller plus loin",
    "text": "Pour aller plus loin\n\n\nHundepool and alt., Handbook on Statistical Disclosure Control, Wiley, 2012\nUne version libre et gratuite est disponible ici: https://ec.europa.eu/eurostat/cros/system/files/SDC_Handbook.pdf (2010)\nGouweleeuw, J. M., Kooiman, P., & De Wolf, P. P. (1998). Post randomisation for statistical disclosure control: Theory and implementation. Journal of official Statistics, 14(4), 463.\nDrechsler, J. and Reiter, J.P. (2009). Disclosure Risk and Data Utility for Partially Synthetic Data: An empirical Study Using the German IAB Establishment Survey., Journal of Official Statistics, 25, 589–603"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin-1",
    "href": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin-1",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Pour aller plus loin",
    "text": "Pour aller plus loin\n\n\nLe package R sdcMicro : https://github.com/sdcTools/sdcMicro\nGuide théorique : https://sdctheory.readthedocs.io/en/latest/\nGuide pratique: https://sdcpractice.readthedocs.io/en/latest/"
  },
  {
    "objectID": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin-2",
    "href": "theorie/supports/tour-des-methodes.html#pour-aller-plus-loin-2",
    "title": "Les méthodes de protection statistique des données confidentielles",
    "section": "Pour aller plus loin",
    "text": "Pour aller plus loin\n\nDeux exemples d’application sur microdonnées réalisés par Eurostat:\nhttps://ec.europa.eu/eurostat/cros/system/files/d4.1presentationhelsinki.pdf"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#méthodes-classiques-de-protection-des-données-disponibles",
    "href": "theorie/supports/methodes-perturbatrices.html#méthodes-classiques-de-protection-des-données-disponibles",
    "title": "Les méthodes perturbatrices",
    "section": "Méthodes classiques de protection des données disponibles",
    "text": "Méthodes classiques de protection des données disponibles\n\n\n\nUn tour d’horizon des méthodes de protection des données\n\n\nType de données\nMéthodes non-perturbatrices\nMéthodes perturbatrices\n\n\n\n\nMicrodonnées\nTechniques de sous-échantillonnage\nPerturbation par un bruit (additif, multiplicatif)\n\n\n\nRecodage des variables\nMicroagrégation\n\n\n\nSuppression locale\nTechniques de swapping\n\n\nDonnées tabulées\nSuppression de cellules\nBruitage des sorties\n\n\n\nRecodage des variables\nMéthodes d’arrondi\n\n\n\n\nAjouter du bruit (CKM)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#méthodes-perturbatrices",
    "href": "theorie/supports/methodes-perturbatrices.html#méthodes-perturbatrices",
    "title": "Les méthodes perturbatrices",
    "section": "Méthodes perturbatrices",
    "text": "Méthodes perturbatrices\n\n\nÉtendue de la perturbation:\n\nSeulement sur les plus petits comptages (données les plus à risque de divulgation)\nSur toutes les cellules: toutes les cellules du tableau sont perturbées (arrondi, Méthode des clés aléatoires (CKM))\n\nProblématiques des méthodes perturbatrices:\n\nComment assurer la cohérence des tableaux entre eux ?\nComment préserver l’additivité au sein des tableaux ?"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\nTableau de comptage original:\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n6\n14\n1\n7\n28\n\n\n2-7\nNon\n3\n2\n1\n13\n19\n\n\n2-7\nTotal\n9\n16\n2\n20\n47\n\n\n\nSecret primaire = les comptages inférieurs strictement à 5."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#small-count-rounding",
    "href": "theorie/supports/methodes-perturbatrices.html#small-count-rounding",
    "title": "Les méthodes perturbatrices",
    "section": "Small Count Rounding",
    "text": "Small Count Rounding\n\nbase d’arrondi = 5.\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n6\n14\n0\n7\n27\n\n\n2-7\nNon\n5\n0\n0\n13\n18\n\n\n2-7\nTotal\n11\n14\n0\n20\n45\n\n\n\nMoyenne des écarts absolus: \\(1.067\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#arrondi-contrôlé",
    "href": "theorie/supports/methodes-perturbatrices.html#arrondi-contrôlé",
    "title": "Les méthodes perturbatrices",
    "section": "Arrondi contrôlé",
    "text": "Arrondi contrôlé\n\navec b = 5\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n5\n15\n0\n5\n25\n\n\n2-7\nNon\n5\n0\n0\n15\n20\n\n\n2-7\nTotal\n10\n15\n0\n20\n45\n\n\n\nMoyenne des écarts absolus: \\(1.467\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#controlled-tabular-adjustment",
    "href": "theorie/supports/methodes-perturbatrices.html#controlled-tabular-adjustment",
    "title": "Les méthodes perturbatrices",
    "section": "Controlled Tabular Adjustment",
    "text": "Controlled Tabular Adjustment\n\navec un intervalle de protection = \\([0;5]\\)\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n5\n16\n0\n7\n28\n\n\n2-7\nNon\n6\n0\n0\n13\n19\n\n\n2-7\nTotal\n11\n16\n0\n20\n47\n\n\n\nMoyenne des écarts absolus: \\(0.933\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nConservation de l’additivité\nCR et CTA: Recherche de la solution optimale sur grands tableaux très couteuse en temps (optim. lin.)\n\n\nSCR: Algorithme très efficace sur R\nCR: Une perte d’information parfois excessive\n\n\nPerception de la protection (en particulier des petites valeurs)\nDifficile à utiliser dans le cadre d’une diffusion complexe"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#la-distribution-de-probabilités",
    "href": "theorie/supports/methodes-perturbatrices.html#la-distribution-de-probabilités",
    "title": "Les méthodes perturbatrices",
    "section": "La distribution de probabilités",
    "text": "La distribution de probabilités\n\nPropriétés :\n\nUne déviation maximale D et une variance V sont fixés en amont\nLe bruit injecté est sans biais\nLa loi de probabilité de la déviation injectée est définie à partir d’une matrice de transition"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-1",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-1",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\nCKM avec \\(D = [0;5]\\) et \\(V = 3\\)\n\n\n\n\nRégion\n\n\n\n\n\n\n\n\n\n3-7\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nOui\n4\n15\n0\n8\n28\n\n\n2-7\nNon\n1\n3\n2\n15\n20\n\n\n2-7\nTotal\n10\n16\n4\n21\n46"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#les-usages",
    "href": "theorie/supports/methodes-perturbatrices.html#les-usages",
    "title": "Les méthodes perturbatrices",
    "section": "Les usages",
    "text": "Les usages\n\nLa méthode est utilisée par plusieurs INS:\n\nDepuis 2006, ABS met à disposition un outil de requêtage en ligne pour obtenir des données de son recensement quinquennal. Les données sont protégées avec la CKM. (https://tablebuilder.abs.gov.au)\nLa CKM est une des méthodes préconisées par Eurostat pour protéger les données du Census européen 2021.\nDans ce cadre, Destatis utilise la CKM pour diffuser des données sur des grilles de 500m.\n2024/2025: l’Insee diffuse les données sur les Quartiers de la Politique de la Ville (QPV)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 1 : Construction de la matrice de transition\nPrenons D = 3 et V = 1.5. Avec le package ptable de R on peut calculer une matrice de transition :"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-1",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-1",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 2 : Création d’une clé individuelle aléatoire\nSupposons que la base \\(\\mathcal{B}\\) soit composé des 6 individus suivant et qu’à chacun on associe une clé :\n\n\n\n\nid\nVille\nEcole\nKEY\n\n\n\n\n1\nRennes\nEnsai\n0.9177275\n\n\n2\nParis\nMines\n0.1850062\n\n\n3\nRennes\nEnsai\n0.6266963\n\n\n4\nLyon\nCentrale\n0.1117820\n\n\n5\nMarseille\nCentrale\n0.6496634\n\n\n6\nLille\nCentrale\n0.2813433"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-2",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-2",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 3 : Construction de la clé d’une cellule\nNous souhaitons diffuser le nombre d’individus selon leur école.\nOn a :\n\n\n\n\nEcole\ni\nindividus\nSkey\nCK\n\n\n\n\nEnsai\n2\n{1,3}\n1.544424\n0.544425\n\n\nMines\n1\n{2}\n0.1805062\n0.1805062\n\n\nCentrale\n3\n{4,5,6}\n1.0422789\n0.42789\n\n\nTotal\n6\n{1,2,3,4,5,6}\n2.772219\n0.772219"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-3",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-3",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 4 : Déterminer la perturbation à injecter\n\n\n\ni\nj\np\nv\np_int_lb\np_int_ub\n\n\n\n\n0\n0\n1.00000000\n0\n0.00000000\n1.00000000\n\n\n1\n0\n0.37967089\n-1\n0.00000000\n0.37967089\n\n\n1\n1\n0.37967089\n0\n0.37967089\n0.75934178\n\n\n1\n2\n0.13660124\n1\n0.75934178\n0.89594302\n\n\n1\n3\n0.06910130\n2\n0.89594302\n0.96504432\n\n\n1\n4\n0.03495568\n3\n0.96504432\n1.00000000\n\n\n2\n0\n0.11466600\n-2\n0.00000000\n0.11466600\n\n\n2\n1\n0.24491770\n-1\n0.11466600\n0.35958370\n\n\n2\n2\n0.30449462\n0\n0.35958370\n0.66407832\n\n\n2\n3\n0.22034995\n1\n0.66407832\n0.88442827\n\n\n2\n4\n0.09281544\n2\n0.88442827\n0.97724371\n\n\n2\n5\n0.02275629\n3\n0.97724371\n1.00000000\n\n\n3\n0\n0.01792237\n-3\n0.00000000\n0.01792237\n\n\n3\n1\n0.08898737\n-2\n0.01792237\n0.10690974\n\n\n3\n2\n0.23274919\n-1\n0.10690974\n0.33965893\n\n\n3\n3\n0.32068214\n0\n0.33965893\n0.66034107\n\n\n3\n4\n0.23274919\n1\n0.66034107\n0.89309026\n\n\n3\n5\n0.08898737\n2\n0.89309026\n0.98207763\n\n\n3\n6\n0.01792237\n3\n0.98207763\n1.00000000"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-4",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-pour-illustrer-la-ckm-4",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple pour illustrer la CKM",
    "text": "Un exemple pour illustrer la CKM\n\nEtape 5 : Conclusion\n\n\n\n\nEcole\nValeur originale i\nValeur pertubée j\n\n\n\n\n\n\nEnsai\n2\n2\n\n\n\n\nMines\n1\n0\n\n\n\n\nCentrale\n3\n3\n\n\n\n\nTotal\n6\n7"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-1",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-1",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nFacile d’implémentation\nPerte d’additivité\n\n\nAssure la cohérence des tableaux\nPerception potentielle d’une non-protection de la part des utilisateurs\n\n\nRéduit drastiquement le risque de différenciation géographique\n\n\n\nCompatible avec le requêtage / la diffusion sur mesure\n\n\n\nUtilité statistique des données très forte par rapport à des arrondis ou des suppressions"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-2",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-2",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\n\n\n\nRégion\nAge\nHeures travaillées\nPoids\n\n\n\n\n\npar semaine\nde sondage\n\n\n\n92\n36\n17\n1000\n\n\n\n75\n41\n35\n2000\n\n\n\n75\n52\n0\n1100\n\n\n\n94\n45\n35\n2500\n\n\n\n75\n41\n0\n1900\n\n\n\n92\n26\n46\n1500\n\n\n\n92\n31\n38\n800\n\n\n\n94\n48\n30\n1200\n\n\n\n\n\nIl y a des croisements uniques pour la clef Age \\(\\times\\) Région"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-3",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-3",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\n\n\n\nRégion\nAge\nHeures travaillées\nPoids\n\n\n\n\npar semaine\nde sondage\n\n\n92\n36 31\n17\n1000\n\n\n75\n41 45\n35\n2000\n\n\n75\n52 45\n0\n1100\n\n\n94\n45 47\n35\n2500\n\n\n75\n41 45\n0\n1900\n\n\n92\n26 31\n46\n1500\n\n\n92\n31 31\n38\n800\n\n\n94\n48 47\n30\n1200\n\n\n\n\n\\(\\mu_{red} = 45\\), \\(\\mu_{yellow} = 31\\), \\(\\mu_{green} = 47\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#paramètres",
    "href": "theorie/supports/methodes-perturbatrices.html#paramètres",
    "title": "Les méthodes perturbatrices",
    "section": "Paramètres",
    "text": "Paramètres\n\nUn grand nombre de sorties possibles pour cette méthode selon :\n\nla définition d’homogénéité choisie\nl’algorithme utilisé pour construire les groupes\nla détermination de la valeur de remplacement\n\nLes paramètres à définir :\n\nTaille \\(g\\) de chaque groupe (plus la taille du groupe est grande, plus grande sera la perte d’information, et plus celle-ci est grande, plus le niveau de protection est élevé ..)\nQuelles variables sont utilisées pour calculer la distance ?\nQuelles statistiques choisir une fois que les groupes ont été formés ? (moyenne, médiane ?)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#minimiser-la-variance-intra-groupe",
    "href": "theorie/supports/methodes-perturbatrices.html#minimiser-la-variance-intra-groupe",
    "title": "Les méthodes perturbatrices",
    "section": "Minimiser la variance intra-groupe",
    "text": "Minimiser la variance intra-groupe\n\nL’algorithme cherche à minimiser la somme des carrés intra-groupe \\[SSE = \\sum_{i=1}^g\\sum_{j \\in i} (x_{ij}-\\bar x_{i})^T(x_{ij}-\\bar x_{i})\\]"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-2",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-2",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nAdapté au \\(k\\)-anonymat\nTemps de calcul important\n\n\nConstruction de classes pertinentes"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#perturbation-par-un-bruit-additif",
    "href": "theorie/supports/methodes-perturbatrices.html#perturbation-par-un-bruit-additif",
    "title": "Les méthodes perturbatrices",
    "section": "Perturbation par un bruit additif",
    "text": "Perturbation par un bruit additif\n\n\nAdaptée pour les variables continues\nPas d’hypothèses faites sur les valeurs possiblement prises par les variables à perturber\nLe bruit ajouté est généralement continu et d’espérance nulle"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#trois-types-de-perturbation-par-un-bruit-additif",
    "href": "theorie/supports/methodes-perturbatrices.html#trois-types-de-perturbation-par-un-bruit-additif",
    "title": "Les méthodes perturbatrices",
    "section": "Trois types de perturbation par un bruit additif",
    "text": "Trois types de perturbation par un bruit additif\n\n\nBruits indépendants\n\nLes moyennes et covariances sont préservées\nLes variances et les coefficients de corrélation ne sont pas conservés\n\nBruits corrélés\n\nConservation des coefficients de corrélation et de l’espérance\nPréférable à l’ajout des bruits indépendants car on peut obtenir des estimations non biaisées pour plusieurs statistiques importantes"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#trois-types-de-perturbation-par-un-bruit-additif-1",
    "href": "theorie/supports/methodes-perturbatrices.html#trois-types-de-perturbation-par-un-bruit-additif-1",
    "title": "Les méthodes perturbatrices",
    "section": "Trois types de perturbation par un bruit additif",
    "text": "Trois types de perturbation par un bruit additif\n\nCes deux méthodes sont rarement utilisées en pratique car apporte une protection relativement faible contre la divulgation d’identité (valeurs extrêmes).\n\nAddition de bruit et transformation linéaire\n\nMatrice de variance-covariance des variables perturbées est un estimateur sans biais de la matrice de variance-covariance des variables originelles"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-3",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-3",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nTraitement de variables sensibles continues\nPas adapté aux traitements des outliers de grandes valeurs"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#une-méthode-très-utilisée",
    "href": "theorie/supports/methodes-perturbatrices.html#une-méthode-très-utilisée",
    "title": "Les méthodes perturbatrices",
    "section": "Une méthode très utilisée",
    "text": "Une méthode très utilisée\n\n\nInsee: Données européennes du recensement 2021\nEurostat préconise cette méthode (couplée à la CKM) pour la diffusion du Census européen\nUS Census Bureau: Recensement US 2010\nONS (UK): Recensement depuis 2010"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-4",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-4",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-4",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-4",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\n\nAvantages\nInconvénients\n\n\n\n\nTrès efficace pour traiter différents types de risque.\nNécessite de fixer un grand nombre de paramètres (mesure de risque, variables similarité, taux de swapping).\n\n\nMéthode souple, adaptation à des cas très différents (structures ménages-individus par ex.).\nBruit injecté dans les données n’est pas vraiment contrôlable\n\n\nPréserve les agrégats du niveau géographique au sein duquel le swapping a été opéré.\nGénère localement du biais dans les données."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#méthode-pram",
    "href": "theorie/supports/methodes-perturbatrices.html#méthode-pram",
    "title": "Les méthodes perturbatrices",
    "section": "Méthode PRAM",
    "text": "Méthode PRAM\n\nPermet de traiter les variables sensibles catégorielles en bruitant les données.\nConsiste à modifier aléatoirement l’appartenance des individus à une classe donnée.\nMéthode particulièrement intéressante pour traiter les divulgations d’attributs sensibles : un attaquant ne peut avoir aucune certitude sur l’attribut d’une observation."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-5",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-5",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\n\n\nRegion\nAge\nSituation pro.\n\n\n92\n14\nInactif\n\n\n75\n41\nChômeur\n\n\n75\n52\nActif\n\n\n94\n45\nActif\n\n\n75\n41\nChômeur\n\n\n92\n26\nActif\n\n\n92\n31\nActif\n\n\n94\n14\nInactif\n\n\n\n\nInactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-6",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-6",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\n\n\nRegion\nAge\nSituation pro.\nSituation pro. (PRAM)\n\n\n92\n14\nInactif\nChômeur\n\n\n75\n41\nChômeur\nActif\n\n\n75\n52\nActif\nActif\n\n\n94\n45\nActif\nActif\n\n\n75\n41\nChômeur\nInactif\n\n\n92\n26\nActif\nActif\n\n\n92\n31\nActif\nChômeur\n\n\n94\n48\nInactif\nInactif\n\n\n\n\nInactif : 2 ind., Chômeur = 2 ind., Actif = 4 ind."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-7",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-7",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple",
    "text": "Un exemple\n\n\n\nRegion\nAge\nSituation pro.\nSituation pro. (PRAM)\n\n\n92\n14\nInactif\nChômeur\n\n\n75\n41\nChômeur\nActif\n\n\n75\n52\nActif\nActif\n\n\n94\n45\nActif\nActif\n\n\n75\n41\nChômeur\nInactif\n\n\n92\n26\nActif\nActif\n\n\n92\n31\nActif\nChômeur\n\n\n94\n48\nInactif\nInactif\n\n\n\n\nAttention aux incohérences !"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#la-matrice-de-transition",
    "href": "theorie/supports/methodes-perturbatrices.html#la-matrice-de-transition",
    "title": "Les méthodes perturbatrices",
    "section": "La matrice de transition",
    "text": "La matrice de transition\nOn a besoin de définir une matrice de transition pour pouvoir définir les probabilités de transition.\n\nSoit \\(\\xi\\) la variable catégorielle initiale avec \\(K\\) catégories \\(1 \\dots K\\)\n\\(\\rightarrow\\) dans l’exemple, \\(\\xi\\) = Situation professionnelle, K = 3\nSoit \\(X\\) la même variable catégorielle dans le jeu de données perturbé\n\\(\\rightarrow\\) dans l’exemple, \\(X\\) = Situation professionnelle (PRAM)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#la-matrice-de-transition-1",
    "href": "theorie/supports/methodes-perturbatrices.html#la-matrice-de-transition-1",
    "title": "Les méthodes perturbatrices",
    "section": "La matrice de transition",
    "text": "La matrice de transition\nOn peut définir la matrice de transition \\(P\\),\n\\[P =(p_{kl})_{1 \\leq k,l \\leq K}\\]\noù \\(p_{kl} = P(X =l|\\xi = k)\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#comment-choisir-la-matrice-de-transition",
    "href": "theorie/supports/methodes-perturbatrices.html#comment-choisir-la-matrice-de-transition",
    "title": "Les méthodes perturbatrices",
    "section": "Comment choisir la matrice de transition ?",
    "text": "Comment choisir la matrice de transition ?\n\nPRAM change aléatoirement les comptages de la population :\n\\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nSelon P et les comptages originaux, les marges peuvent être beaucoup perturbées !\nDes coefficients diagonaux élevés peuvent être insuffisants"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-numérique",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-numérique",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple numérique",
    "text": "Un exemple numérique\n\nMarges originales\n\n\n\nIna\nctif Act\nif Chô\nmeur\n\n\n\n\nFréquence (million)\n16.8\n49\n4.2\n\n\nPourcentage\n24 %\n70 %\n6 %\n\n\n\nMatrice de transition \\(P\\) :"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#un-exemple-numérique-1",
    "href": "theorie/supports/methodes-perturbatrices.html#un-exemple-numérique-1",
    "title": "Les méthodes perturbatrices",
    "section": "Un exemple numérique",
    "text": "Un exemple numérique\nOn peut maintenant calculer les marges perturbées !\n\nMarges originales\n\n\n\nStatut\nInactif\nActif\nChômeur\n\n\n\n\nFréquence (million)\n17\n49\n4\n\n\nPourcentage\n24%\n70%\n6%\n\n\n\nNouvelles marges\n\n\n\n\n\n\n\n\n\nStatut\nInactif\nActif\nChômeur\n\n\n\n\nFréquence\n14\n41\n16\n\n\nPourcentage\n20%\n58%\n22 %"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#pram-invariant",
    "href": "theorie/supports/methodes-perturbatrices.html#pram-invariant",
    "title": "Les méthodes perturbatrices",
    "section": "PRAM Invariant",
    "text": "PRAM Invariant\n\nPossibilité de choisir la matrice \\(P\\) de telle sorte que la perturbation soit sans biais \\(\\rightarrow\\) PRAM invariant\nEtant donné que : \\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nIl faut, pour cela, choisir \\(P\\) telle que les fréquences marginales originales soient un vecteur propre de \\(P\\) associé à la valeur propre \\(1\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#mesurer-le-niveau-de-protection",
    "href": "theorie/supports/methodes-perturbatrices.html#mesurer-le-niveau-de-protection",
    "title": "Les méthodes perturbatrices",
    "section": "Mesurer le niveau de protection",
    "text": "Mesurer le niveau de protection\n\nPRAM introduit délibérement une erreur de mesure \\(\\rightarrow\\) on ne peut pas utilisé le k-anonymat ou la l-diversité\nNiveau de protection mesuré à partir des paramètres de la méthode (matrice de transition).\nIdée: faire en sorte que la rareté de certaines modalités soit rendue suffisamment incertaine à inférer \\(\\rightarrow\\) posterior odds ratio"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#mesurer-le-niveau-de-protection-1",
    "href": "theorie/supports/methodes-perturbatrices.html#mesurer-le-niveau-de-protection-1",
    "title": "Les méthodes perturbatrices",
    "section": "Mesurer le niveau de protection",
    "text": "Mesurer le niveau de protection\n\\[POST\\_ODDS(k) = \\frac{P(\\xi = k|X=k)}{P(\\xi \\neq k|X=k)} = \\frac{p_{kk}P(\\xi = k)}{\\sum_{l \\neq k}p_{lk}P(\\xi=l)}\\]\n\n\\(p_{kk}\\) sont connus et dépendent du plan de sondage\n\\(P(\\xi = k)\\) peut être difficile à estimer\non peut estimer grossièrement \\(P(\\xi = k)\\) par \\(\\frac{T_\\xi(k)}{n}\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#interprétation",
    "href": "theorie/supports/methodes-perturbatrices.html#interprétation",
    "title": "Les méthodes perturbatrices",
    "section": "Interprétation",
    "text": "Interprétation\nOn observe k dans le jeu pertubé :\n\nSi \\(POST\\_ODDS(k) &gt; 1\\), alors la valeur originale est plus probablement \\(k\\) plutôt qu’une autre valeur.\nSi \\(POST\\_ODDS(k) &lt; 1\\), alors la valeur originale est plus probablement une autre valeur que \\(k\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-5",
    "href": "theorie/supports/methodes-perturbatrices.html#avantages-inconvénients-5",
    "title": "Les méthodes perturbatrices",
    "section": "Avantages / inconvénients",
    "text": "Avantages / inconvénients\n\n\n\nAvantages\nInconvénients\n\n\n\n\nPermet de fournir le niveau de protection associé au bruit injecté en calculant les probabilités de transition inverses.\nCréation d’éventuelles combinaisons impossibles (ex : enfant à la retraite).\n\n\nConserve l’additivité des tableaux générés à partir des micro-données bruitées.\nDifficile de définir une matrice de protection qui prend en compte les liens avec toutes les variables.\n\n\n.\n."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#les-méthodes-de-génération-i",
    "href": "theorie/supports/methodes-perturbatrices.html#les-méthodes-de-génération-i",
    "title": "Les méthodes perturbatrices",
    "section": "Les méthodes de génération (I)",
    "text": "Les méthodes de génération (I)\n\nLes principales méthodes de génération sont:\n\nModélisation séquentielle conditionnelle (Fully Conditional Specification, FCS): Chaque variable est modélisée l’une après l’autre, conditionnellement aux variables déjà modélisées.\n\nMéthode très populaire et efficace\nPour générer la \\(p^e\\) variable, on cherche à modéliser sa distribution conditionnelle : \\[f_{X_p | X_1 , X_2 , \\dots , X_{p-1}}\\]\nModélisation paramétrique (régression linéaire ou logistique) ou non paramétrique (en particulier méthodes à base d’arbres: CART, Boosting, random forest, XGBoost)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#les-méthodes-de-génération-ii",
    "href": "theorie/supports/methodes-perturbatrices.html#les-méthodes-de-génération-ii",
    "title": "Les méthodes perturbatrices",
    "section": "Les méthodes de génération (II)",
    "text": "Les méthodes de génération (II)\n\nLes principales méthodes de génération sont (suite):\n\nMéthodes de Deep Learning:\n\nTabular Variational Auto Encoder (TVAE): L’auto encodage consiste à combiner une phase d’encodage qui réduit la dimension des données pour apprendre les caractéristiques les plus importantes et une phase de décodage pour reconstituer des données dans leur dimension originale.\nConditional Tabular Generative Adversarial Network (CTGAN): Les GAN sont très populaires dans la génération d’images. Les CTGAN sont une adaptation des GAN pour générer des données tabulaires (microdonnées ou données agrégées). Un générateur construit des données synthétiques et les soumet à un discriminateur dont l’objectif est de distinguer ces données générées des données originales."
  },
  {
    "objectID": "pratique/fiches/suppressif.html",
    "href": "pratique/fiches/suppressif.html",
    "title": "Pratiquer les méthodes suppressives",
    "section": "",
    "text": "Protéger des tableaux avec une méthode suppressive\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAnalyser une demande\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAnalyse automatique des métadonnées pour la protection des données tabulées\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/fiches/description-data.html",
    "href": "pratique/fiches/description-data.html",
    "title": "Présentation des données",
    "section": "",
    "text": "Pour installer les packages nécessaires, vous trouverez les instructions à suivre dans la fiche Ressources / Installer les packages et les outils sur R."
  },
  {
    "objectID": "pratique/fiches/description-data.html#présentation",
    "href": "pratique/fiches/description-data.html#présentation",
    "title": "Présentation des données",
    "section": "Présentation",
    "text": "Présentation\nLes données utilisées dans la plupart des fiches pratiques sont sont un jeu fictif inspiré du fichier public de l’échantillon annuel de l’Enquête Emploi en Continu mis à disposition par l’Insee sur son site internet.\nLe code de construction des données est consultable sur le dépôt github du projet. Ce code intervient de plusieurs façons sur les données publiques:\n\nCréation de variables pour les besoins des exercices, par exemple:\n\nlocalisation fictive des individus sur trois niveaux géographiques emboîtés (variables ARR, DEP et REG),\nâge détaillé des individus, construit à partir de la catégorie d’âge connue,\nrecodage des valeurs manquantes (le plus souvent NA devenant 99),\nsélection d’un sous-échantillon du fichier public,\nrecalage des poids pour permettre l’estimation des taux de chômage etc.\n\n\n\nIl est donc important de prendre en considération que le jeu de données utilisé est fictif et les résultats obtenus ne doivent pas être pris autrement que comme les résultats de données quasi-fictives.\n\nDans ce petit document, sont présentées les variables utilisées dans les différents exercices afin de faciliter la prise en main et la compréhension des choix réalisés."
  },
  {
    "objectID": "pratique/fiches/description-data.html#import",
    "href": "pratique/fiches/description-data.html#import",
    "title": "Présentation des données",
    "section": "Import",
    "text": "Import\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()"
  },
  {
    "objectID": "pratique/fiches/description-data.html#description",
    "href": "pratique/fiches/description-data.html#description",
    "title": "Présentation des données",
    "section": "Description",
    "text": "Description\n\n\nCode\nstr(lfs_2023)\n\n\nClasses 'data.table' and 'data.frame':  34053 obs. of  16 variables:\n $ REG      : Factor w/ 4 levels \"11\",\"28\",\"76\",..: 2 2 2 2 1 1 1 1 1 3 ...\n $ DEP      : Factor w/ 28 levels \"09\",\"11\",\"12\",..: 19 19 19 19 25 25 26 21 21 9 ...\n $ ARR      : Factor w/ 83 levels \"091\",\"092\",\"093\",..: 53 53 53 53 73 73 75 62 62 27 ...\n $ SEXE     : Factor w/ 2 levels \"1\",\"2\": 1 2 2 1 1 2 2 1 2 1 ...\n $ AGE      : int  53 43 17 17 42 54 57 20 17 28 ...\n $ AGE6     : Factor w/ 5 levels \"15\",\"25\",\"50\",..: 3 2 1 1 2 3 3 1 1 2 ...\n $ ACTEU    : Factor w/ 3 levels \"1\",\"2\",\"3\": 1 1 3 3 1 1 1 3 3 1 ...\n $ DIP7     : Factor w/ 9 levels \"1\",\"2\",\"3\",\"4\",..: 4 7 5 4 7 7 7 7 7 5 ...\n $ PCS1Q    : Factor w/ 10 levels \"0\",\"10\",\"20\",..: 4 7 10 10 9 9 7 10 10 8 ...\n $ ANCCHOM  : Factor w/ 10 levels \"1\",\"2\",\"3\",\"4\",..: 10 10 10 10 10 10 10 10 10 10 ...\n $ HHID     : int  3558 3558 3558 3558 5973 5973 6779 4906 4906 1135 ...\n $ HH_TAILLE: Factor w/ 22 levels \"1\",\"2\",\"3\",\"4\",..: 4 4 4 4 2 2 1 2 2 3 ...\n $ HH_AGE   : Factor w/ 90 levels \"15\",\"16\",\"17\",..: 39 39 39 39 40 40 43 6 6 14 ...\n $ HH_DIP   : Factor w/ 9 levels \"1\",\"2\",\"3\",\"4\",..: 4 4 4 4 7 7 7 7 7 5 ...\n $ HH_PCS   : Factor w/ 10 levels \"0\",\"10\",\"20\",..: 4 4 4 4 9 9 7 10 10 8 ...\n $ IS_CHOM  : int  0 0 0 0 0 0 0 0 0 0 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nLes variables du jeu de données sont les suivantes:\n\nREG : Région de résidence (variable fictive)\nDEP : Département de résidence (variable fictive)\nARR : Arrondissement de résidence (variable fictive)\nSEXE : Sexe de l’individu\nAGE : Âge détaillé de l’individu (variable reconstruite)\nAGE6 : Âge en 6 classes (“15”: signifie les ‘les 15-24 ans’, “90”: désigne les ‘90 ans ou plus’)\nACTEU : Statut d’activité en 3 catgéories: 1=Actifs en emploi; 2=Actifs au chômage; 3=Inactifs (retraités, étudiants, etc.)\nDIP7 : Niveau du diplôme le plus élevé en 9 catégories (1: niveau le plus bas, 9: niveau le plus élevé, 99: données manquantes (uniquement pour les 90 ans ou plus)).\nPCS1Q : Profession ou Catégorie Sociale\nANCCHOM : Ancienneté au chômage\nHHID : Identifiant du ménage\nHH_TAILLE: Nombre d’individus du ménage\nHH_AGE : Âge de la personne la plus âgée du ménage\nHH_DIP : Diplôme de la personne la plus âgée du ménage\nHH_PCS : Profession ou catégorie sociale de la personne la plus âgée du ménage\nIS_CHOM. : La personne est au chômage (TRUE/FALSE)"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html",
    "href": "pratique/fiches/proteger-micro-swapping.html",
    "title": "Appliquer le Target Record Swapping",
    "section": "",
    "text": "La fiche pratique présente comment appliquer le Target Record Swapping à un jeu de données individuelles afin d’assurer une protection optimale des informations confidentielles des individus (ou ménages ou entreprises) qui le composent.\nLa première partie s’attache à présenter les différentes étapes à suivre pour que cette application soit pertinente au regard des données utilisées.\nLa seconde partie montre comment utiliser la fonction sdcMicro::recordSwap() pour appliquer la méthode à un jeu de données dont on aura repérer les individus à risque préalablement.\n\n\n\n\n\n\nPour s’exercer\n\n\n\nPour reproduire les résultats et réaliser les exercices, il est possible de travailler directement sur le datalab de l’Insee. Si vous disposez d’un compte, vous pouvez Ouvrir un service RStudio ou Ouvrir un service vscode R-Python, à votre convenance. Ces services installeront automatiquement les packages nécessaires pour réaliser les exercices de l’ensemble des fiches pratiques."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#en-quoi-consiste-la-méthode",
    "href": "pratique/fiches/proteger-micro-swapping.html#en-quoi-consiste-la-méthode",
    "title": "Appliquer le Target Record Swapping",
    "section": "En quoi consiste la méthode ?",
    "text": "En quoi consiste la méthode ?\nAprès avoir détecté un individu dont le risque de ré-identification est jugé trop élevé, un autre individu est tiré aléatoirement parmi les individus au risque de ré-identification les plus faibles et certaines des caractéristiques de ces deux individus sont échangées (swapped).\nAprès l’échange, la ré-identification de l’individu est rendue beaucoup plus difficile et ne permet plus d’obtenir d’informations pertinentes à son sujet.\n\n\n\n\n\n\nUn exemple très simple.\n\n\n\nSoit un territoire donné découpé en six zones où résident un certain nombre d’individus. Avec les informations disponibles à leur sujet, on considère qu’un seul individu a un risque de ré-identification trop élevé (croix rouge sur la Figure 1).\n\n\n\n\n\n\nAvant swapping\n\n\n\n\nFigure 1\n\n\n\nOn tire alors au hasard un autre individu présent sur le territoire pour échanger certaines de leurs caractéristiques. Ce tirage pourrait être purement aléatoire. Mais, cela conduirait à détruire certaines statistiques bien utiles. Par exemple, en trouvant un individu d’une autre zone partageant certaines caractéristiques (par exemple le sexe, l’âge et la catégorie sociale, Figure 2), on s’assure de conserver les marges sur ces variables au niveau géographique le plus fin.\nEn revanche, les autres caractéristiques sont bruitées de façon non contrôlée.\n\n\n\n\n\n\nAprès swapping\n\n\n\n\nFigure 2\n\n\n\nAinsi, l’éventuelle ré-identification de l’individu à risque ne pourrait conduire l’attaquant qu’à obtenir des informations très probablement fausses à son sujet."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-variables-de-similarité",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-variables-de-similarité",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les variables de similarité",
    "text": "Les variables de similarité\nLa méthode est très souple puisqu’elle permet de s’adapter aux données dont on dispose et aux besoins en termes de diffusion. Les variables de similarité entre individus échangés peuvent ainsi être choisies parmi les variables dont on veut conserver le mieux possible l’information marginale. En effet, en échangeant des individus parfaitement similaires sur certaines caractéristiques (les variables de similarité), l’échange ne produira aucune perte d’information sur celles-ci.\n\n\n\n\n\n\nSimilarité et ré-identification\n\n\n\nSi l’objectif est de réduire le risque de ré-identification, sélectionner toutes les variables quasi-identifiantes comme variables de similarité ne perturberait aucunement la capacité de l’attaquant à ré-identifier les individus. Ce choix produirait en revanche du bruit sur les autres variables: donc en ré-identifiant, l’attaquant ne serait pas en mesure d’obtenir des informations supplémentaires fiables.\n\n\n\n\n\n\n\n\nUtiliser la hiérarchie des emboîtements géographiques\n\n\n\nLes données contiennent généralement des informations géographiques. Or, la géographie, en particulier à des niveaux fins, est très identifiante. On choisira en général d’échanger des individus résidant à des endroits différents, en tenant compte du niveau géographique auquel un individu est facilement ré-identifiable.\nPar exemple, si un individu est facilement ré-identifiable dans sa commune mais pas dans son département de résidence, alors on privilégiera l’échange avec un autre individu du département en dehors de la commune de notre individu à risque. Si le niveau départemental posait lui aussi problème on remonterait au niveau régional, etc.\nAinsi, en général, la méthode consistera à échanger la localisation d’individus ou de ménages (Longhurst, Tromans, and Young, n.d.).\n\n\n\nLonghurst, Jane, Nicola Tromans, and Caroline Young. n.d. “Statistical Disclosure Control for the 2011 UK Census.” Office for National Statistics (ONS - UK). https://www.ons.gov.uk/file?uri=/census/2011census/howourcensusworks/howwetookthe2011census/howweplannedfordatadelivery/protectingconfidentialitywithstatisticaldisclosurecontrol/statistical-disclosure-control-for-the-2011-uk-census_tcm77-189747.pdf.\n\nComment définir des individus similaires ?\nLa similarité entre deux individus peut être envisagée de deux manières:\n\nen cherchant la correspondance exacte sur les variables de similarité, quitte à relâcher des contraintes quand il n’y pas de donneur: un donneur est tiré aléatoirement parmi la liste des prétendants.\nen calculant une distance entre le receveur et l’ensemble des donneurs: un donneur est tiré parmi les individus avec lesquels la distance est la plus faible.\n\nLa première option nécessite d’utiliser uniquement des variables catégorielles, quitte à créer des classes pour les variables continues qu’on souhaiterait inclure dans la liste.\nDans la pratique, cette première option est la moins gourmande en ressources de calcul, car elle ne nécessite pas de calculer une distance entre chaque receveur et chaque donneur potentiel. Elle est probablement la seule envisageable si le jeu de données contient plusieurs millions de lignes.\n\n\n\n\n\n\nUne astuce pour gérer la présence de poids de sondage\n\n\n\nSi nous disposons d’un échantillon, chaque individu dispose d’un poids de sondage. Avec le Target Record Swapping, on prend le risque d’échanger deux individus avec des poids très différents et de déséquilibrer des agrégats importants. Pour éviter ce genre de désagrément, il est possible d’ajouter le poids parmi les variables de similarité, sous la forme d’un arrondi à l’unité ou bien de tranches de valeurs. On pourra également exclure des donneurs potentiels, les individus ayant des poids très élevés comparés aux autres. Ceci permettra de limiter les déformations des distributions.\n\n\n\n\nIndividus ou ménages ?\nUne autre souplesse de la méthode est de pouvoir prendre en compte des structures hiérarchiques entre les individus. Par exemple, lorsque le fichier d’individus contient également des informations sur la composition des ménages.\nDans ce cas, l’échange d’individus risque de déstabiliser la composition des ménages concernés, en termes d’âge en particulier: on pourrait voir se créer des ménages où il n’y a aucun individu majeur par exemple.\nUne solution consisterait à échanger des ménages entiers plutôt que des individus. Mais cette solution n’est à retenir que si on dispose de suffisamment d’informations sur les ménages pour détecter des ménages similaires de bonne qualité. Si ce n’est pas le cas, il peut être préférable d’échanger des individus et de contrôler d’une autre manière, car un choix judicieux de variables de similarité peut limiter ces désagréments.\n\n\n\nLe taux de swapping\nLe taux d’échange ou taux de swapping est la part d’individus du jeu de données qui a pris part aux échanges, soit \\(s=\\frac{E+D}{N}\\), où \\(E\\) est le nombre d’individus à échanger, \\(D\\) le nombre de donneurs (\\(D=E\\)) et \\(N\\) le nombre d’individus dans la base.\nEn pratique, on fixe un taux de swapping \\(s\\) de telle sorte que l’algorithme procède à un minimum d’échanges. Si le nombre d’individus à risque ne permet pas d’atteindre ce seuil, des individus supplémentaires seront également échangés pour atteindre \\(s\\). Sinon, le taux de swapping étant atteint ou dépassé, aucun individu additionnel n’est ajouté."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-grandes-étapes-à-suivre-pour-appliquer-le-trs",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-grandes-étapes-à-suivre-pour-appliquer-le-trs",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les grandes étapes à suivre pour appliquer le TRS",
    "text": "Les grandes étapes à suivre pour appliquer le TRS\n\nDe quels risques cherche-t-on à se protéger ?\n\nSi c’est du risque de ré-identification, le TRS est une méthode adaptée\nSinon, il faut peut-être aller voir ailleurs.\n\nQuelles sont les variables quasi-identifiantes dans mes données ?\nMesurer le risque de ré-identification basé sur ces variables ?\nChoisir un seuil de risque de ré-identification maximal acceptable, au-delà duquel les individus devront être traités.\nQuelles sont les marges que la méthode devrait conserver intactes en priorité ?\nUn swapping des ménages est-il préférable à un swapping d’individus ?\nSélection des paramètres de la méthode:\n\nLes variables de similarités, en tenant compte des risques et des objectifs de diffusion.\nLe taux de swapping.\n\nProcéder au swapping\nMesurer la perte d’information\nReprendre les étapes 4. à 9. si la perte d’information s’avère trop grande ou la protection trop faible\n\nL’avantage de la méthode est sa grande capacité d’adaptation aux données dont on dispose. Même si cette fiche va présenter comment l’appliquer avec le package sdcMicro, il est en réalité tout à fait possible de développer son propre algorithme pour affiner la façon de tirer les individus ou les ménages à échanger.\nOn pourra se reporter à la fiche sur les mesures de risque pour en savoir plus sur les risques et la façon de les mesurer."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#importons-les-données",
    "href": "pratique/fiches/proteger-micro-swapping.html#importons-les-données",
    "title": "Appliquer le Target Record Swapping",
    "section": "Importons les données",
    "text": "Importons les données\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\nPour plus d’informations sur les données, on pourra se reporter à la fiche “Présentation des données”."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#mesurons-les-risques-du-fichier",
    "href": "pratique/fiches/proteger-micro-swapping.html#mesurons-les-risques-du-fichier",
    "title": "Appliquer le Target Record Swapping",
    "section": "Mesurons les risques du fichier",
    "text": "Mesurons les risques du fichier\n\nLes types de variables\nOn définit les variables selon les différentes catégories suivantes:\n\nles variables quasi-identifiantes (key_vars)\nles variables sensibles (sens_vars)\nles variables identifiant la composition des ménages (hhid_vars)\n\nPour cet exercice, nous ferons les choix suivants:\n\n\nCode\nkey_vars &lt;- c(\"AGE\",\"SEXE\",\"DEP\",\"DIP7\")\nsens_vars &lt;- c(\"ACTEU\",\"ANCCHOM\")\nhhid_vars &lt;- c(\"HHID\")"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#préparartion-pour-le-swapping",
    "href": "pratique/fiches/proteger-micro-swapping.html#préparartion-pour-le-swapping",
    "title": "Appliquer le Target Record Swapping",
    "section": "Préparartion pour le swapping",
    "text": "Préparartion pour le swapping\n\n\nCode\nlfs_2023_pr_swap &lt;- lfs_2023 %&gt;% \n  mutate(across(everything(), as.integer)) %&gt;% \n  mutate(\n    REG = floor(DEP / 10),\n    ID = 1:n()\n  ) %&gt;% \n  group_by(HHID) %&gt;% \n  mutate(TAILLE = n()) %&gt;% \n  ungroup() %&gt;% \n  data.table::as.data.table()\n\n\n\n\nCode\nrisk_variables &lt;- c(\"AGE6\",\"SEXE\",\"ACTEU\")\nhierarchy &lt;- c(\"REG\", \"DEP\")\nsimilar &lt;- c(\"DIP7\")\ncarry_along &lt;- NULL\nk_anonymity &lt;- 1\nswaprate &lt;- .05\n\n\nhid &lt;- \"ID\" # swapping d'individus\n\n\n\nSwapper les individus\n\n\nCode\nlfs_swapped &lt;- recordSwap(\n  data = lfs_2023_pr_swap,\n  hid = hid,\n  hierarchy = hierarchy,\n  similar = similar,\n  risk_variables = risk_variables,\n  carry_along = carry_along,\n  k_anonymity = k_anonymity,\n  swaprate = swaprate,\n  return_swapped_id = TRUE,\n  seed = 123456\n)\n\n\nRecordswapping was successful!\n\n\nCode\nlfs_swapped %&gt;% summarise(mean(ID != ID_swapped)) #5%\n\n\n  mean(ID != ID_swapped)\n1             0.05003964\n\n\nCode\nlfs_swapped %&gt;% group_by(REG) %&gt;%\n  summarise(mean(ID != ID_swapped)) #5%\n\n\n# A tibble: 3 × 2\n    REG `mean(ID != ID_swapped)`\n  &lt;int&gt;                    &lt;dbl&gt;\n1     0                   0.0641\n2     1                   0.0519\n3     2                   0.0430\n\n\n\nVérifier que les individus à risque ont bien été swappés\n\n\nIntégrité de la composition des ménages\n\n\n\nSwapper les ménages\n\n\nCode\nhid &lt;- \"HHID\" # swapping de ménages\nsimilar &lt;- \"TAILLE\"\n\nlfs_swapped_hh &lt;- recordSwap(\n  data = lfs_2023_pr_swap,\n  hid = hid,\n  hierarchy = hierarchy,\n  similar = similar,\n  risk_variables = risk_variables,\n  carry_along = carry_along,\n  k_anonymity = k_anonymity,\n  swaprate = swaprate,\n  return_swapped_id = TRUE,\n  seed = 123456\n)\n\n\nDonor household was not found in 1 case(s).\nSee TRS_logfile.txt for a detailed list\n\n\n\nTaux de swapping des ménages vs taux de swapping des individus\n\n\nCode\nlfs_swapped_hh %&gt;% summarise(mean(HHID != HHID_swapped)) #6.2 des ménages\n\n\n  mean(HHID != HHID_swapped)\n1                 0.06025901\n\n\nCode\nlfs_swapped_hh %&gt;% filter(HHID != HHID_swapped) %&gt;%\n  summarise(n()/nrow(lfs_swapped_hh)*100) #6.2% des individus (les ménages swappés sont de même taille)\n\n\n  n()/nrow(lfs_swapped_hh) * 100\n1                       6.025901\n\n\nCode\nlfs_swapped_hh %&gt;% filter(HHID != HHID_swapped) %&gt;%\n  summarise(mean(TAILLE))\n\n\n  mean(TAILLE)\n1     7.888889"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#mesurer-la-perte-dutilité",
    "href": "pratique/fiches/proteger-micro-swapping.html#mesurer-la-perte-dutilité",
    "title": "Appliquer le Target Record Swapping",
    "section": "Mesurer la perte d’utilité",
    "text": "Mesurer la perte d’utilité\nComparer différents taux de swapping.\n\nComparer les intervalles de confiance d’un modèle logistique\n\n\nCode\nsource(\"../R/fun_cio.R\")\n\n\nÉtudions la stabilité d’un modèle relativement simple, cherchant à expliquer le fait d’être au chômage par différentes variables à notre disposition: l’âge, le diplôme et le sexe.\nOn entraînera ce modèle uniquement sur la population active. On retire donc notamment la population étudiante et retraitée.\n\n\nCode\nm_original &lt;- glm(IS_CHOM ~ SEXE + AGE6 + DIP7, data = lfs_2023 |&gt; filter(ACTEU != 3))\nm_swapped &lt;- glm(IS_CHOM ~ SEXE + AGE6 + DIP7, data = lfs_2023 |&gt; filter(ACTEU != 3))\n\nmes_modeles &lt;- list(\n  \"original\" = m_original,\n  \"swapped\" = m_swapped\n)\n\nall_cios &lt;- get_all_confints(mes_modeles)\n\n\nJoining with `by = join_by(vars)`\n\n\n\n\nCode\ngraph_cios(all_cios, titre = \"Superposition des intervalles de confiance\\ndes Odds Ratio du modèle selon le jeu de données\") +\n  theme(axis.text.y =  element_text(size = 8))\n\n\nLoading required package: ggplot2"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#exercices",
    "href": "pratique/fiches/proteger-micro-swapping.html#exercices",
    "title": "Appliquer le Target Record Swapping",
    "section": "Exercices",
    "text": "Exercices\n\nChoisir le taux de swapping\n\n\nAppliquer le swapping au niveau ménages"
  },
  {
    "objectID": "pratique/fiches/perturbatif.html",
    "href": "pratique/fiches/perturbatif.html",
    "title": "Pratiquer les méthodes perturbatrices",
    "section": "",
    "text": "Protéger des tableaux avec la méthode des clés aléatoires\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAppliquer le Target Record Swapping\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAppliquer PRAM\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/fiches/analyse-demande.html",
    "href": "pratique/fiches/analyse-demande.html",
    "title": "Analyser une demande",
    "section": "",
    "text": "Exercice 1\nOn souhaite diffuser 4 tableaux :\n- T1 : population par âge (5 classes), par sexe et par département\n- T2 : population par sexe, par diplôme et par département\n- T3 : population par catégorie socioprofessionnelle, statut d’activité et par département\n- T4 : population par âge, par sexe et par statut d’activité\nQuel est le résultat de l’analyse ?\n\n\n\n\n\n\nRéponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le même champ.\nDe plus, ils partagent le même indicateur : « population ». Ils sont donc liés à minima par le total. Ainsi, il n’y a pas de sous-demande indépendante (i.e. il faudra traiter tous les tableaux dans un même appel à rtauargus::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Les variables entre elles n’ont pas de liens hiérarchiques (variable géographique uniquement départementale). Les tableaux ne peuvent pas être fusionnés.\nDans cet exemple, la liste des tableaux à protéger est identique à la liste des tableaux à diffuser.\n\n\n\n\n\nExercice 2\nOn souhaite diffuser 7 tableaux :\n- T1 : population par âge (5 classes), par sexe et par département\n- T2 : population par sexe, par diplôme et par département\n- T3 : population par catégorie socioprofessionnelle, statut d’activité et par département\n- T4 : population par âge, par sexe et par statut d’activité\n- T5 : population par âge (5 classes), par sexe et par région\n- T6 : population par sexe, par diplôme et par région\n- T7 : population par catégorie socioprofessionnelle, statut d’activité et par région\nQuel est le résultat de l’analyse ?\n\n\n\n\n\n\nRéponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le même champ.\nDe plus, ils partagent le même indicateur : « population ». Ils sont donc liés à minima par le total. Ainsi, il n’y a pas de sous-demande indépendante (i.e. il faudra traiter tous les tableaux dans un même appel à rtauargus ::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Deux variables ont un lien hiérarchique : région &gt; département. Les tableaux partageant les mêmes variables de croisement peuvent être fusionnées. Lors du traitement il faudra spécifier ce lien hiérarchique dans un fichier .hrc.\nLa liste des tableaux à protéger est donc la suivante :\n- T1 : population par âge (5 classes), par sexe et par GEO\n- T2 : population par sexe, par diplôme et par GEO\n- T3 : population par catégorie socioprofessionnelle, statut d’activité et par GEO\n- T4 : population par âge, par sexe et par statut d’activité Où GEO est une variable hiérarchique emboîtant régions et départements.\n\n\n\n\n\nExercice 3\nOn souhaite diffuser 4 tableaux :\n- T1 : population par âge (3 classes : &lt;25, 25-55 , +55) et par département\n- T2 : population par âge (5 classes : &lt;15, 15-25, 25-45, 45-65, +65), par sexe et par département\n- T3 : population par âge (3 classes : &lt;25, 25-55 , +55) et par région\n- T4 : population par âge (5 classes : &lt;15, 15-25, 25-45, 45-65, +65), par sexe et par région\nQuel est le résultat de l’analyse ?\n\n\n\n\n\n\nRéponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le même champ.\nDe plus, ils partagent le même indicateur : « population ». Ils sont donc liés à minima par le total. Ainsi, il n’y a pas de sous-demande indépendante (i.e. il faudra traiter tous les tableaux dans un même appel à rtauargus::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Deux variables ont un lien hiérarchique : région &gt; département. Les tableaux partageant les mêmes variables de croisement peuvent être fusionnées. Lors du traitement il faudra spécifier ce lien hiérarchique dans un fichier .hrc.\nEn formalisant, dans un premier temps on peut donc passer de cette liste de tableaux :\n- T1 : pop \\(\\otimes\\) {age_3 x dep}\n- T2 : pop \\(\\otimes\\) {age_5 x sexe x dep}\n- T3 : pop \\(\\otimes\\) {age_3 x reg}\n- T4 : pop \\(\\otimes\\) {age_5 x sexe x reg}\nA cette liste de tableaux :\n- T1 : pop \\(\\otimes\\) {age_3 x GEO}\n- T2 : pop \\(\\otimes\\) {age_5 x sexe x GEO}\nDe plus, on voit que la variable âge est ventilée différemment entre T1 et T2. On vérifie d’abord si les modalités des variables sont emboîtées (si c’est le cas on peut les regrouper dans une seule et même variable). Cependant, dans ce cas-ci les modalités ne sont pas emboîtées. Donc, on essaye de regrouper le maximum de modalités dans une seule variable hiérarchique dont les niveaux sont emboîtés. On obtient la hiérarchie AGE_hrc_princ présentée plus bas.\nEt avec le reste des modalités non incluses dans cette hiérarchie on en crée une deuxième AGE_hrc_spe.\nN.B. cette hiérarchie est « à plat » puisqu’il y a un seul niveau hiérarchique\nDe plus, les super-totaux ne sont pas précisés ici (comme dans les fichiers .hrc) mais pour la première hiérarchie le super-total est simplement le total de toutes les classes d’âge et pour la seconde hiérarchie le total est « 45-65 » (la classe d’âge présente dans la hiérarchie âge en 5 classes).\nDonc dans une deuxième étape on se retrouve avec ces tableaux :\n- T1 : pop \\(\\otimes\\) {AGE_hrc_princ x GEO}\n- T1bis : pop \\(\\otimes\\) {AGE_hrc_spe x GEO}\n- T2 : pop \\(\\otimes\\) {AGE_hrc_princ x sexe x GEO}\n- T2bis : pop \\(\\otimes\\) {AGE_hrc_spe x sexe x GEO}\nOù GEO est une variable hiérarchique emboîtant régions et départements.\nOù AGE_hrc_princ (hiérarchie principale) est une variable hiérarchique emboîtant l’ensemble des catégories d’âge sauf 45-65.\nOù AGE_hrc_spe (agrégat spécial) inclus les modalités 45-55 + 55-65 avec 45-65 en super-total.\nFinalement, on se rend compte que T1 est inclus dans T2 et T1bis est inclus dans T2bis. Donc, on se retrouve avec les deux tableaux suivants :\n- T1 : pop \\(\\otimes\\) {AGE_hrc_princ x sexe x GEO}\n- T2 : pop \\(\\otimes\\) {AGE_hrc_spe x sexe x GEO}\nC’est cette liste de tableaux qu’il faut protéger.\n\n\n\nHiérarchies proposées dans la correction :\n\n\n\n\n\ngraph TD\n    A[&lt;25] --&gt; A1[&lt;15]\n    A --&gt; A2[15-25]\n    B[25-55] --&gt; B1[25-45]\n    B --&gt; B2[45-55]\n    C[+55] --&gt; C1[55-65]\n    C --&gt; C2[+65]\n    D[Total] --&gt; A\n    D[Total] --&gt; B\n    D[Total] --&gt; C\n\n\n\n\n\n\n\nHiérarchie AGE_hrc_princ\n\n\n\n\n\n\ngraph TD\n    A[45-65] --&gt; A1[45-55]\n    A --&gt; A2[55-65]\n\n\n\n\n\n\n\nHiérarchie AGE_hrc_spe"
  },
  {
    "objectID": "pratique/index.html",
    "href": "pratique/index.html",
    "title": "En pratique",
    "section": "",
    "text": "Pratiquer les méthodes suppressives\n\n\nDécouvrir l’application des méthodes suppressives avec R.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPratiquer les méthodes perturbatrices\n\n\nDécouvrir l’application des méthodes perturbatrices avec R ou Python.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nArbitrer entre risque et utilité\n\n\nOutils à disposition pour réaliser l’arbitrage\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDes sujets pour aller plus loin\n\n\nDécouvrir en particulier la génération de données synthétiques et l’application de la confidentialité différentielle\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrésentation des données\n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Code\n\n\n\n\n\nCe site vous propose un ensemble de supports théoriques et pratiques pour vous former à la protection des données statistiques.\n\n\n\n\n\n\n\n\n\n\n\nUn peu de théorie\n\n\nComprendre les principaux enjeux de la protection des données et maîtriser les concepts et les méthodes.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEn pratique\n\n\nApprendre à manipuler les concepts, mesurer les risques et utiliser les méthodes.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRessources\n\n\nTrouver des ressources complémentaires (articles, documentation, outils) pour aller plus loin.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGlossaire\n\n\nDéfinition des principaux termes techniques rencontrés sur le site.\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "ressources/fiches/outils-install.html",
    "href": "ressources/fiches/outils-install.html",
    "title": "Installer les packages et les outils sur R",
    "section": "",
    "text": "# Construction de l'URL du dépôt\nREPOSITR=\"https://packagemanager.posit.co/cran/latest\"\n\n# Installation des packages R recommandés\n# install.packages('tidyverse', repos=REPOSITR, dependencies=TRUE)\n# install.packages('ggraph', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('sdcMicro', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('GaussSuppression', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('cellKey', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('synthpop', repos=REPOSITR, dependencies=TRUE)\n\n\n\nOn propose d’installer la version proposant une extension expérimentale:\n\n# Installation de la dernière version de rtauargus \n# (version avec extension expérimentale)\ninstall.packages('remotes', repos=REPOSITR)\nremotes::install_github(\n    'InseeFrLab/rtauargus',\n    dependencies = TRUE,\n    build_vignettes = FALSE,\n    upgrade = 'never',\n    ref = \"v-1.2.999-dev\"\n)\n\n\n\n\n\nsdcMicro\ncellKey\nrtauargus\nsynthpop"
  },
  {
    "objectID": "ressources/fiches/outils-install.html#sec-install-packages",
    "href": "ressources/fiches/outils-install.html#sec-install-packages",
    "title": "Installer les packages et les outils sur R",
    "section": "",
    "text": "# Construction de l'URL du dépôt\nREPOSITR=\"https://packagemanager.posit.co/cran/latest\"\n\n# Installation des packages R recommandés\n# install.packages('tidyverse', repos=REPOSITR, dependencies=TRUE)\n# install.packages('ggraph', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('sdcMicro', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('GaussSuppression', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('cellKey', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('synthpop', repos=REPOSITR, dependencies=TRUE)\n\n\n\nOn propose d’installer la version proposant une extension expérimentale:\n\n# Installation de la dernière version de rtauargus \n# (version avec extension expérimentale)\ninstall.packages('remotes', repos=REPOSITR)\nremotes::install_github(\n    'InseeFrLab/rtauargus',\n    dependencies = TRUE,\n    build_vignettes = FALSE,\n    upgrade = 'never',\n    ref = \"v-1.2.999-dev\"\n)\n\n\n\n\n\nsdcMicro\ncellKey\nrtauargus\nsynthpop"
  },
  {
    "objectID": "ressources/fiches/outils-install.html#les-logiciels",
    "href": "ressources/fiches/outils-install.html#les-logiciels",
    "title": "Installer les packages et les outils sur R",
    "section": "Les logiciels",
    "text": "Les logiciels\n\nTau-ARGUS (Windows / 32 bits)\n\nLa dernière version est disponible sur github à cette adresse:\nhttps://github.com/sdcTools/tauargus/releases/latest\nTéléchargez le fichier TauArgusXXXX.zip où XXXX correspond au numéro de la dernière version\nUne fois installé, il suffit de dézipper le fichier à l’endroit souhaité sur votre machine.\n\nPour lancer Tau-ARGUS, il suffit de double-cliquer sur le fichier TauArgus.exe à la racine du dossier dézippé.\nUne documentation - un peu ancienne - est téléchargeable ici\n\n\nMu-ARGUS (Windows / 64 bits)\nLa dernière version est disponible également disponible sur github à cette adresse: https://github.com/sdcTools/tauargus/releases/latest\nLa procédure d’installation est identique à celle de Tau-ARGUS.\nUne documentation - un peu ancienne - est téléchargeable à cette adresse:\nhttps://research.cbs.nl/casc/Software/MUmanual5.1.3.pdf"
  }
]