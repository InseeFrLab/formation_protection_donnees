[
  {
    "objectID": "theorie/supports/methodes-suppressives.html#methods-available",
    "href": "theorie/supports/methodes-suppressives.html#methods-available",
    "title": "Suppressive methods",
    "section": "Methods Available",
    "text": "Methods Available\n\nTwo types of methods depending on when they are applied:\n\nPre-tabulation methods are applied to individual data, i.e. before any tabulation\nPost-tabulation methods are applied to aggregated data, i.e. after tabulation"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#frequency-tables",
    "href": "theorie/supports/methodes-suppressives.html#frequency-tables",
    "title": "Suppressive methods",
    "section": "Frequency Tables",
    "text": "Frequency Tables\n\n\n\n\n\n\n\nNorth\nWest\nEast\nSouth\nTotal\n\n\n\n\nPolluting\n6\n14\n1\n7\n28\n\n\nNon-polluting\n3\n2\n1\n13\n19\n\n\nTotal\n9\n16\n2\n20\n47\n\n\n\n\n\nTable¬†1: Number of polluting companies by region\n\n\n\n\nAre there any cells at risk?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#staffing-tables",
    "href": "theorie/supports/methodes-suppressives.html#staffing-tables",
    "title": "Suppressive methods",
    "section": "Staffing Tables",
    "text": "Staffing Tables\nFrequency rule: a cell in a table must not be constructed from strictly fewer than n units (n &gt; 0).\n\nFor data entered at the Insee, n = 3."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#staffing-tables-1",
    "href": "theorie/supports/methodes-suppressives.html#staffing-tables-1",
    "title": "Suppressive methods",
    "section": "Staffing Tables",
    "text": "Staffing Tables\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluting\n6\n14\n1\n7\n28\n\n\nNon-polluting\n3\n2\n1\n13\n19\n\n\nTotal\n9\n16\n2\n20\n47\n\n\n\n\n\nTable¬†2: Number of polluting companies by region"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\n\n\n\n\n\n\n\nHarpes\nPiano\nOrgues\nTotal\n\n\n\n\n\nNord\n58\n71\n92\n221\n\n\n\nCentre\n11\n124\n157\n292\n\n\n\nSud\n36\n24\n60\n120\n\n\n\nTotal\n105\n219\n309\n633\n\n\n\n\n\n\nTable¬†3: Distribution of instrument sales by region and by type, in millions of euros\n\n\n\n\nAre there any cells at risk?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-1",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-1",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarps\nPiano\nOrgans\nTotal\n\n\n\n\nNorth\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCenter\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSouth\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\n\nTable¬†4: Distribution of instrument sales by region and type, in millions of euros\n\n\n\n\nNote: the values in parentheses indicate the number of contributors."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-2",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-2",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\nPrimary frequency secret.\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarps\nPiano\nOrgans\nTotal\n\n\n\n\nNorth\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCenter\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSouth\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\n\nTable¬†5: Distribution of instrument sales by region and type, in millions of euros\n\n\n\n\nNote: the values in parentheses indicate the number of contributors."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-3",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-3",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\nDominance Rule (n,k): a cell is sensitive if the n largest contributors to that cell represent more than k% of the cell‚Äôs total.\n\n\nFor business data at INSEE, n = 1 and k = 85. Therefore, 1 contributing unit to a cell cannot contribute more than 85% of that cell‚Äôs value.\nFor each cell in the table, it is necessary to determine the largest contributor."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-4",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-4",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\nPrimary dominance secret.\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarps\nPiano\nOrgans\nTotal\n\n\n\n\nNorth\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCenter\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSouth\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\n\nTable¬†6: Distribution of instrument sales by region and type, in millions of euros\n\n\n\n\nNote: the values in parentheses indicate the number of contributors."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-5",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-5",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\np% Rule: a cell is sensitive if one of the contributors who has a cell can estimate the value of another contributor to p% of its true value.\n\nIn practice, the 2nd contributor to the cell‚Äôs value must not be able to estimate, using their own value, that of the first contributor with a precision greater than p%.\nIt is customary to choose p = 10.\nNot used at Insee but recommended by European experts."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#volume-tables-6",
    "href": "theorie/supports/methodes-suppressives.html#volume-tables-6",
    "title": "Suppressive methods",
    "section": "Volume Tables",
    "text": "Volume Tables\nPrimary secret due to the p% rule\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarps\nPiano\nOrgans\nTotal\n\n\n\n\nNorth\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCenter\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSouth\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\n\nTable¬†7: Distribution of instrument sales by region and type, in millions of euros\n\n\n\n\nNote: the values in parentheses indicate the number of contributors."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#the-primary-secret",
    "href": "theorie/supports/methodes-suppressives.html#the-primary-secret",
    "title": "Suppressive methods",
    "section": "The Primary Secret",
    "text": "The Primary Secret\nCells categorized as at risk for the frequency rule, the dominance rule, and the p% rule constitute the primary secret. These cells cannot be disseminated.\n\nHow to do it?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#category-grouping",
    "href": "theorie/supports/methodes-suppressives.html#category-grouping",
    "title": "Suppressive methods",
    "section": "Category Grouping",
    "text": "Category Grouping\nRedefine the content of the crosstabulation variables by reducing the number of their modalities.\n\nThis strongly reduces, or even completely eliminates, primary secrecy.\n\nConsider this option before other methods."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#recoding-an-example",
    "href": "theorie/supports/methodes-suppressives.html#recoding-an-example",
    "title": "Suppressive methods",
    "section": "Recoding: An Example",
    "text": "Recoding: An Example\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;25\n25-30\n30-50\n&gt; 50\nTotal\n\n\n\n\nPolluting\n2\n5\n7\n6\n20\n\n\nNon-polluting\n8\n15\n17\n20\n60\n\n\nTotal\n10\n20\n24\n26\n80\n\n\n\n\n\nTable¬†8: Number of polluting companies according to the age of the manager\n\n\n\n\nDefine new modalities to increase the number of respondents per cell."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#recoding-an-example-1",
    "href": "theorie/supports/methodes-suppressives.html#recoding-an-example-1",
    "title": "Suppressive methods",
    "section": "Recoding: an example",
    "text": "Recoding: an example\n\n\n\n\n\n\n\n&lt;28\n28-35\n35-55\n&gt; 55\nTotal\n\n\n\n\nPolluting\n3\n6\n6\n5\n20\n\n\nNon-polluting\n9\n17\n19\n15\n60\n\n\nTotal\n12\n23\n25\n20\n80\n\n\n\n\n\nTable¬†9: Number of polluting companies by age of manager"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#recoding-your-turn",
    "href": "theorie/supports/methodes-suppressives.html#recoding-your-turn",
    "title": "Suppressive methods",
    "section": "Recoding: Your Turn!",
    "text": "Recoding: Your Turn!\nWe aim to publish the following table:\n\nPopulation of a region by their department of residence, their department of work, their profession, and their age.\nA lot of primary secrecy in this table since most people reside and work in the same department.\nHow to recode this table?\n\n\nThe first recoding consists of grouping all work departments outside the department of residence into a single category."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#recoding",
    "href": "theorie/supports/methodes-suppressives.html#recoding",
    "title": "Suppressive methods",
    "section": "Recoding",
    "text": "Recoding\n\n\n\n\n\n\n\nüëç\nüëé\n\n\n\n\nReduces the SP.\nDoes not always completely eliminate the SP.\n\n\nVery simple to implement.\nImpossible in some cases (imposed structure, longitudinal follow-up).\n\n\n\n\nHow to protect the remaining primary secret?"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#primary-secret",
    "href": "theorie/supports/methodes-suppressives.html#primary-secret",
    "title": "Suppressive methods",
    "section": "Primary Secret",
    "text": "Primary Secret\nFirst step: remove cells that do not comply with primary secret rules.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNorth\nWest\nEast\nSouth\nTotal\n\n\n\n\nPolluting\n6\n14\nX\n7\n28\n\n\nNon-polluting\n3\nX\n3\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\n\n\nTable¬†10: Number of polluting businesses by region\n\n\n\n\nThis is not sufficient; the cells are linked to each other by equations (margins)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#the-secondary-secret",
    "href": "theorie/supports/methodes-suppressives.html#the-secondary-secret",
    "title": "Suppressive methods",
    "section": "The Secondary Secret",
    "text": "The Secondary Secret\nSecond step: remove cells to protect the primary secret.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNorth\nWest\nEast\nSouth\nTotal\n\n\n\n\nPolluting\n6\nX\nX\n7\n28\n\n\nNon-polluting\n3\nX\nX\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\n\n\nTable¬†11: Number of polluting companies by region"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#the-secondary-secret-1",
    "href": "theorie/supports/methodes-suppressives.html#the-secondary-secret-1",
    "title": "Suppressive methods",
    "section": "The Secondary Secret",
    "text": "The Secondary Secret\nSeveral suppression structures (secret masks) are possible.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNord\nOuest\nEst\nSud\nTotal\n\n\n\n\nPolluting\nX\n14\nX\n7\n28\n\n\nNon-polluting\nX\nX\n3\n13\n21\n\n\nTotal\n9\nX\nX\n20\n49\n\n\n\n\n\nTable¬†12: Number of polluting companies by region"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nHiding cells amounts to broadcasting intervals.\n\n\n\n\n\n\n\n\n\n\n\n\nNorth\nWest\nEast\nSouth\nTotal\n\n\n\n\nPolluting\n6\n[11 ; 15]\n[0 ; 4]\n7\n28\n\n\nNon-polluting\n3\n[1 ; 5]\n[0 ; 4]\n13\n21\n\n\nTotal\n9\n16\n4\n20\n49\n\n\n\nInterval of possibilities: the set of all possible values taken by the hidden cell after applying the secrecy mask."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-1",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-1",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nProtection interval: let \\(V_C\\) be the value of a sensitive cell C to the frequency rule and \\(m\\%\\) the chosen protection margin.\n\\[\n[(1 - m\\%) \\cdot V_C ;\\ (1 + m\\%) \\cdot V_C]\n\\]\nIn practice, a margin of 10% is often chosen, \\[\n[90\\% \\cdot V_C ; 110\\% \\cdot V_C]\n\\]"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-2",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-2",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarps\nPiano\nOrgans\nTotal\n\n\n\n\nNorth\n58  (5)\n71  (17)\n92  (5)\n221  (27)\n\n\nCenter\n11  (4)\n124  (11)\n157  (2)\n292  (17)\n\n\nSouth\n36  (3)\n24  (6)\n60  (1)\n120  (10)\n\n\nTotal\n105  (12)\n219  (34)\n309  (8)\n633  (54)\n\n\n\n\n\nTable¬†13: Distribution of instrument sales by region and type, in millions of euros\n\n\n\n\nNote: hover over the primary frequency secret values to see the protection intervals."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-3",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-3",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nIntervals Rule: the protection interval of each sensitive cell must be included in its possible interval.\n\nThis rule allows protection against disclosure by inference."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-4",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-4",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nExample with a protection margin of 10%.\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarp\nPiano\nOrgan\nOther\nTotal\n\n\n\n\nNorth\n58\n71\n92\n800\n1021\n\n\nCenter\n11\n124\n157 (2)\n934\n1226\n\n\nSouth\n36\n24\n60 (1)\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote: hover the mouse over the primary frequency secret values to see the protection intervals."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-5",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-5",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nExample with a protection margin of 10%.\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarp\nPiano\nOrgan\nOther\nTotal\n\n\n\n\nNorth\nX\n71\nX\n800\n1021\n\n\nCenter\nX\n124\nX\n934\n1226\n\n\nSouth\nX\n24\nX\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote: hover the mouse over the values in secret primary frequency to see the protection intervals."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-6",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-6",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nExample with a protection margin of 10%.\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarp\nPiano\nOrgan\nOther\nTotal\n\n\n\n\nNorth\n[0;105]\n71\n[45;150]\n800\n1021\n\n\nCenter\n[0;105]\n124\n[63;168]\n934\n1226\n\n\nSouth\n[0;96]\n24\n[0;96]\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018\n\n\n\n\nNote : hover the mouse over the primary secret frequency values to see the protection intervals."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-7",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-7",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nThe upper bound of the interval of possibles (168) is lower than the upper bound of the protection interval (173)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-8",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-8",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\n\nWe can infer the cell value at 7% and not 10%.\nThe cell is not sufficiently protected."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-9",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-9",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\nAnother secret mask is used ‚Ä¶\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarp\nPiano\nOrgan\nOther\nTotal\n\n\n\n\nNorth\n58\nX\nX\n800\n1021\n\n\nCenter\n11\nX\nX\n934\n1226\n\n\nSouth\n36\nX\nX\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-10",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-10",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\n‚Ä¶ with other possible intervals.\n\n\n\n\n\n\n\n\n\n\n\nRegion\nHarp\nPiano\nOrgan\nOther\nTotal\n\n\n\n\nNorth\n58\n[0;163]\n[0;163]\n800\n1021\n\n\nCenter\n11\n[0;219]\n[62;281]\n934\n1226\n\n\nSouth\n36\n[0;84]\n[0;84]\n651\n771\n\n\nTotal\n105\n219\n309\n2385\n3018"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protection-intervals-11",
    "href": "theorie/supports/methodes-suppressives.html#protection-intervals-11",
    "title": "Suppressive methods",
    "section": "Protection Intervals",
    "text": "Protection Intervals\n\nWith this other secret mask, the cell is sufficiently protected."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#minimize-information-loss",
    "href": "theorie/supports/methodes-suppressives.html#minimize-information-loss",
    "title": "Suppressive methods",
    "section": "Minimize Information Loss",
    "text": "Minimize Information Loss\nTo minimize information loss, it is necessary to define a cost associated with the suppression of each cell.\n\nSeveral possibilities:\n\nThe number of cells deleted\nThe number of contributors affected by the deleted cells\nThe value of the cell (default Tau-Argus)\nAnother variable / adjusted cost"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tau-argus",
    "href": "theorie/supports/methodes-suppressives.html#tau-argus",
    "title": "Suppressive methods",
    "section": "\\(\\tau\\)-Argus",
    "text": "\\(\\tau\\)-Argus\n\n\n\nAllows calculation of primary and secondary suppression or controlled rounding\n\n\nDevelopment, maintenance, and support: group of European experts coordinated by CBS\n\n\nReference software in Europe for managing table confidentiality\n\n\nFree and open source software\n\n\nLatest stable version 4.2.4 (April 26, 2023)"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#tau-argus-1",
    "href": "theorie/supports/methodes-suppressives.html#tau-argus-1",
    "title": "Suppressive methods",
    "section": "\\(\\tau\\)-Argus",
    "text": "\\(\\tau\\)-Argus\n\n\n\n\n\n\n\nüëç\nüëé\n\n\n\n\nReference tool.\nCluttered interface.\n\n\nHigh-performing on secret placement thanks to global optimization.\nBugs and errors not easy to understand and fix.\n\n\nTool regularly maintained.\nLimited reproducibility of operations."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus",
    "title": "Suppressive methods",
    "section": "rtauargus",
    "text": "rtauargus\nAn R package to benefit from the advantages of \\(\\tau\\)-Argus while limiting the drawbacks.\n\n\n\nDeveloped at Insee\n\n\nOpen-source code\n\n\nMost recent version 06/25: v-1.3.0\n\n\nOnline documentation\n\n\nUse the tab_XXX() functions"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-1",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-1",
    "title": "Suppressive methods",
    "section": "rtauargus",
    "text": "rtauargus\nPackage functionality:\n\ncreates all the files in the formats expected by \\(\\tau\\)-Argus\nLaunches \\(\\tau\\)-Argus\nRetrieves the results in R"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-2",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-2",
    "title": "Suppressive methods",
    "section": "rtauargus",
    "text": "rtauargus\n\nSet the primary confidentiality ‚Äúmanually‚Äù\nSet the secondary confidentiality with:\n\n\ntab_rtauargus(): to protect a single table\ntab_multi_manager(): to protect multiple tables"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#rtauargus-3",
    "href": "theorie/supports/methodes-suppressives.html#rtauargus-3",
    "title": "Suppressive methods",
    "section": "rtauargus",
    "text": "rtauargus\nUser feedback needed: create an issue on GitHub.\nOr contact us by email (dg75_dmcsi-confidentialite at insee dot fr)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#hierarchical-tables",
    "href": "theorie/supports/methodes-suppressives.html#hierarchical-tables",
    "title": "Suppressive methods",
    "section": "Hierarchical Tables",
    "text": "Hierarchical Tables"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#hierarchical-tables-1",
    "href": "theorie/supports/methodes-suppressives.html#hierarchical-tables-1",
    "title": "Suppressive methods",
    "section": "Hierarchical Tables",
    "text": "Hierarchical Tables\n\n\nIf the hierarchy is not specified, the hidden value can be retrieved."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#hierarchical-tables-2",
    "href": "theorie/supports/methodes-suppressives.html#hierarchical-tables-2",
    "title": "Suppressive methods",
    "section": "Hierarchical Tables",
    "text": "Hierarchical Tables\n\n\nWhen the hierarchy is specified, the data is well protected."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#the-argus-format-for-hierarchies",
    "href": "theorie/supports/methodes-suppressives.html#the-argus-format-for-hierarchies",
    "title": "Suppressive methods",
    "section": "The Argus format for hierarchies",
    "text": "The Argus format for hierarchies\nIn \\(\\tau\\)-Argus hierarchies are presented in a specific format: .hrc text file.\n\nMust perfectly describe the nesting\nThe number of @ designates the nesting level of each category\nDoes not display the total\nThe write_hrc2() function allows creating a .hrc file from a correspondence table"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#protecting-linked-tables-with-rtauargus",
    "href": "theorie/supports/methodes-suppressives.html#protecting-linked-tables-with-rtauargus",
    "title": "Suppressive methods",
    "section": "Protecting Linked Tables with rtauargus",
    "text": "Protecting Linked Tables with rtauargus\nUse the tab_multi_manager() function:\n\nThe user describes the tables\nAutomatic merging of all tables with each other\nAlgorithm manages the iterative protection of the tables\n\nN.B. The imposition of secrecy at each iteration is performed with \\(\\tau\\)-Argus.\n\nThe tab_multi_manager() function provides a log in the form of reporting (secrecy imposition steps)."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#analysis-of-a-request",
    "href": "theorie/supports/methodes-suppressives.html#analysis-of-a-request",
    "title": "Suppressive methods",
    "section": "Analysis of a Request",
    "text": "Analysis of a Request\nIt is necessary to identify the links between the tables to establish a secret that truly protects them.\nThe tables that are disseminated are not the same as the tables to be protected."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis",
    "href": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis",
    "title": "Suppressive methods",
    "section": "Steps of the analysis",
    "text": "Steps of the analysis\n\nGather the information necessary for describing the tables\n\n\nfield\ncrosstabulation variables\nresponse variable (i.e.¬†indicator)\nfrequency or volume tables?\ndescription of nestings for hierarchies\nequations or correlations between response variables"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis-1",
    "href": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis-1",
    "title": "Suppressive methods",
    "section": "Steps of the Analysis",
    "text": "Steps of the Analysis\n\nCan the request be broken down into independent sub-requests?\n\n\ndifferent fields and non-complementary \\(\\perp\\!\\!\\!\\perp\\)\ndifferent response variables (and not linked by an equation / correlation) \\(\\perp\\!\\!\\!\\perp\\)\nall different crossover variables \\(\\perp\\!\\!\\!\\perp\\)\n\nIn cases of independence, it is necessary to manage the different sub-requests separately."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis-2",
    "href": "theorie/supports/methodes-suppressives.html#steps-of-the-analysis-2",
    "title": "Suppressive methods",
    "section": "Steps of the Analysis",
    "text": "Steps of the Analysis\n\nList the tables necessary for applying the secret\n\n\nCertain hierarchies may lead to unifying tables\nIf additive tables, construct a single table by creating an additional variable\nIf non-nested hierarchy, extract the relevant levels to construct an additional table"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#analysis-steps",
    "href": "theorie/supports/methodes-suppressives.html#analysis-steps",
    "title": "Suppressive methods",
    "section": "Analysis Steps",
    "text": "Analysis Steps\n\nPrepare the hierarchies\n\n\nDetect hierarchical variables\nBuild the necessary .hrc files (manually or with write_hrc2())"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#handling-an-additive-relationship-between-response-variables",
    "href": "theorie/supports/methodes-suppressives.html#handling-an-additive-relationship-between-response-variables",
    "title": "Suppressive methods",
    "section": "Handling an Additive Relationship Between Response Variables",
    "text": "Handling an Additive Relationship Between Response Variables\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n5\n10\n15\n\n\ntr2\n12\n18\n30\n\n\ntr3\n5\n5\n10\n\n\nT\n22\n33\n55\n\n\n\n\nRevenue knives\n\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n3\n8\n11\n\n\ntr2\n6\n20\n26\n\n\ntr3\n2\n6\n8\n\n\nT\n11\n34\n45\n\n\n\n\nRevenue forks\n\n\n\n\n\n\n\nreg1\nreg2\nT\n\n\n\n\ntr1\n8\n18\n26\n\n\ntr2\n18\n38\n56\n\n\ntr3\n7\n11\n18\n\n\nT\n33\n67\n100\n\n\n\n\nRevenue flatware\n\n\n\n\nRelationship between revenues: ‚Äúflatware = knives + forks‚Äù."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#handling-an-additive-link-between-response-variables",
    "href": "theorie/supports/methodes-suppressives.html#handling-an-additive-link-between-response-variables",
    "title": "Suppressive methods",
    "section": "Handling an additive link between response variables",
    "text": "Handling an additive link between response variables\nNew crossover variable: ‚Äútype_couverts‚Äù.\n\n\n\nRegion\nTr\ntype_couverts\nturnover\n\n\n\n\nreg1\ntr1\nknives\n5\n\n\nreg1\ntr1\nforks\n3\n\n\nreg1\ntr1\ncutlery\n8\n\n\n‚Ä¶\n‚Ä¶\n‚Ä¶\n‚Ä¶\n\n\nTotal\nTotal\ncutlery\n100"
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#handling-a-non-nested-hierarchy",
    "href": "theorie/supports/methodes-suppressives.html#handling-a-non-nested-hierarchy",
    "title": "Suppressive methods",
    "section": "Handling a Non-Nested Hierarchy",
    "text": "Handling a Non-Nested Hierarchy\n\nHere, the aggregate 50+ cannot be properly nested within the hierarchy."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#processing-a-non-nested-hierarchy",
    "href": "theorie/supports/methodes-suppressives.html#processing-a-non-nested-hierarchy",
    "title": "Suppressive methods",
    "section": "Processing a non-nested hierarchy",
    "text": "Processing a non-nested hierarchy\n\nCreate a second table containing only the breakdown of 50+."
  },
  {
    "objectID": "theorie/supports/methodes-suppressives.html#handling-a-non-nested-hierarchy-1",
    "href": "theorie/supports/methodes-suppressives.html#handling-a-non-nested-hierarchy-1",
    "title": "Suppressive methods",
    "section": "Handling a Non-Nested Hierarchy",
    "text": "Handling a Non-Nested Hierarchy\n\n\nprinc.hrc\n&lt;25\n25-29\n30-69\n@30-49\n@50-69\n70+\n\nalt.hrc\n50-69\n70+"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#how-to-define-it",
    "href": "theorie/supports/mesurer-utilite.html#how-to-define-it",
    "title": "Assessing Utility",
    "section": "How to define it?",
    "text": "How to define it?\n\nThe data protection process necessarily leads to a loss of information\n\n\n\n\n\n\n\n\n\nRegion\nAge\nStatus\n\n\n\n\n92\n14\nInactive\n\n\n75\n41\nUnemployed\n\n\n75\n52\nEmployee\n\n\n94\n45\nEmployee\n\n\n75\n41\nUnemployed\n\n\n92\n26\nEmployee\n\n\n92\n31\nEmployee\n\n\n94\n14\nInactive\n\n\n\n\n\nTable¬†1: risk = 100 % , Info loss = 0 %\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nAge\nStatus\n\n\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n‚àÖ\n‚àÖ\n‚àÖ\n\n\n\n\n\nTable¬†2: risk = 0 % , Info loss = 100 %"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#what-uses-for-the-data",
    "href": "theorie/supports/mesurer-utilite.html#what-uses-for-the-data",
    "title": "Assessing Utility",
    "section": "What uses for the data?",
    "text": "What uses for the data?\n\nDepending on the end users, the concept of information loss can change\nKnow the uses that will be made of the data (e.g.¬†regression, aggregates, averages)\nIt is not recommended to publish multiple protected versions of the same dataset for each type of user \\(\\rightarrow\\) significant disclosure risks through differentiation."
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#main-idea",
    "href": "theorie/supports/mesurer-utilite.html#main-idea",
    "title": "Assessing Utility",
    "section": "Main idea",
    "text": "Main idea\nTwo ways to measure information loss:\n\nCompare the raw records between the original dataset and the protected dataset\nCompare certain statistics calculated on the original and protected datasets"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#notations",
    "href": "theorie/supports/mesurer-utilite.html#notations",
    "title": "Assessing Utility",
    "section": "Notations",
    "text": "Notations\nFor continuous data, formally:\n\n\\(I_1,\\dots, I_n\\), \\(n\\) individual records\n\\(Z_1,..,Z_p\\), \\(p\\) continuous variables\n\\(X\\) the original data matrix, \\(X^{'}\\) the protected data matrix"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#distance-between-matrices",
    "href": "theorie/supports/mesurer-utilite.html#distance-between-matrices",
    "title": "Assessing Utility",
    "section": "Distance between matrices",
    "text": "Distance between matrices\n\nMean squared error: sum of the squared differences between the two matrices, component by component, divided by the number of coefficients in a matrix (same for both) \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n(x_{ij}-x^{'}_{ij})^2\\]"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#distance-between-matrices-1",
    "href": "theorie/supports/mesurer-utilite.html#distance-between-matrices-1",
    "title": "Assessing Utility",
    "section": "Distance between matrices",
    "text": "Distance between matrices\n\nMean absolute error: sum of the absolute differences between the two matrices, component by component, divided by the number of coefficients in a matrix (same for both) \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n|x_{ij}-x^{'}_{ij}|\\]"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#distance-between-matrices-2",
    "href": "theorie/supports/mesurer-utilite.html#distance-between-matrices-2",
    "title": "Assessing Utility",
    "section": "Distance between matrices",
    "text": "Distance between matrices\n\nMean variation: sum of the absolute variations in percentage of the components of the protected matrix relative to the original data matrix \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n\\frac{|x_{ij}-x^{'}_{ij}|}{|x_{ij}|}\\]\n\nWith \\(x_{ij} \\ne 0\\).\n‚ÄúOn average, each cell has been modified by x% compared to the original value.‚Äù"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#an-example",
    "href": "theorie/supports/mesurer-utilite.html#an-example",
    "title": "Assessing Utility",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\n\n\nSex\nReg\nAge\nh / week\n\n\nF\n92\n36\n17\n\n\nM\n75\n41\n35\n\n\nF\n75\n52\n5\n\n\n\n\n\nTable¬†3: Hours worked per week by sex, age and region (original data \\(X\\))\n\n\n\n\n\n\n\n\n\n\n\n\nSex\nReg\nAge\nh / week\n\n\nF\n92\n34\n23\n\n\nF\n75\n48\n35\n\n\nM\n75\n58\n2\n\n\n\n\n\nTable¬†4: Hours worked per week by sex, age and region (perturbed data \\(X^{'}\\))"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#an-example-1",
    "href": "theorie/supports/mesurer-utilite.html#an-example-1",
    "title": "Assessing Utility",
    "section": "An example",
    "text": "An example\n\nMean squared error =\n\n\\(\\frac{(36-34)^2+(41-48)^2+(52-58)^2+(17-23)^2+(35-35)^2+(5-2)^2}{6}=22\\)\n\nMean absolute error =\n\n\\(\\frac{|36-34|+|41-48|+|52-58|+|17-23|+|35-35|+|5-2|}{6}=4\\)\n\nMean variation =\n\n\\(\\frac{\\frac{|36-34|}{36}+\\frac{|41-48|}{41}+\\frac{|52-58|}{52}+\\frac{|17-23|}{17}+\\frac{|35-35|}{35}+\\frac{|5-2|}{5}}{6}=0.15\\)"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#effect-of-size-on-mean-variation",
    "href": "theorie/supports/mesurer-utilite.html#effect-of-size-on-mean-variation",
    "title": "Assessing Utility",
    "section": "Effect of size on mean variation",
    "text": "Effect of size on mean variation\nThe mean variation depends on the size of \\(x_{ij}\\):\n\nLarge \\(x_{ij}\\) \\(\\rightarrow\\) even a large difference \\(|x_{ij} - x^{'}_{ij}|\\) gives a low ratio\nSmall \\(x_{ij}\\) \\(\\rightarrow\\) even a small absolute difference \\(|x_{ij} - x^{'}_{ij}|\\) gives a high ratio"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#correcting-the-size-effect",
    "href": "theorie/supports/mesurer-utilite.html#correcting-the-size-effect",
    "title": "Assessing Utility",
    "section": "Correcting the size effect",
    "text": "Correcting the size effect\nTo make the ratio independent of the size of \\(x_{ij}\\), another measure is used: \\[\\frac{1}{np}\\sum_{j=1}^p\\sum_{i=1}^n\\frac{|x_{ij}-x^{'}_{ij}|}{\\sqrt{2}S_j}\\] with \\(S_j\\) the standard deviation of the \\(j\\)-th variable\nAllows comparing variations to the ‚Äúnormal‚Äù variability of the variable."
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#specific-measures",
    "href": "theorie/supports/mesurer-utilite.html#specific-measures",
    "title": "Assessing Utility",
    "section": "Specific measures",
    "text": "Specific measures\n\nUnivariate comparisons (comparison of a variable‚Äôs distribution before and after perturbation).\nBivariate comparisons: Linear correlations, for example.\nMultivariate comparisons: Comparison of the planes of a principal component analysis.\nComparison of regression parameters, etc."
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#different-comparisons",
    "href": "theorie/supports/mesurer-utilite.html#different-comparisons",
    "title": "Assessing Utility",
    "section": "Different comparisons",
    "text": "Different comparisons\nFor categorical variables, 3 main ideas to evaluate information loss with categorical data:\n\nDirect comparison of variable values\n\nMean absolute differences\nMean relative absolute differences\n\nComparison of contingency tables\nMeasures based on entropy"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#entropy-based-measure",
    "href": "theorie/supports/mesurer-utilite.html#entropy-based-measure",
    "title": "Assessing Utility",
    "section": "Entropy-based measure",
    "text": "Entropy-based measure\n\nEntropy measures the uncertainty induced by a given probability distribution: \\[H(V|V^\\prime=j) = - \\sum_{i=1}^K P(V=i|V^\\prime = j) \\log(P(V=i|V^\\prime = j))\\]\nDepending on the method, it can be difficult to evaluate the quantity \\(P(V=i|V^{'} = j)\\)\nGlobal risk \\[R = \\sum_{r \\in enregistrements} H(V|V^\\prime=\\underset{protected value}{\\underbrace{j_{r}}})\\]"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#measuring-inference-quality",
    "href": "theorie/supports/mesurer-utilite.html#measuring-inference-quality",
    "title": "Assessing Utility",
    "section": "Measuring inference quality",
    "text": "Measuring inference quality\n\n\\(K = 5\\) categories, say \\(j = 4\\), and examine \\(P(V=i|V^{'} = 4)_{1\\leq i\\leq 5}\\)\n\n\n\n\n\n\n\n\n\n\nFigure¬†1: Dirac\n\n\n\n\n\n\n\n\n\n\n\n\nFigure¬†2: Compromis\n\n\n\n\n\n\n\n\n\n\n\n\nFigure¬†3: Bruit fort\n\n\n\n\n\n\nTrade-off between risk and information loss!"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#global-measures",
    "href": "theorie/supports/mesurer-utilite.html#global-measures",
    "title": "Assessing Utility",
    "section": "Global measures",
    "text": "Global measures\n\nMean absolute or relative differences\nHellinger distance\n\\[HD(\\mathbf{X}, \\mathbf{X}') = \\frac{1}{\\sqrt{2}} \\sqrt{\\sum_{j = 1}^M \\left(\\sqrt{\\frac{x'_j}{\\sum_{j=1}^M x'_j}} - \\sqrt{\\frac{x_j}{\\sum_{j=1}^M x_j}}\\right)^2}\\]"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#specific-metrics-for-contingency-tables",
    "href": "theorie/supports/mesurer-utilite.html#specific-metrics-for-contingency-tables",
    "title": "Assessing Utility",
    "section": "Specific metrics for contingency tables",
    "text": "Specific metrics for contingency tables\n\nComparison of Cramer‚Äôs V (based on the \\(\\chi^2\\) statistic)\nComparison of the first factorial plane of a correspondence analysis."
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#many-possibilities",
    "href": "theorie/supports/mesurer-utilite.html#many-possibilities",
    "title": "Assessing Utility",
    "section": "Many possibilities",
    "text": "Many possibilities\n\nUnivariate: histograms, box plots, bar charts\nBivariate: Correlation matrices, mosaic plots, Plane of a correspondence analysis, etc.\nMultivariate: 1st plane of a factorial analysis (PCA, MCA, MFA)"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#correlation-matrix",
    "href": "theorie/supports/mesurer-utilite.html#correlation-matrix",
    "title": "Assessing Utility",
    "section": "Correlation matrix",
    "text": "Correlation matrix\n\n\n\n\n\n\n\n\n\nFigure¬†4: Original\n\n\n\n\n\n\n\n\n\n\n\n\nFigure¬†5: Differences method 1\n\n\n\n\n\n\n\n\n\n\n\n\nFigure¬†6: Differences method 2\n\n\n\n\n\nVisual comparison immediately shows that the first method preserves bivariate relationships better than the second."
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#clouds-from-a-factorial-analysis",
    "href": "theorie/supports/mesurer-utilite.html#clouds-from-a-factorial-analysis",
    "title": "Assessing Utility",
    "section": "Clouds from a factorial analysis",
    "text": "Clouds from a factorial analysis\nComparison of the projection of individuals on the first plane of a factorial analysis.\n\n\n\n\n\n\n\n\n\nFigure¬†7: Original\n\n\n\n\n\n\n\n\n\n\n\n\nFigure¬†8: Perturbed"
  },
  {
    "objectID": "theorie/supports/mesurer-utilite.html#results-of-a-regression",
    "href": "theorie/supports/mesurer-utilite.html#results-of-a-regression",
    "title": "Assessing Utility",
    "section": "Results of a regression",
    "text": "Results of a regression\n\n\n\n\n\n\n\nFigure¬†9: Confidence interval of logistic regression coefficients according to the data processing method"
  },
  {
    "objectID": "ressources/fiches/outils-install.html",
    "href": "ressources/fiches/outils-install.html",
    "title": "Install packages and tools on R",
    "section": "",
    "text": "# Construction de l'URL du d√©p√¥t\nREPOSITR=\"https://packagemanager.posit.co/cran/latest\"\n\n# Installation des packages R recommand√©s\n# install.packages('tidyverse', repos=REPOSITR, dependencies=TRUE)\n# install.packages('ggraph', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('sdcMicro', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('GaussSuppression', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('cellKey', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('synthpop', repos=REPOSITR, dependencies=TRUE)"
  },
  {
    "objectID": "ressources/fiches/outils-install.html#sec-install-packages",
    "href": "ressources/fiches/outils-install.html#sec-install-packages",
    "title": "Install packages and tools on R",
    "section": "",
    "text": "# Construction de l'URL du d√©p√¥t\nREPOSITR=\"https://packagemanager.posit.co/cran/latest\"\n\n# Installation des packages R recommand√©s\n# install.packages('tidyverse', repos=REPOSITR, dependencies=TRUE)\n# install.packages('ggraph', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('sdcMicro', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('GaussSuppression', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('cellKey', repos=REPOSITR, dependencies=TRUE)\ninstall.packages('synthpop', repos=REPOSITR, dependencies=TRUE)"
  },
  {
    "objectID": "ressources/fiches/outils-install.html#packages",
    "href": "ressources/fiches/outils-install.html#packages",
    "title": "Install packages and tools on R",
    "section": "packages",
    "text": "packages\n\nThe packagertauargus\noffers to install the version with an experimental extension:\n\n\nPackage\n\n# Installation de la derni√®re version de rtauargus \n# (version avec extension exp√©rimentale)\ninstall.packages('remotes', repos=REPOSITR)\nremotes::install_github(\n    'InseeFrLab/rtauargus',\n    dependencies = TRUE,\n    build_vignettes = FALSE,\n    upgrade = 'never',\n    ref = \"v-1.2.999-dev\"\n)\n\n\n\ndocumentation:\n\nsdcMicro\ncellKey\nrtauargus\nsynthpop"
  },
  {
    "objectID": "ressources/fiches/outils-install.html#software",
    "href": "ressources/fiches/outils-install.html#software",
    "title": "Install packages and tools on R",
    "section": "Software",
    "text": "Software\n\nTau-ARGUS (Windows / 32 bits)\n\nThe latest version is available on GitHub at this address:\nhttps://github.com/sdcTools/tauargus/releases/latest\nDownload the fileTauArgusXXXX.zipwhereXXXXcorresponds to the number of the latest version\nOnce installed, simply unzip the file to the desired location on your machine.\n\nTo launchTau-ARGUS, simply double-click on the fileTauArgus.exein the root directory of the unzipped folder.\nSome documentation‚Äîa little outdated‚Äîcan be downloadedhere\n\n\nMu-ARGUS (Windows / 64 bits)\nThe latest version is also available on GitHub at this address: https://github.com/sdcTools/tauargus/releases/latest\nThe installation procedure is identical to that ofTau-ARGUS.\nSome documentation (a bit old) can be downloaded at this address:\nhttps://research.cbs.nl/casc/Software/MUmanual5.1.3.pdf"
  },
  {
    "objectID": "ressources/index.html",
    "href": "ressources/index.html",
    "title": "Resources",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "pratique/fiches/sujets-avances.html",
    "href": "pratique/fiches/sujets-avances.html",
    "title": "Advanced topics",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "pratique/fiches/suppressif.html",
    "href": "pratique/fiches/suppressif.html",
    "title": "Practical suppressive methods",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "pratique/fiches/generer-synth.html",
    "href": "pratique/fiches/generer-synth.html",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "",
    "text": "Code\nlibrary(readr)\nlibrary(purrr)\nlibrary(dplyr)\nlibrary(synthpop)"
  },
  {
    "objectID": "pratique/fiches/generer-synth.html#importons-les-donn√©es",
    "href": "pratique/fiches/generer-synth.html#importons-les-donn√©es",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "Importons les donn√©es",
    "text": "Importons les donn√©es\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\nPour plus d‚Äôinformations sur les donn√©es, on pourra se reporter √† la fiche ‚ÄúPr√©sentation des donn√©es‚Äù."
  },
  {
    "objectID": "pratique/fiches/generer-synth.html#pr√©paration-des-donn√©es",
    "href": "pratique/fiches/generer-synth.html#pr√©paration-des-donn√©es",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "Pr√©paration des donn√©es",
    "text": "Pr√©paration des donn√©es\n\n\nCode\nlfs_orig &lt;- lfs_2023 |&gt; \n    select(-starts_with(\"HH\")) |&gt;\n    select(-ARR) |&gt;\n    mutate(across(-AGE, as.character))"
  },
  {
    "objectID": "pratique/fiches/generer-synth.html#ordre-des-variables",
    "href": "pratique/fiches/generer-synth.html#ordre-des-variables",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "Ordre des variables",
    "text": "Ordre des variables\nL‚Äôordre des variables joue un r√¥le consid√©rable sur les temps de traitements et sur la qualit√© de la synth√©tisation. Par exp√©rience, un ordre relativement efficace consiste √† ordonner les variables en pla√ßant les variables num√©riques avant les variables catg√©orielles et en classant les variables cat√©gorielles par ordre croissant de nombre de modalit√©s.\n\n\nCode\nseq1 &lt;- lfs_orig |&gt; select(where(is.character)) |&gt; \n    unique() |&gt; \n    tidyr::pivot_longer(everything(), names_to = \"var\", values_to = \"mod\") |&gt;\n    unique() |&gt;\n    count(var) |&gt;\n    arrange(n) |&gt;\n    pull(var)"
  },
  {
    "objectID": "pratique/fiches/generer-synth.html#synth√©tiser",
    "href": "pratique/fiches/generer-synth.html#synth√©tiser",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "Synth√©tiser",
    "text": "Synth√©tiser\n\n\nCode\nlfs_syn &lt;- synthpop::syn(lfs_orig |&gt; select(-AGE), method = \"cart\", visit.sequence = seq1)\n\n\n\nVariable(s): REG, DEP, SEXE, AGE6, ACTEU, DIP7, PCS1Q, ANCCHOM, IS_CHOM have been changed for synthesis from character to factor.\n\nSynthesis\n-----------\n IS_CHOM SEXE ACTEU REG AGE6 DIP7 ANCCHOM PCS1Q DEP"
  },
  {
    "objectID": "pratique/fiches/generer-synth.html#risque-utilit√©",
    "href": "pratique/fiches/generer-synth.html#risque-utilit√©",
    "title": "G√©n√©rer des donn√©es synth√©tiques",
    "section": "Risque / Utilit√©",
    "text": "Risque / Utilit√©\n\n\nCode\nsynthpop::disclosure(lfs_syn, lfs_orig, keys = c(\"AGE6\", \"SEXE\", \"REG\", \"DEP\"), target = c(\"IS_CHOM\"))\n\n\n-------------------Synthesis 1 --------------------\nTable for target IS_CHOM from GT alone with keys has 2 rows 240 colums.\nTable for target  IS_CHOM from GT & SD with all key combinations has 2 rows 242 colums.\n\n\nDisclosure measures from synthesis for 34053 records in original data.\n\nIdentity  measures for keys REG DEP SEXE AGE6 \nand attribute measures for IS_CHOM from the same keys\n            Identity (UiO/repU) Attrib (Dorig/DiSCO)\nOriginal                   0.01                20.71\nSynthesis 1                0.00                24.30\n\nThe 1 way distributions of IS_CHOM has a large contribution to disclosure from level Check  IS_CHOM  level  0 \nPlease add 'check_1way' to to.print (e.g. print(disclosure_result, to.print = 'check_1way'),\nand look at original data to decide if backround knowledge would make this disclosure likely\nConsider excluding this level with the not.targetlev parameter to the disclosure function.\n\n\nDetails of target-key pairs contributing disproportionately to disclosure of IS_CHOM \n37 pairs need checks \n\nPlease examine component $check_2way of the disclosure object and look at original data.\nConsider excluding these key-target pairs with some the following parameters to disclosure:\nexclude_ov_denom_lim = TRUE or defining key-target combinations from exclude.targetlevs,\nexclude.keys and exclude.keylevs"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html",
    "href": "pratique/fiches/mesurer-risque.html",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Code\nlibrary(readr)\nlibrary(purrr)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(sdcMicro)\n\n\n\n\n\n\nCode\nsource(\"../R/fun_risque.R\")\n\n\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\n\n\n\nDans un jeu de donn√©es, on distingue trois grands types de variables:\n\nles quasi-identifiants: un ensemble de variables dont on suppose qu‚Äôun attaquant est susceptible de les avoir d√©j√† √† sa disposition.\nles variables sensibles: les variables portant sur des th√©matiques sensibles au sens de la Loi Informatique et Libert√©s (religion, opinion, orientation sexuelle, etc.), mais on peut aussi y inclure des variables dont la connaissance est susceptible de porter pr√©judice √† la personne (par exemple le salaire, le fait d‚Äôavoir une maladie, le fait d‚Äô√™tre au ch√¥mage, etc.).\nles variables ni identifiantes ni sensibles: celles qui a priori ne posent pas de probl√®me sp√©cifique en terme de confidentialit√©.\n\n\n\n\nAinsi, le premier type de variables engendre un risque de divulgation d‚Äôinformation confidentielle par la possibilit√© pour l‚Äôattaquant de r√©-identifier des individus. En effet, si un ataquant dispose d‚Äôun fichier nomminatif - un fichier client par exemple - contenant des variables communes avec le jeu de donn√©es qu‚Äôon s‚Äôappr√™te √† publier, il est alors en mesure d‚Äôapparier les deux et √™tre en capacit√© de r√©-identifier des individus si ceux-ci se trouvent avoir des caract√©ristiques peu fr√©quentes.\n\n\nPrenons une liste tr√®s restreinte de quasi-identifiants: la g√©ographie de r√©sidence, le sexe et l‚Äô√¢ge de l‚Äôindividu. Ces informations sont disponibles par de nombreuses entreprises aupr√®s desquelles nous souscrivons des services (banque, assurance, t√©l√©phonie, etc.).\nEn d√©nombrant les individus de chaque croisement entre les variables quasi-identifiantes, on peut d√©tecter :\n\nle niveau d‚Äôanonymit√© du fichier au sens du k-anonymat: ici notre fichier est 1-anonyme puisqu‚Äôil contient de nombreux individus uniques dans leur cat√©gorie.\nla d√©tection des croisements et des individus les plus √† risque: &gt; Moins il y a d‚Äôindividus dans un groupe, plus la probabilit√© de r√©-identification par l‚Äôattaquant est forte. Dans le cas d‚Äôun groupe unique, la r√©-identification est m√™me certaine.\n\n\n\nCode\nqi_vars_I &lt;- c(\"REG\",\"DEP\",\"ARR\", \"SEXE\", \"AGE\")\nfreq_qi_vars &lt;- lfs_2023 |&gt; count(across(all_of(qi_vars_I))) \nfreq_qi_vars |&gt; arrange(n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    97     1\n2:     11     75    751      2   102     1\n3:     11     75    751      2   103     1\n4:     11     75    751      2   116     1\n5:     11     77    771      1    15     1\n6:     11     77    771      1    18     1\n\n\nCode\nfreq_qi_vars |&gt; arrange(-n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    52    43\n2:     11     75    751      1    51    39\n3:     11     75    751      1    21    36\n4:     11     75    751      2    60    36\n5:     11     75    751      2    61    36\n6:     11     75    751      1    55    35\n\n\nAinsi, si une entreprise de notre contr√©e imaginaire dispose d‚Äôun fichier sur tout ou partie de la population en √¢ge de travailler (par exemple un op√©rateur t√©l√©phonique), il pourra r√©-identifier sans peine les individus uniques du jeu de donn√©es qui seraient pr√©sents dans son fchier.\nLa capacit√© d‚Äôun attaquant √† pouvoir r√©-identifier un individu d√©pend du nombre d‚Äôindividus du jeu de donn√©es qui partagent les m√™mes caract√©ristiques sur les variables quasi-identifiantes.\nPar exemple, si Th√©r√®se est une femme de 97 ans r√©sidant dans l‚Äôarrondissement 751, alors le jeu de donn√©es permet de la r√©-identifier de fa√ßon certaine, puisqu‚Äôelle serait la seule dans ce cas.\nAu contraire, si Th√©r√®se est une femme de 52 ans r√©sidant dans le m√™me arrondissement, alors la probabilit√© de la r√©-identifier dans le jeu de donn√©es avec ces seules informations serait de 1 chance sur 43.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nChoisir les variables quasi-identifiantes est un exercice difficile puisqu‚Äôen g√©n√©ral, nous n‚Äôavons pas une id√©e exacte des donn√©es √† la disposition des attaquants potentiels. Il faut donc d√©finir un sc√©nario th√©orique suffisamment r√©aliste pour s‚Äôassurer de prot√©ger les donn√©es individuelles des risques de r√©-identification les plus importants.\nEn choisissant le premier jeu de variables quasi-identifiantes (g√©ographie, sexe et √¢ge), on consid√®re le jeu minimal de quasi-idenfiants. L‚Äôextr√™me inverse consisterait √† consid√©rer toutes les variable comme des quasi-identifiants. Dans le premier cas, on d√©finit un sc√©nario minimaliste, dans le second le sc√©nario est maximaliste.\nDans notre jeu de donn√©es fictif sur l‚Äôemploi et le ch√¥mage, on pourrait d√©finir\n\nun sc√©nario minimaliste: l‚Äôattaquant ne dispose que de la g√©ographie, du sexe et de l‚Äô√¢ge de ses clients\nun sc√©nario interm√©diaire: l‚Äôattaquant dispose en plus d‚Äôinformations sur son niveau de dipl√¥me\nun sc√©nario maximaliste: l‚Äôattaquant dispose en r√©alit√© de toutes les informations sur les individus sauf de son anciennet√© au ch√¥mage.\n\nSelon ces trois sc√©narios, le niveau de risque de r√©-identifcation des individus ne sera pas le m√™me\n\n\nCode\nqi_vars_II &lt;- c(qi_vars_I, \"DIP7\")\nqi_vars_III &lt;- c(names(lfs_2023)[!names(lfs_2023) %in% c(\"ANCCHOM\")])\n\nrisques_reident &lt;- \n  list(\"I\" = qi_vars_I, \n       \"II\" = qi_vars_II,\n       \"III\" = qi_vars_III) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\nLoading required package: tidyr\n\n\n\n\nCode\nggplot(risques_reident$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilit√©\", type = \"seq\", palette = 7) +\n  labs(x=\"Sc√©nario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilit√© de r√©-identification des individus selon le sc√©nario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nrisques_reident$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de r√©-identification des individus en fonction du sc√©nario\",\n    digits = 3\n  )\n\n\n\nRisque de r√©-identification des individus en fonction du sc√©nario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nI\n0.508\n0.125\n0.333\n1\n8.090\n\n\nII\n0.802\n0.333\n1.000\n1\n41.641\n\n\nIII\n0.977\n1.000\n1.000\n1\n91.102\n\n\n\n\n\n\n\n\n\n\n\nWarningDes variables tr√®s efficaces pour la r√©-identification\n\n\n\nCertaines variables ont un pouvoir de r√©-identification tr√®s fort, en particulier :\n\nla g√©ographie (de r√©sidence, de travail, d‚Äôimplantation): plus elle est pr√©cise plus la r√©-identification est ais√©e, d‚Äôautant plus que l‚Äôadresse est souvent par ailleurs une donn√©e tr√®s largement partag√©e par les individus et les entreprises.\nl‚Äô√¢ge est √©galement tr√®s r√©-identifiant puisqu‚Äôil est √† la fois public avec la disponibilit√© de l‚Äô√©tat-civil et concerne, pour certains √¢ges avanc√©s, peu d‚Äôindividus. Ainsi, si la personne la plus √¢g√©e r√©sidant en France est dans notre fichier, nous avons toutes les chances de la r√©-identifier de fa√ßon certaine en ne connaissant que son √¢ge.\n\nPour r√©duire le risque de r√©-identification, il est souvent tr√®s efficace de choisir de diffuser des variables d‚Äô√¢ge et de g√©ographie agr√©g√©es.\nComparons, par exemple, trois sc√©narios alternatifs au sc√©nario II pr√©sent√© ci-dessus:\n\nsc√©nario II-a: le lieu de r√©sidence n‚Äôest plus diffus√© √† l‚Äôarrondisement mais au d√©partement.\nsc√©nario II-b: l‚Äô√¢ge d√©taill√© est remplac√© par 5 tranches d‚Äô√¢ges.\nsc√©nario II-c: combinaison des deux sc√©narios ci-dessus.\n\n\n\nCode\nqi_vars_IIa &lt;- c(\"REG\", \"DEP\", \"SEXE\", \"AGE\", \"DIP7\")\nqi_vars_IIb &lt;-  c(\"REG\", \"DEP\", \"ARR\", \"SEXE\",  \"AGE6\", \"DIP7\")\nqi_vars_IIc &lt;- c(\"REG\", \"DEP\", \"SEXE\", \"AGE6\", \"DIP7\")\n\nrisques_reident2 &lt;- list(\n  \"II\" = qi_vars_II, \n  \"IIa\" = qi_vars_IIa, \n  \"IIb\" = qi_vars_IIb, \n  \"IIc\" = qi_vars_IIc) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\n\n\nCode\nrisques_reident2$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de r√©-identification des individus en fonction du sc√©nario\",\n    digits = 3\n  )\n\n\n\nRisque de r√©-identification des individus en fonction du sc√©nario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nII\n0.802\n0.333\n1.000\n1.0\n41.641\n\n\nIIa\n0.650\n0.200\n0.500\n1.0\n19.637\n\n\nIIb\n0.275\n0.042\n0.167\n1.0\n1.022\n\n\nIIc\n0.168\n0.016\n0.074\n0.5\n0.226\n\n\n\n\n\n\n\nCode\nggplot(risques_reident2$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilit√©\", type = \"seq\", palette = 7) +\n  labs(x=\"Sc√©nario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilit√© de r√©-identification des individus selon le sc√©nario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nEn r√©duisant le d√©tail g√©ographique, on a ici divis√© par deux la part des uniques. Mais en passant √† 6 tranches d‚Äô√¢ges, celle-ci est divis√©e par 20!\nAinsi, les traitements les plus simples (recoder une variable) sont parfois les plus efficaces pour r√©duire massivement les risques individuels, m√™me si cela ne les annihile pas tous.\n\n\n\n\n\nLe package sdcMicro permet de mesurer les risques de r√©-identification et le niveau d‚Äôanonymit√© d‚Äôun jeu de donn√©es individuelles assez simplement.\nDans un premier temps, on initialise un objet de la classe sdcMicroObj en mentionnant uniquement le jeu de donn√©es et les variables consid√©r√©es comme quasi-identfiantes.\n\n\nCode\nlfs_sdc &lt;- sdcMicro::createSdcObj(\n  lfs_2023,\n  keyVars = qi_vars_IIc\n)\n\n\nLa fonction cr√©e un objet dans une classe S4. Les diff√©rents attributs de l‚Äôobjet (on dit des slots) sont donc accessibles avec le symbole @.\nLes attributs disponibles pour un tel objet sont les suivants:\n\n\nCode\nslotNames(lfs_sdc)\n\n\n [1] \"origData\"          \"keyVars\"           \"pramVars\"         \n [4] \"numVars\"           \"ghostVars\"         \"weightVar\"        \n [7] \"hhId\"              \"strataVar\"         \"sensibleVar\"      \n[10] \"manipKeyVars\"      \"manipPramVars\"     \"manipNumVars\"     \n[13] \"manipGhostVars\"    \"manipStrataVar\"    \"originalRisk\"     \n[16] \"risk\"              \"utility\"           \"pram\"             \n[19] \"localSuppression\"  \"options\"           \"additionalResults\"\n[22] \"set\"               \"prev\"              \"deletedVars\"      \n\n\nLors de la cr√©ation de l‚Äôobjet, un certain nombre de m√©triques de risque ont √©t√© calcul√©es. D‚Äôun point de vue global, la proportion d‚Äôindividus √† risque de r√©-identification est une mesure calcul√©e √† partir des groupes constitu√©s par les quasi-identifiants. Il s‚Äôagit du risque moyen qu‚Äôun individu de la base de donn√©e soit r√©-identifi√©: \\[ R = \\frac{1}{n} \\sum_i{ r_i }\\], o√π \\(r_i\\) est le risque pour l‚Äôindividu \\(i\\) d‚Äô√™tre r√©-identifi√© (voir plus bas pour plus de pr√©cision).\n\n\nCode\nlfs_sdc@risk$global$risk * 100\n\n\n[1] 4.269815\n\n\nLe nombre de r√©-identifications auxquelles on peut s‚Äôattendre en moyenne (risque global * n) est fourni par:\n\n\nCode\nlfs_sdc@risk$global$risk_ER\n\n\n[1] 1454\n\n\nOn peut √©galement retrouver la part d‚Äôindividus √† risque au sens du \\(k\\)-anonymat:\n\n\nCode\nprint(lfs_sdc, 'kAnon')\n\n\nInfos on 2/3-Anonymity:\n\nNumber of observations violating\n  - 2-anonymity: 77 (0.226%)\n  - 3-anonymity: 267 (0.784%)\n  - 5-anonymity: 825 (2.423%)\n\n----------------------------------------------------------------------\n\n\nOn observe en particulier que \\(77\\) individus sont uniques sur les cl√©s utilis√©es (\\(2\\)-anonymity).\nou pour d‚Äôautres valeurs de \\(k\\), on peut faire, par exemple, pour \\(k=10\\):\n\n\nCode\nmean(lfs_sdc@risk$individual[,\"fk\"] &lt; 10)*100\n\n\n[1] 7.335624\n\n\n\n\n\n\nOn suppose que ACTEU est une variable sensible. Pour r√©duire le risque de divulgation d‚Äôattributs sur cette variable, on peut mesure la \\(l\\)-diversit√© du fichier et √™tre particulier vigilant aux groupes de quasi-identifiants qui seraient constitu√©s d‚Äôindividus partageant la m√™me cat√©gorie.\n\n\nCode\nlfs_sdc &lt;- ldiversity(obj = lfs_sdc, ldiv_index = c(\"ACTEU\"), missing = NA)\nlfs_sdc@risk$ldiversity\n\n\n--------------------------\n\n\nL-Diversity Measures \n\n\n--------------------------\n\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   2.000   2.000   2.325   3.000   3.000 \n\n\nCalculons la part d‚Äôindividus pr√©sents dans un groupe ne comptant qu‚Äôune seule des trois cat√©gories:\n\n\nCode\nmean(lfs_sdc@risk$ldiversity[,\"ACTEU_Distinct_Ldiversity\"]==1)*100\n\n\n[1] 15.69612\n\n\nEn r√©alit√©, parmi les trois cat√©gories de la variable, une seule est r√©ellement sensible: il s‚Äôagit de la cat√©gorie 2 correspondant aux personnes au ch√¥mage.\nV√©rifions le nombre d‚Äôindividus r√©ellement √† risque de divulgation d‚Äôattributs sensibles:\n\n\nCode\nindiv_1diverses &lt;- which(lfs_sdc@risk$ldiversity[,\"ACTEU_Distinct_Ldiversity\"]==1)\n\nlfs_2023|&gt;\n  slice(indiv_1diverses)|&gt; \n  filter(ACTEU == 2)|&gt;\n  nrow()\n\n\n[1] 27\n\n\n\n\n\n\n\nCode\nhead(lfs_sdc@risk$individual)\n\n\n           risk fk Fk\n[1,] 0.02777778 36 36\n[2,] 0.04166667 24 24\n[3,] 0.33333333  3  3\n[4,] 0.03448276 29 29\n[5,] 0.04000000 25 25\n[6,] 0.02173913 46 46\n\n\n\nrisk : risque individuel d√©fini par \\(\\frac{1}{fk}\\) si le fichier est une population\nfk : nombre d‚Äôindividus du fichier partageant les m√™mes cl√©s (croisements de quasi-identifiants)\nFk : nombre d‚Äôindividus dans la population partageant les m√™mes cl√©s (croisements de quasi-identifiants)\n\nLe risque de r√©-identification est calcul√© diff√©remment selon que l‚Äôon a affaire √† une population ou √† un √©chantillon.\n\n\n\n\n\n\nNoteEchantillon et Population\n\n\n\n\n\nSi le jeu de donn√©es √©tudi√© correspond √† une population (fichier exhaustif du champ), alors \\(fk = Fk = \\sum_i{ 1(i \\in k)}\\), le nombre d‚Äôindividus \\(i\\) partageant la cl√© \\(k\\).\nDans ce cas, le risque de r√©-identification d‚Äôun individu est d√©fini par \\(r_k = 1/f_k = 1/F_k\\) et correspond √† la probabilit√© de r√©-identifier l‚Äôindividu correctement si on conna√Æt ses caract√©ristiques \\(k\\) sur les variables quasi-identifiantes.\nEn se reportant aux premi√®res lignes du tableau des risques pr√©sent√© ci-dessous que la colonne risk est bien √©gale √† 1/fk.\n\n\nCode\nhead(lfs_sdc@risk$individual)\n\n\n           risk fk Fk\n[1,] 0.02777778 36 36\n[2,] 0.04166667 24 24\n[3,] 0.33333333  3  3\n[4,] 0.03448276 29 29\n[5,] 0.04000000 25 25\n[6,] 0.02173913 46 46\n\n\nDans notre jeu de donn√©es, la distribution du risque individuel est la suivante (on multiplie par 100 pour l‚Äôinterpr√©ter comme le pourcentage de chances de correctement r√©-identifier l‚Äôindividu):\n\n\nCode\nhist(lfs_sdc@risk$individual[,\"risk\"]*100)\n\n\n\n\n\n\n\n\n\nLa grande partie des individus ont un risque inf√©rieur √† \\(20\\%\\). On note qu‚Äôil y a des individus dont le risque est maximal, en revanche. Il s‚Äôagit d‚Äôindividus uniques pour les cl√©s que nous avons choisies:\n\n\nCode\nsum(lfs_sdc@risk$individual[,\"risk\"] == 1)\n\n\n[1] 77\n\n\n\n\n\nSi, au contraire, il s‚Äôagit d‚Äôun √©chantillon, on distinguera:\n\n\\(fk = \\sum_{i \\in S}{ 1(i \\in k)}\\)\n\\(Fk = \\sum_{i \\in S}{  w_i \\times 1(i \\in k)}\\)\n\no√π \\(S\\) d√©signe l‚Äô√©chantillon (le fichier) et \\(w_i\\) le poids de l‚Äôindividu \\(i \\in S\\).\nEn revanche, la colonne risk n‚Äôest pas calcul√©e directement √† partir des \\(F_k\\). En effet, un tel risque est jug√© trop conservateur et conduit √† surestimer le risque de r√©-identification (Templ, Kowarik, and Meindl 2015; et Rinott and Shlomo 2006). En effet, les \\(F_k\\) sont en r√©alit√© des estimations. Une approche bay√©sienne est pr√©f√©r√©e (voir la pr√©sentation sur les mesures de risque pour plus de d√©tails).\n\n\nCode\nset.seed(14789)\n\nN = 1e6\nn = nrow(lfs_2023)\n\nw = N/n + rnorm(n-1, -2/(n-1), 2)\nw = c(w, N-sum(w))\nlfs_samp &lt;- lfs_2023 |&gt; \n  mutate(poids = sample(w, n, replace=TRUE))\n\n\n\n\nCode\nlfs_sdc_samp &lt;- sdcMicro::createSdcObj(\n  lfs_samp,\n  keyVars = qi_vars_IIc,\n  weightVar = \"poids\"\n)\n\n\nLe risque global moyen de r√©-identification est alors (en %):\n\n\nCode\nlfs_sdc_samp@risk$global$risk * 100\n\n\n[1] 0.1868871\n\n\nEn prenant en compte les poids de l‚Äô√©chantillon, on a suppos√© en r√©alit√© le sc√©nario d‚Äôattaque suivant:\n\nl‚Äôattaquant cherche √† r√©-identifier des personnes de l‚Äô√©chantillon √† partir d‚Äôinformations qu‚Äôil dispose sur la population\nmais il ne sait pas si un individu a √©t√© enqu√™t√© ou non.\n\nAinsi cette mesure de risque est pertinente si la connaissance de l‚Äôinclusion d‚Äôune personne dans l‚Äô√©chantillon est jug√©e trop peu r√©aliste.\nEn revanche, si l‚Äôinclusion d‚Äôune unit√© est certaine ou presque, il est pr√©f√©rable de mesurer ce risque au niveau de l‚Äô√©chantillon. C‚Äôest le cas par exemple pour les enqu√™tes entreprises qui incluent √©chantillonnent syst√©matiquement les tr√®s grandes entreprises.\nAu niveau individuel, le risque de r√©-identification dans a population est √©galement beaucoup plus faible:\n\n\nCode\nhead(lfs_sdc_samp@risk$individual)\n\n\n             risk fk         Fk\n[1,] 0.0009641090 36 1065.83365\n[2,] 0.0014528593 24  717.18039\n[3,] 0.0168594121  3   87.47107\n[4,] 0.0011948446 29  865.78354\n[5,] 0.0013632238 25  763.07839\n[6,] 0.0007567189 46 1349.83893\n\n\n\n\nCode\nhist(lfs_sdc_samp@risk$individual[,\"risk\"]*100)\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks &lt;- lfs_sdc_samp@risk$individual |&gt;\n  as.data.frame() |&gt;\n  mutate(risk_sample = 1/fk, risk_pop=1/Fk) \n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_pop, y=risk)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_sample, y=risk)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_sample, y=risk_pop)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\nRegardons l‚Äôindividu le plus √† risque:\n\n\nCode\nmax_risk &lt;- which.max(lfs_sdc_samp@risk$individual[,\"risk\"])\nlfs_sdc_samp@risk$individual[max_risk,]\n\n\n      risk         fk         Fk \n 0.1432643  1.0000000 22.8362004 \n\n\nCode\nlfs_samp |&gt; slice(max_risk)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     76     11    113      2    35     25      1      9     51      99   128\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM   poids\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;   &lt;num&gt;\n1:        10     64      2     30       0 22.8362\n\n\n\n\n\n\nRinott, Yosef, and Natalie Shlomo. 2006. ‚ÄúA Generalized Negative Binomial Smoothing Model for Sample Disclosure Risk Estimation.‚Äù In Privacy in Statistical Databases, edited by Josep Domingo-Ferrer and Luisa Franconi, 82‚Äì93. Berlin, Heidelberg: Springer. https://doi.org/10.1007/11930242_8.\n\nTempl, Matthias, Alexander Kowarik, and Bernhard Meindl. 2015. ‚ÄúStatistical Disclosure Control for Micro-Data Using the r Package sdcMicro.‚Äù Journal of Statistical Software 67 (4). https://doi.org/10.18637/jss.v067.i04.\n\n\n\nQuel est le risque de r√©-identification dans le fichier public mis √† disposition par l‚ÄôInsee sur son site internet ?\nLe fichier d√©tail et sa documentation sont disponibles ici.\nT√©l√©chargeons le fichier:\n\n\nCode\noptions(timeout = 6000)\n\ndownload.file(\n  destfile = \"lfs_micro_fr_2023.zip\",\n  url = \"https://www.insee.fr/fr/statistiques/fichier/8241122/FD_csv_EEC23.zip\"\n)\n\nunzip(zipfile = \"lfs_micro_fr_2023.zip\", exdir = \".\")\n\n\n\n\nCode\npuf_lfs = data.table::fread(\n  \"FD_csv_EEC23.csv\"\n) %&gt;% \n  # On conserve uniquement les m√©nages dont la personne est √¢g√©e entre 15 et 89 ans\n  filter(CHAMP_M_15_89 == 1) %&gt;% \n  select(-CHAMP_M_15_89)\n\n\n\n\nCode\ndim(puf_lfs)\n\n\nLa documentation des variables:\n\n\nCode\ndoc_lfs &lt;- data.table::fread(\n  \"Varmod_EEC_2023.csv\"\n) |&gt;   \n  select(COD_VAR, LIB_VAR) |&gt;\n  unique()|&gt;\n  as.data.frame()\ndoc_lfs\n\n\nQuelles variables du jeu pourraient servir √† la r√©-identification des individus enqu√™t√©s ?\nImaginons que l‚Äôattaquant dispose d‚Äôun fichier client tr√®s riche sur une tr√®s grande partie de la population fran√ßasise. Dans un tel sc√©nario, nous sommes amen√©s √† avoir une d√©finition extensive des variables quasi-identifiantes:\n\n\nCode\nqi_1 &lt;- c(\n  \"SEXE\",\n  \"AGE6\", # la classe d'√¢ge (6 cat√©gories)\n  \"ACTEU\", # le statut d'activit√© de la personne\n  \"DIP7\", # le niveau de dipl√¥me\n  \"METRODOM\", # le lieu de r√©sidence Hexagone ou Territoires Ultra-Marins\n  \"APCS1\", # Cat√©gorie socio-professionnelle du dernier emploi (6 classes)\n  \"STATUT\", # Statut dans l'emploi (salari√©, ind√©pendant)\n  \"STCOMM2020\", #Statut de la commune dans l'unit√© urbaine (information publique si on suppose que l'attauqant dispose des adresses des personnes)\n  \"SALTYP\", # Nature du contrat (Fonctionnaire, CDI, CDD, etc.)\n  \"PCS1Q\" # Cat√©gorie socio-professionnelle de l'emploi principal\n)\n\n\nD√©terminons le niveau de risque de r√©-identification:\n\n\nCode\npuf_sdc &lt;- sdcMicro::createSdcObj(\n  puf_lfs,\n  keyVars = qi_1,\n  weightVar = \"EXTRIAN\"\n)\n\n\nLe niveau d‚Äôanonyit√© de l‚Äô√©chantillon:\n\n\nCode\nprint(puf_sdc, 'kAnon')\n\n\nIl existe des uniques dans l‚Äô√©chantillon (1818).\nLe risque de r√©-identification √©valu√©e par la mesure globale fournie par sdcMicro est √©valu√©e √† 0.00078, soit moins de 0.1% de risque de r√©-identification, ce qui est tr√®s faible.\n\n\nCode\npuf_sdc@risk$global$risk\n\n\nSi la mesure globale est tr√®s faible, est-ce qu‚Äôil demeure des cas individuels probl√©matiques. En particulier: quel est le risque de r√©-identification des uniques de l‚Äô√©chantillon ?\n\n\nCode\nrisk_unique_echantillon &lt;- puf_sdc@risk$individual |&gt;\n  as.data.frame()|&gt;\n  filter(fk == 1)\n\nrisk_unique_echantillon |&gt;\n  pull(risk) |&gt;\n  quantile(probs=seq(0,1,.1))\n\n\nDans ce sc√©nario d‚Äôattaque, supposons que toute attaque avec une chance de r√©-identification sup√©rieure √† 50% est probl√©matique:\n\n\nCode\nrisk_unique_echantillon |&gt; \n  filter(risk &gt; 0.5) |&gt;\n  arrange(-risk)\n\n\nIl reste 11 individus, dont 1 avec un risque quasi certain d‚Äô√™tre r√©-identifi√© dans le sc√©nario que nous nous sommes fix√©s.\n\n\nCode\nmax_risk_puf &lt;- which.max(puf_sdc@risk$individual[,\"risk\"])\npuf_sdc@risk$individual[max_risk,]\npuf_lfs |&gt; slice(max_risk) |&gt; select(all_of(qi_1))\n\n\n\n\nQuelles sont les limites du sc√©nario envisag√© ci-dessus ?"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#les-donn√©es",
    "href": "pratique/fiches/mesurer-risque.html#les-donn√©es",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Code\nsource(\"../R/fun_risque.R\")\n\n\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#les-diff√©rents-types-de-variables",
    "href": "pratique/fiches/mesurer-risque.html#les-diff√©rents-types-de-variables",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Dans un jeu de donn√©es, on distingue trois grands types de variables:\n\nles quasi-identifiants: un ensemble de variables dont on suppose qu‚Äôun attaquant est susceptible de les avoir d√©j√† √† sa disposition.\nles variables sensibles: les variables portant sur des th√©matiques sensibles au sens de la Loi Informatique et Libert√©s (religion, opinion, orientation sexuelle, etc.), mais on peut aussi y inclure des variables dont la connaissance est susceptible de porter pr√©judice √† la personne (par exemple le salaire, le fait d‚Äôavoir une maladie, le fait d‚Äô√™tre au ch√¥mage, etc.).\nles variables ni identifiantes ni sensibles: celles qui a priori ne posent pas de probl√®me sp√©cifique en terme de confidentialit√©."
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#le-risque-de-r√©-identification-et-le-r√¥le-des-quasi-identifiants",
    "href": "pratique/fiches/mesurer-risque.html#le-risque-de-r√©-identification-et-le-r√¥le-des-quasi-identifiants",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Ainsi, le premier type de variables engendre un risque de divulgation d‚Äôinformation confidentielle par la possibilit√© pour l‚Äôattaquant de r√©-identifier des individus. En effet, si un ataquant dispose d‚Äôun fichier nomminatif - un fichier client par exemple - contenant des variables communes avec le jeu de donn√©es qu‚Äôon s‚Äôappr√™te √† publier, il est alors en mesure d‚Äôapparier les deux et √™tre en capacit√© de r√©-identifier des individus si ceux-ci se trouvent avoir des caract√©ristiques peu fr√©quentes.\n\n\nPrenons une liste tr√®s restreinte de quasi-identifiants: la g√©ographie de r√©sidence, le sexe et l‚Äô√¢ge de l‚Äôindividu. Ces informations sont disponibles par de nombreuses entreprises aupr√®s desquelles nous souscrivons des services (banque, assurance, t√©l√©phonie, etc.).\nEn d√©nombrant les individus de chaque croisement entre les variables quasi-identifiantes, on peut d√©tecter :\n\nle niveau d‚Äôanonymit√© du fichier au sens du k-anonymat: ici notre fichier est 1-anonyme puisqu‚Äôil contient de nombreux individus uniques dans leur cat√©gorie.\nla d√©tection des croisements et des individus les plus √† risque: &gt; Moins il y a d‚Äôindividus dans un groupe, plus la probabilit√© de r√©-identification par l‚Äôattaquant est forte. Dans le cas d‚Äôun groupe unique, la r√©-identification est m√™me certaine.\n\n\n\nCode\nqi_vars_I &lt;- c(\"REG\",\"DEP\",\"ARR\", \"SEXE\", \"AGE\")\nfreq_qi_vars &lt;- lfs_2023 |&gt; count(across(all_of(qi_vars_I))) \nfreq_qi_vars |&gt; arrange(n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    97     1\n2:     11     75    751      2   102     1\n3:     11     75    751      2   103     1\n4:     11     75    751      2   116     1\n5:     11     77    771      1    15     1\n6:     11     77    771      1    18     1\n\n\nCode\nfreq_qi_vars |&gt; arrange(-n) |&gt; head()\n\n\n      REG    DEP    ARR   SEXE   AGE     n\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;int&gt;\n1:     11     75    751      2    52    43\n2:     11     75    751      1    51    39\n3:     11     75    751      1    21    36\n4:     11     75    751      2    60    36\n5:     11     75    751      2    61    36\n6:     11     75    751      1    55    35\n\n\nAinsi, si une entreprise de notre contr√©e imaginaire dispose d‚Äôun fichier sur tout ou partie de la population en √¢ge de travailler (par exemple un op√©rateur t√©l√©phonique), il pourra r√©-identifier sans peine les individus uniques du jeu de donn√©es qui seraient pr√©sents dans son fchier.\nLa capacit√© d‚Äôun attaquant √† pouvoir r√©-identifier un individu d√©pend du nombre d‚Äôindividus du jeu de donn√©es qui partagent les m√™mes caract√©ristiques sur les variables quasi-identifiantes.\nPar exemple, si Th√©r√®se est une femme de 97 ans r√©sidant dans l‚Äôarrondissement 751, alors le jeu de donn√©es permet de la r√©-identifier de fa√ßon certaine, puisqu‚Äôelle serait la seule dans ce cas.\nAu contraire, si Th√©r√®se est une femme de 52 ans r√©sidant dans le m√™me arrondissement, alors la probabilit√© de la r√©-identifier dans le jeu de donn√©es avec ces seules informations serait de 1 chance sur 43.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nChoisir les variables quasi-identifiantes est un exercice difficile puisqu‚Äôen g√©n√©ral, nous n‚Äôavons pas une id√©e exacte des donn√©es √† la disposition des attaquants potentiels. Il faut donc d√©finir un sc√©nario th√©orique suffisamment r√©aliste pour s‚Äôassurer de prot√©ger les donn√©es individuelles des risques de r√©-identification les plus importants.\nEn choisissant le premier jeu de variables quasi-identifiantes (g√©ographie, sexe et √¢ge), on consid√®re le jeu minimal de quasi-idenfiants. L‚Äôextr√™me inverse consisterait √† consid√©rer toutes les variable comme des quasi-identifiants. Dans le premier cas, on d√©finit un sc√©nario minimaliste, dans le second le sc√©nario est maximaliste.\nDans notre jeu de donn√©es fictif sur l‚Äôemploi et le ch√¥mage, on pourrait d√©finir\n\nun sc√©nario minimaliste: l‚Äôattaquant ne dispose que de la g√©ographie, du sexe et de l‚Äô√¢ge de ses clients\nun sc√©nario interm√©diaire: l‚Äôattaquant dispose en plus d‚Äôinformations sur son niveau de dipl√¥me\nun sc√©nario maximaliste: l‚Äôattaquant dispose en r√©alit√© de toutes les informations sur les individus sauf de son anciennet√© au ch√¥mage.\n\nSelon ces trois sc√©narios, le niveau de risque de r√©-identifcation des individus ne sera pas le m√™me\n\n\nCode\nqi_vars_II &lt;- c(qi_vars_I, \"DIP7\")\nqi_vars_III &lt;- c(names(lfs_2023)[!names(lfs_2023) %in% c(\"ANCCHOM\")])\n\nrisques_reident &lt;- \n  list(\"I\" = qi_vars_I, \n       \"II\" = qi_vars_II,\n       \"III\" = qi_vars_III) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\nLoading required package: tidyr\n\n\n\n\nCode\nggplot(risques_reident$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilit√©\", type = \"seq\", palette = 7) +\n  labs(x=\"Sc√©nario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilit√© de r√©-identification des individus selon le sc√©nario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nrisques_reident$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de r√©-identification des individus en fonction du sc√©nario\",\n    digits = 3\n  )\n\n\n\nRisque de r√©-identification des individus en fonction du sc√©nario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nI\n0.508\n0.125\n0.333\n1\n8.090\n\n\nII\n0.802\n0.333\n1.000\n1\n41.641\n\n\nIII\n0.977\n1.000\n1.000\n1\n91.102\n\n\n\n\n\n\n\n\n\n\n\nWarningDes variables tr√®s efficaces pour la r√©-identification\n\n\n\nCertaines variables ont un pouvoir de r√©-identification tr√®s fort, en particulier :\n\nla g√©ographie (de r√©sidence, de travail, d‚Äôimplantation): plus elle est pr√©cise plus la r√©-identification est ais√©e, d‚Äôautant plus que l‚Äôadresse est souvent par ailleurs une donn√©e tr√®s largement partag√©e par les individus et les entreprises.\nl‚Äô√¢ge est √©galement tr√®s r√©-identifiant puisqu‚Äôil est √† la fois public avec la disponibilit√© de l‚Äô√©tat-civil et concerne, pour certains √¢ges avanc√©s, peu d‚Äôindividus. Ainsi, si la personne la plus √¢g√©e r√©sidant en France est dans notre fichier, nous avons toutes les chances de la r√©-identifier de fa√ßon certaine en ne connaissant que son √¢ge.\n\nPour r√©duire le risque de r√©-identification, il est souvent tr√®s efficace de choisir de diffuser des variables d‚Äô√¢ge et de g√©ographie agr√©g√©es.\nComparons, par exemple, trois sc√©narios alternatifs au sc√©nario II pr√©sent√© ci-dessus:\n\nsc√©nario II-a: le lieu de r√©sidence n‚Äôest plus diffus√© √† l‚Äôarrondisement mais au d√©partement.\nsc√©nario II-b: l‚Äô√¢ge d√©taill√© est remplac√© par 5 tranches d‚Äô√¢ges.\nsc√©nario II-c: combinaison des deux sc√©narios ci-dessus.\n\n\n\nCode\nqi_vars_IIa &lt;- c(\"REG\", \"DEP\", \"SEXE\", \"AGE\", \"DIP7\")\nqi_vars_IIb &lt;-  c(\"REG\", \"DEP\", \"ARR\", \"SEXE\",  \"AGE6\", \"DIP7\")\nqi_vars_IIc &lt;- c(\"REG\", \"DEP\", \"SEXE\", \"AGE6\", \"DIP7\")\n\nrisques_reident2 &lt;- list(\n  \"II\" = qi_vars_II, \n  \"IIa\" = qi_vars_IIa, \n  \"IIb\" = qi_vars_IIb, \n  \"IIc\" = qi_vars_IIc) |&gt;\n  comparer_risque_reidentification(data = lfs_2023)\n\n\n\n\nCode\nrisques_reident2$r_stats |&gt;\n  knitr::kable(\n    caption = \"Risque de r√©-identification des individus en fonction du sc√©nario\",\n    digits = 3\n  )\n\n\n\nRisque de r√©-identification des individus en fonction du sc√©nario\n\n\nscenario\np_moy\np_d1\np_med\np_d9\npart_uniques\n\n\n\n\nII\n0.802\n0.333\n1.000\n1.0\n41.641\n\n\nIIa\n0.650\n0.200\n0.500\n1.0\n19.637\n\n\nIIb\n0.275\n0.042\n0.167\n1.0\n1.022\n\n\nIIc\n0.168\n0.016\n0.074\n0.5\n0.226\n\n\n\n\n\n\n\nCode\nggplot(risques_reident2$r_graph |&gt; ungroup()) +\n  geom_bar(aes(fill=p_cl, x = scenario, y = n), \n           stat = \"identity\", alpha = 0.6, color = \"grey25\", position = \"dodge\") +\n  scale_fill_brewer(\"Probabilit√©\", type = \"seq\", palette = 7) +\n  labs(x=\"Sc√©nario\", y=\"Nb d'individus\") +\n  ggtitle(\"Probabilit√© de r√©-identification des individus selon le sc√©nario\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nEn r√©duisant le d√©tail g√©ographique, on a ici divis√© par deux la part des uniques. Mais en passant √† 6 tranches d‚Äô√¢ges, celle-ci est divis√©e par 20!\nAinsi, les traitements les plus simples (recoder une variable) sont parfois les plus efficaces pour r√©duire massivement les risques individuels, m√™me si cela ne les annihile pas tous.\n\n\n\n\n\nLe package sdcMicro permet de mesurer les risques de r√©-identification et le niveau d‚Äôanonymit√© d‚Äôun jeu de donn√©es individuelles assez simplement.\nDans un premier temps, on initialise un objet de la classe sdcMicroObj en mentionnant uniquement le jeu de donn√©es et les variables consid√©r√©es comme quasi-identfiantes.\n\n\nCode\nlfs_sdc &lt;- sdcMicro::createSdcObj(\n  lfs_2023,\n  keyVars = qi_vars_IIc\n)\n\n\nLa fonction cr√©e un objet dans une classe S4. Les diff√©rents attributs de l‚Äôobjet (on dit des slots) sont donc accessibles avec le symbole @.\nLes attributs disponibles pour un tel objet sont les suivants:\n\n\nCode\nslotNames(lfs_sdc)\n\n\n [1] \"origData\"          \"keyVars\"           \"pramVars\"         \n [4] \"numVars\"           \"ghostVars\"         \"weightVar\"        \n [7] \"hhId\"              \"strataVar\"         \"sensibleVar\"      \n[10] \"manipKeyVars\"      \"manipPramVars\"     \"manipNumVars\"     \n[13] \"manipGhostVars\"    \"manipStrataVar\"    \"originalRisk\"     \n[16] \"risk\"              \"utility\"           \"pram\"             \n[19] \"localSuppression\"  \"options\"           \"additionalResults\"\n[22] \"set\"               \"prev\"              \"deletedVars\"      \n\n\nLors de la cr√©ation de l‚Äôobjet, un certain nombre de m√©triques de risque ont √©t√© calcul√©es. D‚Äôun point de vue global, la proportion d‚Äôindividus √† risque de r√©-identification est une mesure calcul√©e √† partir des groupes constitu√©s par les quasi-identifiants. Il s‚Äôagit du risque moyen qu‚Äôun individu de la base de donn√©e soit r√©-identifi√©: \\[ R = \\frac{1}{n} \\sum_i{ r_i }\\], o√π \\(r_i\\) est le risque pour l‚Äôindividu \\(i\\) d‚Äô√™tre r√©-identifi√© (voir plus bas pour plus de pr√©cision).\n\n\nCode\nlfs_sdc@risk$global$risk * 100\n\n\n[1] 4.269815\n\n\nLe nombre de r√©-identifications auxquelles on peut s‚Äôattendre en moyenne (risque global * n) est fourni par:\n\n\nCode\nlfs_sdc@risk$global$risk_ER\n\n\n[1] 1454\n\n\nOn peut √©galement retrouver la part d‚Äôindividus √† risque au sens du \\(k\\)-anonymat:\n\n\nCode\nprint(lfs_sdc, 'kAnon')\n\n\nInfos on 2/3-Anonymity:\n\nNumber of observations violating\n  - 2-anonymity: 77 (0.226%)\n  - 3-anonymity: 267 (0.784%)\n  - 5-anonymity: 825 (2.423%)\n\n----------------------------------------------------------------------\n\n\nOn observe en particulier que \\(77\\) individus sont uniques sur les cl√©s utilis√©es (\\(2\\)-anonymity).\nou pour d‚Äôautres valeurs de \\(k\\), on peut faire, par exemple, pour \\(k=10\\):\n\n\nCode\nmean(lfs_sdc@risk$individual[,\"fk\"] &lt; 10)*100\n\n\n[1] 7.335624"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#le-risque-de-divulgation-dattributs-sensibles",
    "href": "pratique/fiches/mesurer-risque.html#le-risque-de-divulgation-dattributs-sensibles",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "On suppose que ACTEU est une variable sensible. Pour r√©duire le risque de divulgation d‚Äôattributs sur cette variable, on peut mesure la \\(l\\)-diversit√© du fichier et √™tre particulier vigilant aux groupes de quasi-identifiants qui seraient constitu√©s d‚Äôindividus partageant la m√™me cat√©gorie.\n\n\nCode\nlfs_sdc &lt;- ldiversity(obj = lfs_sdc, ldiv_index = c(\"ACTEU\"), missing = NA)\nlfs_sdc@risk$ldiversity\n\n\n--------------------------\n\n\nL-Diversity Measures \n\n\n--------------------------\n\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  1.000   2.000   2.000   2.325   3.000   3.000 \n\n\nCalculons la part d‚Äôindividus pr√©sents dans un groupe ne comptant qu‚Äôune seule des trois cat√©gories:\n\n\nCode\nmean(lfs_sdc@risk$ldiversity[,\"ACTEU_Distinct_Ldiversity\"]==1)*100\n\n\n[1] 15.69612\n\n\nEn r√©alit√©, parmi les trois cat√©gories de la variable, une seule est r√©ellement sensible: il s‚Äôagit de la cat√©gorie 2 correspondant aux personnes au ch√¥mage.\nV√©rifions le nombre d‚Äôindividus r√©ellement √† risque de divulgation d‚Äôattributs sensibles:\n\n\nCode\nindiv_1diverses &lt;- which(lfs_sdc@risk$ldiversity[,\"ACTEU_Distinct_Ldiversity\"]==1)\n\nlfs_2023|&gt;\n  slice(indiv_1diverses)|&gt; \n  filter(ACTEU == 2)|&gt;\n  nrow()\n\n\n[1] 27"
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#les-mesures-du-risque-individuel",
    "href": "pratique/fiches/mesurer-risque.html#les-mesures-du-risque-individuel",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Code\nhead(lfs_sdc@risk$individual)\n\n\n           risk fk Fk\n[1,] 0.02777778 36 36\n[2,] 0.04166667 24 24\n[3,] 0.33333333  3  3\n[4,] 0.03448276 29 29\n[5,] 0.04000000 25 25\n[6,] 0.02173913 46 46\n\n\n\nrisk : risque individuel d√©fini par \\(\\frac{1}{fk}\\) si le fichier est une population\nfk : nombre d‚Äôindividus du fichier partageant les m√™mes cl√©s (croisements de quasi-identifiants)\nFk : nombre d‚Äôindividus dans la population partageant les m√™mes cl√©s (croisements de quasi-identifiants)\n\nLe risque de r√©-identification est calcul√© diff√©remment selon que l‚Äôon a affaire √† une population ou √† un √©chantillon.\n\n\n\n\n\n\nNoteEchantillon et Population\n\n\n\n\n\nSi le jeu de donn√©es √©tudi√© correspond √† une population (fichier exhaustif du champ), alors \\(fk = Fk = \\sum_i{ 1(i \\in k)}\\), le nombre d‚Äôindividus \\(i\\) partageant la cl√© \\(k\\).\nDans ce cas, le risque de r√©-identification d‚Äôun individu est d√©fini par \\(r_k = 1/f_k = 1/F_k\\) et correspond √† la probabilit√© de r√©-identifier l‚Äôindividu correctement si on conna√Æt ses caract√©ristiques \\(k\\) sur les variables quasi-identifiantes.\nEn se reportant aux premi√®res lignes du tableau des risques pr√©sent√© ci-dessous que la colonne risk est bien √©gale √† 1/fk.\n\n\nCode\nhead(lfs_sdc@risk$individual)\n\n\n           risk fk Fk\n[1,] 0.02777778 36 36\n[2,] 0.04166667 24 24\n[3,] 0.33333333  3  3\n[4,] 0.03448276 29 29\n[5,] 0.04000000 25 25\n[6,] 0.02173913 46 46\n\n\nDans notre jeu de donn√©es, la distribution du risque individuel est la suivante (on multiplie par 100 pour l‚Äôinterpr√©ter comme le pourcentage de chances de correctement r√©-identifier l‚Äôindividu):\n\n\nCode\nhist(lfs_sdc@risk$individual[,\"risk\"]*100)\n\n\n\n\n\n\n\n\n\nLa grande partie des individus ont un risque inf√©rieur √† \\(20\\%\\). On note qu‚Äôil y a des individus dont le risque est maximal, en revanche. Il s‚Äôagit d‚Äôindividus uniques pour les cl√©s que nous avons choisies:\n\n\nCode\nsum(lfs_sdc@risk$individual[,\"risk\"] == 1)\n\n\n[1] 77\n\n\n\n\n\nSi, au contraire, il s‚Äôagit d‚Äôun √©chantillon, on distinguera:\n\n\\(fk = \\sum_{i \\in S}{ 1(i \\in k)}\\)\n\\(Fk = \\sum_{i \\in S}{  w_i \\times 1(i \\in k)}\\)\n\no√π \\(S\\) d√©signe l‚Äô√©chantillon (le fichier) et \\(w_i\\) le poids de l‚Äôindividu \\(i \\in S\\).\nEn revanche, la colonne risk n‚Äôest pas calcul√©e directement √† partir des \\(F_k\\). En effet, un tel risque est jug√© trop conservateur et conduit √† surestimer le risque de r√©-identification (Templ, Kowarik, and Meindl 2015; et Rinott and Shlomo 2006). En effet, les \\(F_k\\) sont en r√©alit√© des estimations. Une approche bay√©sienne est pr√©f√©r√©e (voir la pr√©sentation sur les mesures de risque pour plus de d√©tails).\n\n\nCode\nset.seed(14789)\n\nN = 1e6\nn = nrow(lfs_2023)\n\nw = N/n + rnorm(n-1, -2/(n-1), 2)\nw = c(w, N-sum(w))\nlfs_samp &lt;- lfs_2023 |&gt; \n  mutate(poids = sample(w, n, replace=TRUE))\n\n\n\n\nCode\nlfs_sdc_samp &lt;- sdcMicro::createSdcObj(\n  lfs_samp,\n  keyVars = qi_vars_IIc,\n  weightVar = \"poids\"\n)\n\n\nLe risque global moyen de r√©-identification est alors (en %):\n\n\nCode\nlfs_sdc_samp@risk$global$risk * 100\n\n\n[1] 0.1868871\n\n\nEn prenant en compte les poids de l‚Äô√©chantillon, on a suppos√© en r√©alit√© le sc√©nario d‚Äôattaque suivant:\n\nl‚Äôattaquant cherche √† r√©-identifier des personnes de l‚Äô√©chantillon √† partir d‚Äôinformations qu‚Äôil dispose sur la population\nmais il ne sait pas si un individu a √©t√© enqu√™t√© ou non.\n\nAinsi cette mesure de risque est pertinente si la connaissance de l‚Äôinclusion d‚Äôune personne dans l‚Äô√©chantillon est jug√©e trop peu r√©aliste.\nEn revanche, si l‚Äôinclusion d‚Äôune unit√© est certaine ou presque, il est pr√©f√©rable de mesurer ce risque au niveau de l‚Äô√©chantillon. C‚Äôest le cas par exemple pour les enqu√™tes entreprises qui incluent √©chantillonnent syst√©matiquement les tr√®s grandes entreprises.\nAu niveau individuel, le risque de r√©-identification dans a population est √©galement beaucoup plus faible:\n\n\nCode\nhead(lfs_sdc_samp@risk$individual)\n\n\n             risk fk         Fk\n[1,] 0.0009641090 36 1065.83365\n[2,] 0.0014528593 24  717.18039\n[3,] 0.0168594121  3   87.47107\n[4,] 0.0011948446 29  865.78354\n[5,] 0.0013632238 25  763.07839\n[6,] 0.0007567189 46 1349.83893\n\n\n\n\nCode\nhist(lfs_sdc_samp@risk$individual[,\"risk\"]*100)\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks &lt;- lfs_sdc_samp@risk$individual |&gt;\n  as.data.frame() |&gt;\n  mutate(risk_sample = 1/fk, risk_pop=1/Fk) \n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_pop, y=risk)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_sample, y=risk)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\n\n\nCode\nall_risks |&gt;\n  ggplot(aes(x=risk_sample, y=risk_pop)) +\n  geom_point() +\n  geom_abline(slope = 1, intercept = 0, color = 'darkred')\n\n\n\n\n\n\n\n\n\nRegardons l‚Äôindividu le plus √† risque:\n\n\nCode\nmax_risk &lt;- which.max(lfs_sdc_samp@risk$individual[,\"risk\"])\nlfs_sdc_samp@risk$individual[max_risk,]\n\n\n      risk         fk         Fk \n 0.1432643  1.0000000 22.8362004 \n\n\nCode\nlfs_samp |&gt; slice(max_risk)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     76     11    113      2    35     25      1      9     51      99   128\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM   poids\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;   &lt;num&gt;\n1:        10     64      2     30       0 22.8362\n\n\n\n\n\n\nRinott, Yosef, and Natalie Shlomo. 2006. ‚ÄúA Generalized Negative Binomial Smoothing Model for Sample Disclosure Risk Estimation.‚Äù In Privacy in Statistical Databases, edited by Josep Domingo-Ferrer and Luisa Franconi, 82‚Äì93. Berlin, Heidelberg: Springer. https://doi.org/10.1007/11930242_8.\n\nTempl, Matthias, Alexander Kowarik, and Bernhard Meindl. 2015. ‚ÄúStatistical Disclosure Control for Micro-Data Using the r Package sdcMicro.‚Äù Journal of Statistical Software 67 (4). https://doi.org/10.18637/jss.v067.i04."
  },
  {
    "objectID": "pratique/fiches/mesurer-risque.html#exercice-pratique",
    "href": "pratique/fiches/mesurer-risque.html#exercice-pratique",
    "title": "Assessing the disclosure risks",
    "section": "",
    "text": "Quel est le risque de r√©-identification dans le fichier public mis √† disposition par l‚ÄôInsee sur son site internet ?\nLe fichier d√©tail et sa documentation sont disponibles ici.\nT√©l√©chargeons le fichier:\n\n\nCode\noptions(timeout = 6000)\n\ndownload.file(\n  destfile = \"lfs_micro_fr_2023.zip\",\n  url = \"https://www.insee.fr/fr/statistiques/fichier/8241122/FD_csv_EEC23.zip\"\n)\n\nunzip(zipfile = \"lfs_micro_fr_2023.zip\", exdir = \".\")\n\n\n\n\nCode\npuf_lfs = data.table::fread(\n  \"FD_csv_EEC23.csv\"\n) %&gt;% \n  # On conserve uniquement les m√©nages dont la personne est √¢g√©e entre 15 et 89 ans\n  filter(CHAMP_M_15_89 == 1) %&gt;% \n  select(-CHAMP_M_15_89)\n\n\n\n\nCode\ndim(puf_lfs)\n\n\nLa documentation des variables:\n\n\nCode\ndoc_lfs &lt;- data.table::fread(\n  \"Varmod_EEC_2023.csv\"\n) |&gt;   \n  select(COD_VAR, LIB_VAR) |&gt;\n  unique()|&gt;\n  as.data.frame()\ndoc_lfs\n\n\nQuelles variables du jeu pourraient servir √† la r√©-identification des individus enqu√™t√©s ?\nImaginons que l‚Äôattaquant dispose d‚Äôun fichier client tr√®s riche sur une tr√®s grande partie de la population fran√ßasise. Dans un tel sc√©nario, nous sommes amen√©s √† avoir une d√©finition extensive des variables quasi-identifiantes:\n\n\nCode\nqi_1 &lt;- c(\n  \"SEXE\",\n  \"AGE6\", # la classe d'√¢ge (6 cat√©gories)\n  \"ACTEU\", # le statut d'activit√© de la personne\n  \"DIP7\", # le niveau de dipl√¥me\n  \"METRODOM\", # le lieu de r√©sidence Hexagone ou Territoires Ultra-Marins\n  \"APCS1\", # Cat√©gorie socio-professionnelle du dernier emploi (6 classes)\n  \"STATUT\", # Statut dans l'emploi (salari√©, ind√©pendant)\n  \"STCOMM2020\", #Statut de la commune dans l'unit√© urbaine (information publique si on suppose que l'attauqant dispose des adresses des personnes)\n  \"SALTYP\", # Nature du contrat (Fonctionnaire, CDI, CDD, etc.)\n  \"PCS1Q\" # Cat√©gorie socio-professionnelle de l'emploi principal\n)\n\n\nD√©terminons le niveau de risque de r√©-identification:\n\n\nCode\npuf_sdc &lt;- sdcMicro::createSdcObj(\n  puf_lfs,\n  keyVars = qi_1,\n  weightVar = \"EXTRIAN\"\n)\n\n\nLe niveau d‚Äôanonyit√© de l‚Äô√©chantillon:\n\n\nCode\nprint(puf_sdc, 'kAnon')\n\n\nIl existe des uniques dans l‚Äô√©chantillon (1818).\nLe risque de r√©-identification √©valu√©e par la mesure globale fournie par sdcMicro est √©valu√©e √† 0.00078, soit moins de 0.1% de risque de r√©-identification, ce qui est tr√®s faible.\n\n\nCode\npuf_sdc@risk$global$risk\n\n\nSi la mesure globale est tr√®s faible, est-ce qu‚Äôil demeure des cas individuels probl√©matiques. En particulier: quel est le risque de r√©-identification des uniques de l‚Äô√©chantillon ?\n\n\nCode\nrisk_unique_echantillon &lt;- puf_sdc@risk$individual |&gt;\n  as.data.frame()|&gt;\n  filter(fk == 1)\n\nrisk_unique_echantillon |&gt;\n  pull(risk) |&gt;\n  quantile(probs=seq(0,1,.1))\n\n\nDans ce sc√©nario d‚Äôattaque, supposons que toute attaque avec une chance de r√©-identification sup√©rieure √† 50% est probl√©matique:\n\n\nCode\nrisk_unique_echantillon |&gt; \n  filter(risk &gt; 0.5) |&gt;\n  arrange(-risk)\n\n\nIl reste 11 individus, dont 1 avec un risque quasi certain d‚Äô√™tre r√©-identifi√© dans le sc√©nario que nous nous sommes fix√©s.\n\n\nCode\nmax_risk_puf &lt;- which.max(puf_sdc@risk$individual[,\"risk\"])\npuf_sdc@risk$individual[max_risk,]\npuf_lfs |&gt; slice(max_risk) |&gt; select(all_of(qi_1))\n\n\n\n\nQuelles sont les limites du sc√©nario envisag√© ci-dessus ?"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html",
    "href": "pratique/fiches/proteger-micro-pram.html",
    "title": "Appliquer PRAM",
    "section": "",
    "text": "Code\nlibrary(dplyr)\nlibrary(sdcMicro)"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html#pram-g√©n√©ral",
    "href": "pratique/fiches/proteger-micro-pram.html#pram-g√©n√©ral",
    "title": "Appliquer PRAM",
    "section": "PRAM g√©n√©ral",
    "text": "PRAM g√©n√©ral\n\n1. D√©finir la matrice de transition\nLa matrice de transition pr√©sente la probabilit√© qu‚Äôune modalit√© soit chang√©e en une autre pour tous les changements possibles.\n\n\nCode\nmat &lt;- matrix(\n  c(0.7,0.2,0.1,\n    0.3, 0.6, 0.1,\n    0.1, 0.1, 0.8\n  ),\n  nrow = 3,\n  byrow = TRUE\n)\nrow.names(mat) &lt;- colnames(mat) &lt;- levels(lfs_2023$ACTEU)\n\nprint(mat)\n\n\n        emploi chomage inactif\nemploi     0.7     0.2     0.1\nchomage    0.3     0.6     0.1\ninactif    0.1     0.1     0.8\n\n\nDans cet exemple, la probabilit√© qu‚Äôun individu en emploi reste en emploi est de 70%, alors que la probabilit√© qu‚Äôun individu en emploi passe au ch√¥mage est de 20%.\n\n\n2. Appliquer un pram g√©n√©ral\nOn appelle la fonction pram() et on pr√©cise la matrice de transition avec le param√®tre pd.\n\n\nCode\nset.seed(12345) # graine pour la reproductibilit√© des r√©sultats\n\npram_1 &lt;- pram(\n  lfs_2023, # donn√©es\n  variables = \"ACTEU\", # variable sensible\n  pd = mat, # matrice de transition\n  alpha = NA\n)\n\nsummary(pram_1)\n\n\nVariable: ACTEU\n\n\n\n ----------------------\n\n\n\nFrequencies in original and perturbed data:\n\n\n                            ACTEU emploi chomage inactif     NA\n                           &lt;char&gt; &lt;char&gt;  &lt;char&gt;  &lt;char&gt; &lt;char&gt;\n1:           Original Frequencies  16878    1362   15813      0\n2: Frequencies after Perturbation  13785    5784   14484      0\n\n\n\nTransitions:\n\n\n   transition Frequency\n       &lt;char&gt;     &lt;int&gt;\n1:    1 --&gt; 1     11846\n2:    1 --&gt; 2      3392\n3:    1 --&gt; 3      1640\n4:    2 --&gt; 1       372\n5:    2 --&gt; 2       855\n6:    2 --&gt; 3       135\n7:    3 --&gt; 1      1567\n8:    3 --&gt; 2      1537\n9:    3 --&gt; 3     12709\n\n\n\n\n\nLe summary() renvoit les informations principales sur les modifications des microdonn√©es. On voit la r√©alisation des √©changes de modalit√©s en comparant les fr√©quences avant et apr√®s perturbation.\nOn peut calculer la matrice de transition empirique de l‚Äôapplication de PRAM.\n\n\nCode\nlfs_2023$ACTEU_pram1 &lt;- pram_1$ACTEU_pram\n\nlfs_2023 %&gt;% \n  count(ACTEU, ACTEU_pram1) %&gt;% \n  group_by(ACTEU) %&gt;% \n  mutate(part = n/sum(n)*100) %&gt;% \n  select(-n) %&gt;% \n  tidyr::pivot_wider(\n    names_from = ACTEU_pram1, values_from = part, names_prefix = \"PRAM_\"\n  )\n\n\n# A tibble: 3 √ó 4\n# Groups:   ACTEU [3]\n  ACTEU   PRAM_emploi PRAM_chomage PRAM_inactif\n  &lt;fct&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;\n1 emploi        70.2         20.1          9.72\n2 chomage       27.3         62.8          9.91\n3 inactif        9.91         9.72        80.4 \n\n\n\n\n3. Analyser les changements\n\nIndicateurs\nUne fois que le jeu de donn√©es est perturb√©, il est n√©cessaire de comparer des indicateurs avant et apr√®s la perturbation. Cet aspect d‚Äôanalyse de la perte d‚Äôutilit√© sera d√©velopp√© dans le paragraphe d√©di√©.\n\n\nCode\n# ATTENTION ce type de PRAM n'est pas invariant: les estimatons sont biais√©es\n# Calcul du taux de ch√¥mage\nlfs_2023 %&gt;% \n  summarise(\n    taux_chomage = sum(ACTEU == \"chomage\")/sum(ACTEU %in% c(\"emploi\",\"chomage\")) *100,\n    taux_chomage_pram = sum(ACTEU_pram1 == \"chomage\")/sum(ACTEU_pram1 %in% c(\"emploi\",\"chomage\")) *100\n  )\n\n\n  taux_chomage taux_chomage_pram\n1     7.467105          29.55695\n\n\nLa perturbation inject√©e par l‚Äôutilisation de pram modifie grandement le taux de ch√¥mage : 7 dans les donn√©es originales, et 30 dans les donn√©es prot√©g√©es. Les estimations sont biais√©es.\n\n\nInvariance globale\n\n\nCode\nlfs_2023 %&gt;% \n  summarise(mean(ACTEU == ACTEU_pram1))\n\n\n  mean(ACTEU == ACTEU_pram1)\n1                  0.7461898\n\n\nDans 75% des cas (i.e.¬†des lignes du fichier), le statut d‚Äôactivit√© dans le fichier original est le m√™me que celui dans le fichier modifi√© avec pram.\nUne variante de pram permet d‚Äôobtenir des estimateurs non-biais√©s : le pram invariant.\n\n\nPost odds\nLes post odds sont des mesures de risque que l‚Äôon calcule a posteriori, une fois que pram est appliqu√©.\nOn rappelle la formule pr√©sent√©e dans la partie th√©orique : \\[POST\\_ODDS(k) = \\frac{P(\\xi = k|X=k)}{P(\\xi \\neq k|X=k)} = \\frac{p_{kk}P(\\xi = k)}{\\sum_{l \\neq k}p_{lk}P(\\xi=l)}\\]\n\\(p_{kk}\\) la probabilit√© que la modalit√© de ACTEU d‚Äôune observation dans le fichier perturb√© soit la m√™me que dans le fichier original.\n\\(\\sum_{l \\neq k}p_{lk}\\) la probabilit√© que la modalit√© de ACTEU d‚Äôune observation dans le fichier perturb√© soit diff√©rente que celle du fichier original.\n\\(P(\\xi = k)\\) est estim√© par \\(T_{\\xi}(k)\\) la fr√©quence de cette modalit√© dans les donn√©es originales.\n\n\nCode\npost_odds &lt;- function(donnees_perturbees,var_orig,var_pram){\n  # 1. Estimer la matrice de transition\n  # Fr√©quences conditionnelles P(ACTEU_pram = k | ACTEU = l)\n  mat_transition &lt;- donnees_perturbees %&gt;%\n    count(!!sym(var_orig), !!sym(var_pram), name = \"n\") %&gt;%\n    group_by(!!sym(var_orig)) %&gt;%\n    mutate(p_lk = n / sum(n)) %&gt;%\n    ungroup()\n  \n  # Estimer les marges\n  marges &lt;- donnees_perturbees %&gt;%\n    count(!!sym(var_orig), name = \"n_l\") %&gt;% # n_l, le nombre d‚Äôoccurrences de chaque valeur\n    # originale l\n    mutate(T_l = n_l / sum(n_l)) # T_l fr√©quence de la modalit√© l dans les donn√©es\n  # originales\n  \n  # 3. Calculer les post-odds pour chaque modalit√© de k\n  # Fusionner les infos de transition et de marges\n  base_postodds &lt;- mat_transition %&gt;%\n    left_join(marges, by = setNames(var_orig, var_orig))  # ajoute P_l √† chaque ligne\n  \n  # Liste des valeurs PRAM possibles (= valeurs de k)\n  valeurs_k &lt;- donnees_perturbees %&gt;% pull(!!sym(var_pram)) %&gt;% unique()\n  \n  # Calcul des post-odds pour chaque k\n  post_odds_result &lt;- purrr::map_dfr(valeurs_k, function(k) {\n    df_k &lt;- base_postodds %&gt;%\n      filter(!!sym(var_pram) == k)\n    \n    numerateur &lt;- df_k %&gt;%\n      filter(!!sym(var_orig) == k) %&gt;%\n      summarise(num = p_lk * T_l) %&gt;%\n      pull(num)\n    \n    denominateur &lt;- df_k %&gt;%\n      filter(!!sym(var_orig) != k) %&gt;%\n      summarise(den = sum(p_lk * T_l)) %&gt;%\n      pull(den)\n    \n    tibble(\n      valeur_pram = k,\n      post_odds = ifelse(denominateur == 0, NA, numerateur / denominateur)\n    )\n  })\n  return(post_odds_result)\n}\n\npost_odds(lfs_2023,\"ACTEU\",\"ACTEU_pram1\")\n\n\n# A tibble: 3 √ó 2\n  valeur_pram post_odds\n  &lt;fct&gt;           &lt;dbl&gt;\n1 chomage         0.173\n2 inactif         7.16 \n3 emploi          6.11 \n\n\nLa modalit√© ‚Äúchomage‚Äù est inf√©rieur √† 1, donc quand une observation a la modalit√© ‚Äúchomage‚Äù dans le fichier perturb√© elle ne l‚Äôest sans doute pas dans le fichier original. Ce n‚Äôest pas le cas pour ‚Äúinactif‚Äù et ‚Äúemploi‚Äù."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-pram.html#pram-invariant",
    "href": "pratique/fiches/proteger-micro-pram.html#pram-invariant",
    "title": "Appliquer PRAM",
    "section": "PRAM invariant",
    "text": "PRAM invariant\n\n\nCode\nset.seed(12345)\n\npram_2 &lt;- pram(\n  lfs_2023 %&gt;% select(-ACTEU_pram1),\n  variables = \"ACTEU\",\n  pd = 0.8 # valeur minimale des probabilit√©s sur la diagonale, valeur par d√©faut\n)\n\nsummary(pram_2) #liste\n\n\nVariable: ACTEU\n\n\n\n ----------------------\n\n\n\nFrequencies in original and perturbed data:\n\n\n                            ACTEU emploi chomage inactif     NA\n                           &lt;char&gt; &lt;char&gt;  &lt;char&gt;  &lt;char&gt; &lt;char&gt;\n1:           Original Frequencies  16878    1362   15813      0\n2: Frequencies after Perturbation  16847    1382   15824      0\n\n\n\nTransitions:\n\n\n   transition Frequency\n       &lt;char&gt;     &lt;int&gt;\n1:    1 --&gt; 1     16283\n2:    1 --&gt; 2       155\n3:    1 --&gt; 3       440\n4:    2 --&gt; 1       133\n5:    2 --&gt; 2      1105\n6:    2 --&gt; 3       124\n7:    3 --&gt; 1       431\n8:    3 --&gt; 2       122\n9:    3 --&gt; 3     15260\n\n\n\n\n\nOn peut voir la matrice de transition qui a √©t√© g√©n√©r√©e √† partir de pd = 0.8.\n\n\nCode\nattributes(pram_2)$pram_params$ACTEU$Rs\n\n\n            emploi     chomage    inactif\nemploi  0.96411739 0.009017262 0.02686535\nchomage 0.11174255 0.797453779 0.09080367\ninactif 0.02867472 0.007821071 0.96350421\n\n\nChaque √©l√©ment de la diagonale vaut au moins 0.8, les autres probabilit√©s sont distribu√©es de mani√®re uniforme. Toutes les lignes somment √† 1.\n\n\nCode\n# R√©cup√©rer la variable perturb√©e\nlfs_2023$ACTEU_pram2 &lt;- pram_2$ACTEU_pram\n\n# invariance globale\nlfs_2023 %&gt;% \n  summarise(mean(ACTEU == ACTEU_pram2))\n\n\n  mean(ACTEU == ACTEU_pram2)\n1                  0.9587408\n\n\nDans 96% des cas, le statut d‚Äôactivit√© dans le fichier original est le m√™me que celui dans le fichier modifi√© avec pram.\nLe taux de ch√¥mage dans l‚Äô√©chantillon est-il biais√© ?\n\n\nCode\nlfs_2023 %&gt;% \n  summarise(\n    taux_chomage = sum(ACTEU == 2)/sum(ACTEU %in% 1:2) *100,\n    taux_chomage_pram = sum(ACTEU_pram2 == 2)/sum(ACTEU_pram2 %in% 1:2) *100\n  )\n\n\n  taux_chomage taux_chomage_pram\n1          NaN               NaN\n\n\nLe taux de ch√¥mage dans les donn√©es originales est de 7.4% et il est de 7.5% dans les donn√©es modifi√©es par pram. L‚Äôutilisation d‚Äôun pram invariant permet de conserver des marges proches de celles originales sur la variable modifi√©e.\n\n\nCode\npost_odds(lfs_2023,\"ACTEU\",\"ACTEU_pram2\")\n\n\n# A tibble: 3 √ó 2\n  valeur_pram post_odds\n  &lt;fct&gt;           &lt;dbl&gt;\n1 emploi          28.9 \n2 inactif         27.1 \n3 chomage          3.99"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html",
    "href": "pratique/fiches/proteger-micro-swapping.html",
    "title": "Appliquer le Target Record Swapping",
    "section": "",
    "text": "La fiche pratique pr√©sente comment appliquer le Target Record Swapping √† un jeu de donn√©es individuelles afin d‚Äôassurer une protection optimale des informations confidentielles des individus (ou m√©nages ou entreprises) qui le composent.\nLa premi√®re partie s‚Äôattache √† pr√©senter les diff√©rentes √©tapes √† suivre pour que cette application soit pertinente au regard des donn√©es utilis√©es.\nLa seconde partie montre comment utiliser la fonction sdcMicro::recordSwap() pour appliquer la m√©thode √† un jeu de donn√©es dont on aura rep√©rer les individus √† risque pr√©alablement.\n\n\n\n\n\n\nTipPour s‚Äôexercer\n\n\n\nPour reproduire les r√©sultats et r√©aliser les exercices, il est possible de travailler directement sur le datalab de l‚ÄôInsee. Si vous disposez d‚Äôun compte, vous pouvez Ouvrir un service RStudio ou Ouvrir un service vscode R-Python, √† votre convenance. Ces services installeront automatiquement les packages n√©cessaires pour r√©aliser les exercices de l‚Äôensemble des fiches pratiques."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#en-quoi-consiste-la-m√©thode",
    "href": "pratique/fiches/proteger-micro-swapping.html#en-quoi-consiste-la-m√©thode",
    "title": "Appliquer le Target Record Swapping",
    "section": "En quoi consiste la m√©thode ?",
    "text": "En quoi consiste la m√©thode ?\nApr√®s avoir d√©tect√© un individu dont le risque de r√©-identification est jug√© trop √©lev√©, un autre individu est tir√© al√©atoirement parmi les individus au risque de r√©-identification les plus faibles et certaines des caract√©ristiques de ces deux individus sont √©chang√©es (swapped).\nApr√®s l‚Äô√©change, la r√©-identification de l‚Äôindividu est rendue beaucoup plus difficile et ne permet plus d‚Äôobtenir d‚Äôinformations pertinentes √† son sujet.\n\n\n\n\n\n\nNoteUn exemple tr√®s simple.\n\n\n\nSoit un territoire donn√© d√©coup√© en six zones o√π r√©sident un certain nombre d‚Äôindividus. Avec les informations disponibles √† leur sujet, on consid√®re qu‚Äôun seul individu a un risque de r√©-identification trop √©lev√© (croix rouge sur la Figure¬†1).\n\n\n\n\n\n\nAvant swapping\n\n\n\n\nFigure¬†1\n\n\n\nOn tire alors au hasard un autre individu pr√©sent sur le territoire pour √©changer certaines de leurs caract√©ristiques. Ce tirage pourrait √™tre purement al√©atoire. Mais, cela conduirait √† d√©truire certaines statistiques bien utiles. Par exemple, en trouvant un individu d‚Äôune autre zone partageant certaines caract√©ristiques (par exemple le sexe, l‚Äô√¢ge et la cat√©gorie sociale, Figure¬†2), on s‚Äôassure de conserver les marges sur ces variables au niveau g√©ographique le plus fin.\nEn revanche, les autres caract√©ristiques sont bruit√©es de fa√ßon non contr√¥l√©e.\n\n\n\n\n\n\nApr√®s swapping\n\n\n\n\nFigure¬†2\n\n\n\nAinsi, l‚Äô√©ventuelle r√©-identification de l‚Äôindividu √† risque ne pourrait conduire l‚Äôattaquant qu‚Äô√† obtenir des informations tr√®s probablement fausses √† son sujet."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-variables-de-similarit√©",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-variables-de-similarit√©",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les variables de similarit√©",
    "text": "Les variables de similarit√©\nLa m√©thode est tr√®s souple puisqu‚Äôelle permet de s‚Äôadapter aux donn√©es dont on dispose et aux besoins en termes de diffusion. Les variables de similarit√© entre individus √©chang√©s peuvent ainsi √™tre choisies parmi les variables dont on veut conserver le mieux possible l‚Äôinformation marginale. En effet, en √©changeant des individus parfaitement similaires sur certaines caract√©ristiques (les variables de similarit√©), l‚Äô√©change ne produira aucune perte d‚Äôinformation sur celles-ci.\n\n\n\n\n\n\nWarningSimilarit√© et r√©-identification\n\n\n\nSi l‚Äôobjectif est de r√©duire le risque de r√©-identification, s√©lectionner toutes les variables quasi-identifiantes comme variables de similarit√© ne perturberait aucunement la capacit√© de l‚Äôattaquant √† r√©-identifier les individus. Ce choix produirait en revanche du bruit sur les autres variables: donc en r√©-identifiant, l‚Äôattaquant ne serait pas en mesure d‚Äôobtenir des informations suppl√©mentaires fiables.\n\n\n\n\n\n\n\n\nTipUtiliser la hi√©rarchie des embo√Ætements g√©ographiques\n\n\n\nLes donn√©es contiennent g√©n√©ralement des informations g√©ographiques. Or, la g√©ographie, en particulier √† des niveaux fins, est tr√®s identifiante. On choisira en g√©n√©ral d‚Äô√©changer des individus r√©sidant √† des endroits diff√©rents, en tenant compte du niveau g√©ographique auquel un individu est facilement r√©-identifiable.\nPar exemple, si un individu est facilement r√©-identifiable dans sa commune mais pas dans son d√©partement de r√©sidence, alors on privil√©giera l‚Äô√©change avec un autre individu du d√©partement en dehors de la commune de notre individu √† risque. Si le niveau d√©partemental posait lui aussi probl√®me on remonterait au niveau r√©gional, etc.\nAinsi, en g√©n√©ral, la m√©thode consistera √† √©changer la localisation d‚Äôindividus ou de m√©nages (Longhurst, Tromans, and Young, n.d.).\n\n\n\nLonghurst, Jane, Nicola Tromans, and Caroline Young. n.d. ‚ÄúStatistical Disclosure Control for the 2011 UK Census.‚Äù Office for National Statistics (ONS - UK). https://www.ons.gov.uk/file?uri=/census/2011census/howourcensusworks/howwetookthe2011census/howweplannedfordatadelivery/protectingconfidentialitywithstatisticaldisclosurecontrol/statistical-disclosure-control-for-the-2011-uk-census_tcm77-189747.pdf.\n\nComment d√©finir des individus similaires ?\nLa similarit√© entre deux individus peut √™tre envisag√©e de deux mani√®res:\n\nen cherchant la correspondance exacte sur les variables de similarit√©, quitte √† rel√¢cher des contraintes quand il n‚Äôy pas de donneur: un donneur est tir√© al√©atoirement parmi la liste des pr√©tendants.\nen calculant une distance entre le receveur et l‚Äôensemble des donneurs: un donneur est tir√© parmi les individus avec lesquels la distance est la plus faible.\n\nLa premi√®re option n√©cessite d‚Äôutiliser uniquement des variables cat√©gorielles, quitte √† cr√©er des classes pour les variables continues qu‚Äôon souhaiterait inclure dans la liste.\nDans la pratique, cette premi√®re option est la moins gourmande en ressources de calcul, car elle ne n√©cessite pas de calculer une distance entre chaque receveur et chaque donneur potentiel. Elle est probablement la seule envisageable si le jeu de donn√©es contient plusieurs millions de lignes.\n\n\n\n\n\n\nTipUne astuce pour g√©rer la pr√©sence de poids de sondage\n\n\n\nSi nous disposons d‚Äôun √©chantillon, chaque individu dispose d‚Äôun poids de sondage. Avec le Target Record Swapping, on prend le risque d‚Äô√©changer deux individus avec des poids tr√®s diff√©rents et de d√©s√©quilibrer des agr√©gats importants. Pour √©viter ce genre de d√©sagr√©ment, il est possible d‚Äôajouter le poids parmi les variables de similarit√©, sous la forme d‚Äôun arrondi √† l‚Äôunit√© ou bien de tranches de valeurs. On pourra √©galement exclure des donneurs potentiels, les individus ayant des poids tr√®s √©lev√©s compar√©s aux autres. Ceci permettra de limiter les d√©formations des distributions.\n\n\n\n\nIndividus ou m√©nages ?\nUne autre souplesse de la m√©thode est de pouvoir prendre en compte des structures hi√©rarchiques entre les individus. Par exemple, lorsque le fichier d‚Äôindividus contient √©galement des informations sur la composition des m√©nages.\nDans ce cas, l‚Äô√©change d‚Äôindividus risque de d√©stabiliser la composition des m√©nages concern√©s, en termes d‚Äô√¢ge en particulier: on pourrait voir se cr√©er des m√©nages o√π il n‚Äôy a aucun individu majeur par exemple.\nUne solution consisterait √† √©changer des m√©nages entiers plut√¥t que des individus. Mais cette solution n‚Äôest √† retenir que si on dispose de suffisamment d‚Äôinformations sur les m√©nages pour d√©tecter des m√©nages similaires de bonne qualit√©. Si ce n‚Äôest pas le cas, il peut √™tre pr√©f√©rable d‚Äô√©changer des individus et de contr√¥ler d‚Äôune autre mani√®re, car un choix judicieux de variables de similarit√© peut limiter ces d√©sagr√©ments.\n\n\n\nLe taux de swapping\nLe taux d‚Äô√©change ou taux de swapping est la part d‚Äôindividus du jeu de donn√©es qui a pris part aux √©changes, soit \\(s=\\frac{E+D}{N}\\), o√π \\(E\\) est le nombre d‚Äôindividus √† √©changer, \\(D\\) le nombre de donneurs (\\(D=E\\)) et \\(N\\) le nombre d‚Äôindividus dans la base.\nEn pratique, on fixe un taux de swapping \\(s\\) de telle sorte que l‚Äôalgorithme proc√®de √† un minimum d‚Äô√©changes. Si le nombre d‚Äôindividus √† risque ne permet pas d‚Äôatteindre ce seuil, des individus suppl√©mentaires seront √©galement √©chang√©s pour atteindre \\(s\\). Sinon, le taux de swapping √©tant atteint ou d√©pass√©, aucun individu additionnel n‚Äôest ajout√©."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-grandes-√©tapes-√†-suivre-pour-appliquer-le-trs",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-grandes-√©tapes-√†-suivre-pour-appliquer-le-trs",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les grandes √©tapes √† suivre pour appliquer le TRS",
    "text": "Les grandes √©tapes √† suivre pour appliquer le TRS\n\nDe quels risques cherche-t-on √† se prot√©ger ?\n\nSi c‚Äôest du risque de r√©-identification, le TRS est une m√©thode adapt√©e\nSinon, il faut peut-√™tre aller voir ailleurs.\n\nQuelles sont les variables quasi-identifiantes dans mes donn√©es ?\nMesurer le risque de r√©-identification bas√© sur ces variables ?\nChoisir un seuil de risque de r√©-identification maximal acceptable, au-del√† duquel les individus devront √™tre trait√©s.\nQuelles sont les marges que la m√©thode devrait conserver intactes en priorit√© ?\nUn swapping des m√©nages est-il pr√©f√©rable √† un swapping d‚Äôindividus ?\nS√©lection des param√®tres de la m√©thode:\n\nLes variables de similarit√©s, en tenant compte des risques et des objectifs de diffusion.\nLe taux de swapping.\n\nProc√©der au swapping\nMesurer la perte d‚Äôinformation\nReprendre les √©tapes 4. √† 9. si la perte d‚Äôinformation s‚Äôav√®re trop grande ou la protection trop faible\n\nL‚Äôavantage de la m√©thode est sa grande capacit√© d‚Äôadaptation aux donn√©es dont on dispose. M√™me si cette fiche va pr√©senter comment l‚Äôappliquer avec le package sdcMicro, il est en r√©alit√© tout √† fait possible de d√©velopper son propre algorithme pour affiner la fa√ßon de tirer les individus ou les m√©nages √† √©changer.\nOn pourra se reporter √† la fiche sur les mesures de risque pour en savoir plus sur les risques et la fa√ßon de les mesurer."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-packages",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-packages",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les packages",
    "text": "Les packages\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#les-donn√©es",
    "href": "pratique/fiches/proteger-micro-swapping.html#les-donn√©es",
    "title": "Appliquer le Target Record Swapping",
    "section": "Les donn√©es",
    "text": "Les donn√©es\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\nPour plus d‚Äôinformations sur les donn√©es, on pourra se reporter √† la fiche ‚ÄúPr√©sentation des donn√©es‚Äù."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#mesurons-les-risques-du-fichier",
    "href": "pratique/fiches/proteger-micro-swapping.html#mesurons-les-risques-du-fichier",
    "title": "Appliquer le Target Record Swapping",
    "section": "Mesurons les risques du fichier",
    "text": "Mesurons les risques du fichier\n\nLes types de variables\nOn d√©finit les variables selon les diff√©rentes cat√©gories suivantes:\n\nles variables quasi-identifiantes (key_vars)\nles variables sensibles (sens_vars)\nles variables identifiant la composition des m√©nages (hhid_vars)\n\nPour cet exercice, nous ferons les choix suivants:\n\n\nCode\nkey_vars &lt;- c(\"AGE6\",\"SEXE\",\"DEP\",\"DIP7\")\nsens_vars &lt;- c(\"ACTEU\",\"ANCCHOM\",\"IS_CHOM\")\nhhid_vars &lt;- c(\"HHID\")\n\n\nLes comptages par croisement des modalit√©s des variables quasi-identifiantes:\n\n\nCode\nlfs_sdc &lt;- sdcMicro::createSdcObj(\n  lfs_2023,\n  keyVars = key_vars\n)\n\n\nLe tableau ci-dessous pr√©sente le nombre et la part d‚Äôindividus du fichier ne r√©pondant pas au crit√®re du \\(k\\)-anonymat, en fonction de la valeur de \\(k\\).\n\n\nCode\nks &lt;- 2:10\ndata.frame(\n  k = ks,\n  nb_ind_risk = sapply(ks, \\(k) sum(lfs_sdc@risk$individual[,\"fk\"] &lt; k))\n) |&gt;\n  mutate(part_ind_risk = nb_ind_risk / nrow(lfs_2023) * 100) |&gt;\n  knitr::kable(digits=1)\n\n\n\n\n\nk\nnb_ind_risk\npart_ind_risk\n\n\n\n\n2\n77\n0.2\n\n\n3\n267\n0.8\n\n\n4\n465\n1.4\n\n\n5\n825\n2.4\n\n\n6\n1105\n3.2\n\n\n7\n1387\n4.1\n\n\n8\n1723\n5.1\n\n\n9\n2075\n6.1\n\n\n10\n2498\n7.3\n\n\n\n\n\nOn d√©nombre 77 individus uniques et jusqu‚Äô√† 7.3% d‚Äôindividus √† risque si nous nous fixons comme objectif de respecter un \\(10\\)-anonymat dans notre fichier.\nPour traiter les individus √† risque, on se propose d‚Äôutiliser un targeted record swapping."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#pr√©paration-pour-le-swapping",
    "href": "pratique/fiches/proteger-micro-swapping.html#pr√©paration-pour-le-swapping",
    "title": "Appliquer le Target Record Swapping",
    "section": "Pr√©paration pour le swapping",
    "text": "Pr√©paration pour le swapping\n\n\nCode\nrisk_variables &lt;- c(\"AGE6\",\"SEXE\",\"DIP7\") # les variables permettant de mesurer le risque de r√©-identification\nhierarchy &lt;- c(\"REG\", \"DEP\") # permet de renseigner l'existence d'une hi√©rarchie entre les var g√©ographiques\ncarry_along &lt;- c(\"ARR\")\nsimilar &lt;- list( # Contraintes de similarit√© sur les individus √©chang√©s\n  c(\"REG\",\"AGE6\",\"SEXE\"),  # priorit√© 1\n  c(\"AGE6\",\"SEXE\"), # priorit√© 2 ...\n  c(\"REG\",\"SEXE\"), \n  c(\"REG\",\"AGE6\"), \n  \"SEXE\"\n  )\nhid &lt;- \"ID\" # swapping d'individus\n\n\nLa fonction de swapping impl√©ment√©e dans sdcMicro n√©cessite de transformer toutes les variables en integer.\n\n\nCode\nlfs_2023_pr_swap &lt;- lfs_2023 |&gt;\n  mutate(across(everything(), as.integer))|&gt;\n  mutate(ID = 1:n())"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#swapper-les-individus",
    "href": "pratique/fiches/proteger-micro-swapping.html#swapper-les-individus",
    "title": "Appliquer le Target Record Swapping",
    "section": "Swapper les individus",
    "text": "Swapper les individus\nOn choisit de nous fixer comme objectif de traiter tous les individus ne respectant pas le \\(5\\)-anonymat et d‚Äô√©changer au moins \\(10\\)% des individus. Le premier crit√®re consiste √† rendre obligatoire l‚Äô√©change des individus ne respectant le niveau d‚Äôanonymat requis. Le second quant √† lui fixe un minimum global d‚Äô√©changes √† atteindre.\n\n\nCode\nk_anonymity &lt;- 5\nswaprate &lt;- .1\n\n\n\n\nCode\nlfs_swapped &lt;- recordSwap(\n  data = lfs_2023_pr_swap,\n  hid = hid,\n  hierarchy = hierarchy,\n  similar = similar,\n  risk_variables = key_vars,\n  carry_along = carry_along,\n  k_anonymity = k_anonymity,\n  swaprate = swaprate,\n  return_swapped_id = TRUE,\n  seed = 123456 # pour la reproductibilit√©\n)\n\n\nRecordswapping was successful!\n\n\nLe taux de swapping r√©el est l√©g√®rement sup√©rieur au taux de swapping demand√© 0.1:\n\n\nCode\nind_risk &lt;- which(lfs_sdc@risk$individual[,\"fk\"] &lt; 5)\nlfs_swapped |&gt; summarise(\n  part_indiv_risq = mean(ID %in% ind_risk)*100,\n  tx_swap_reel = mean(ID != ID_swapped) * 100\n)\n\n\n  part_indiv_risq tx_swap_reel\n1        2.422694     11.67004\n\n\nEn r√©alit√©, un certain nombre d‚Äôindividus √† risque ont √©t√© √©chang√©s entre eux :\n\n\nCode\nlfs_swapped |&gt;\n  slice(ind_risk) |&gt;\n  filter(ID_swapped %in% ind_risk) |&gt;\n  nrow() /2\n\n\n[1] 85\n\n\nEt quelques individus, ne figurant pas dans la liste des individus √† risque, ont √©galement √©t√© √©chang√©s entre eux:\n\n\nCode\nlfs_swapped |&gt;\n    filter(ID != ID_swapped) |&gt;\n    summarise(n_echanges_no_risque = sum(!ID_swapped %in% ind_risk & !ID %in% ind_risk)/2)\n\n\n  n_echanges_no_risque\n1                 1247\n\n\nLe taux d‚Äô√©change est tr√®s diff√©rent selon les r√©gions, d√©pendant du nombre d‚Äôindividus probl√©matiques en termes de risque de divulgation au sein de chacune d‚Äôelles:\n\n\nCode\nlfs_swapped |&gt; \n  group_by(REG) %&gt;%\n  summarise(\n    part_indiv_risq = mean(ID %in% ind_risk)*100,\n    tx_swap_reel = mean(ID != ID_swapped) *100\n  ) \n\n\n# A tibble: 4 √ó 3\n    REG part_indiv_risq tx_swap_reel\n  &lt;int&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n1     1            1.89         11.1\n2     2            3.61         10.9\n3     3            2.32         12.2\n4     4           12.5          29.5\n\n\nLa fonction fait en sorte d‚Äôatteindre le taux de swapping souhait√© (dans notre cas \\(10\\%\\) dans chacune des r√©gions). Cela explique pourquoi le taux de swapping global observ√© peut √™tre l√©g√®rement sup√©rieur au taux de swapping fix√© initialement."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#la-base-apr√®s-swapping",
    "href": "pratique/fiches/proteger-micro-swapping.html#la-base-apr√®s-swapping",
    "title": "Appliquer le Target Record Swapping",
    "section": "La base apr√®s swapping",
    "text": "La base apr√®s swapping\nLa base de donn√©es fournit les informations individuelles de chaque individu dans leur nouvelle localisation.\n\n\nCode\nstr(lfs_swapped)\n\n\nClasses 'data.table' and 'data.frame':  34053 obs. of  18 variables:\n $ REG       : int  2 2 1 2 1 1 1 1 1 3 ...\n $ DEP       : int  19 19 27 19 28 25 26 21 24 9 ...\n $ ARR       : int  53 53 79 53 83 73 75 62 70 27 ...\n $ SEXE      : int  1 2 2 1 1 2 2 1 2 1 ...\n $ AGE       : int  53 43 17 17 42 54 57 20 17 28 ...\n $ AGE6      : int  3 2 1 1 2 3 3 1 1 2 ...\n $ ACTEU     : int  1 1 3 3 1 1 1 3 3 1 ...\n $ DIP7      : int  4 7 5 4 7 7 7 7 7 5 ...\n $ PCS1Q     : int  4 7 10 10 9 9 7 10 10 8 ...\n $ ANCCHOM   : int  10 10 10 10 10 10 10 10 10 10 ...\n $ HHID      : int  3558 3558 3558 3558 5973 5973 6779 4906 4906 1135 ...\n $ HH_TAILLE : int  4 4 4 4 2 2 1 2 2 3 ...\n $ HH_AGE    : int  39 39 39 39 40 40 43 6 6 14 ...\n $ HH_DIP    : int  4 4 4 4 7 7 7 7 7 5 ...\n $ HH_PCS    : int  4 4 4 4 9 9 7 10 10 8 ...\n $ IS_CHOM   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ ID        : int  1 2 3 4 5 6 7 8 9 10 ...\n $ ID_swapped: int  1 2 20669 4 7330 6 7 8 17652 10 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\n\nUn exemple d‚Äô√©change\n\n\nCode\npremier_couple &lt;- lfs_swapped |&gt; slice(ind_risk[1]) |&gt;\n  bind_rows(lfs_swapped |&gt; filter(ID_swapped == ind_risk[1]))\n\n\n\n\nCode\npremier_couple \n\n\n     REG   DEP   ARR  SEXE   AGE  AGE6 ACTEU  DIP7 PCS1Q ANCCHOM  HHID\n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt; &lt;int&gt;\n1:     1    27    79     2    17     1     3     5    10      10  3558\n2:     2    19    53     2    23     1     3     2    10      10  7043\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM    ID ID_swapped\n       &lt;int&gt;  &lt;int&gt;  &lt;int&gt;  &lt;int&gt;   &lt;int&gt; &lt;int&gt;      &lt;int&gt;\n1:         4     39      4      4       0     3      20669\n2:         8     43      3     10       0 20669          3\n\n\nOn peut remarquer que ces individus ne sont similaires que sur les variables de similarit√© que sont le sexe et l‚Äô√¢ge (AGE6). En revanche, l‚Äô√©change a eu lieu entre deux individus de r√©gions diff√©rentes: l‚Äôindividu n¬∞3 r√©sidant dans la r√©gion \\(2\\) originellement a √©t√© √©chang√© avec un individu r√©sidant dans la r√©gion \\(1\\).\n\n\nEchanges selon l‚Äôordre des priorit√©s de similarit√©\n\n\nCode\nlfs_swap_vs_orig &lt;- lfs_swapped |&gt;\n  full_join(lfs_2023_pr_swap, by = \"ID\", suffix = c(\"_s\",\"_o\")) |&gt; \n  filter(ID != ID_swapped) |&gt;\n  mutate(\n    test1 = REG_s == REG_o,\n    test2 = SEXE_s == SEXE_o,\n    test3 = AGE6_s == AGE6_o\n  ) \n\nlfs_swap_vs_orig |&gt;\n  # filter(ID %in% ind_risk) |&gt;\n  summarise(\n    prior_reg_sex_age = sum(test1 & test2 & test3),\n    prior_sex_age = sum(!test1 & test2 & test3),\n    prior_reg_sex = sum(test1 & test2 & !test3),\n    prior_reg_age = sum(test1 & !test2 & test3),\n    prior_reg = sum(test1 & !test2 & !test3),\n    prior_sex = sum(!test1 & test2 & !test3),\n  ) |&gt;\n  tidyr::pivot_longer(everything(), names_to = \"ordre_priorite\", values_to = \"NB\") \n\n\n# A tibble: 6 √ó 2\n  ordre_priorite       NB\n  &lt;chr&gt;             &lt;int&gt;\n1 prior_reg_sex_age  2494\n2 prior_sex_age      1480\n3 prior_reg_sex         0\n4 prior_reg_age         0\n5 prior_reg             0\n6 prior_sex             0\n\n\n\\(2~494\\) individus ont √©t√© √©chang√©s avec des individus r√©sidant dans la m√™me r√©gion, de m√™me sexe et de la m√™me cat√©gorie d‚Äô√¢ge. En revanche, \\(1~480\\) individus (en r√©alit√© les individus √† risque) ont √©t√© √©chang√©s avec des individus de m√™me sexe et de m√™me √¢ge, mais r√©sidant en dehors de la r√©gion.\nNotons que dans cet exemple, tous les individus ayant √©t√© √©chang√©s avec des individus de m√™me sexe et de m√™me √¢ge, le swapping ne g√©n√®re pas d‚Äôincoh√©rence dans la composition des m√©nages: leur taille et leur composition adultes/enfants restant parfaitement pr√©serv√©es."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#echanger-les-m√©nages",
    "href": "pratique/fiches/proteger-micro-swapping.html#echanger-les-m√©nages",
    "title": "Appliquer le Target Record Swapping",
    "section": "Echanger les m√©nages",
    "text": "Echanger les m√©nages\nEt si on avait √©chang√© les m√©nages plut√¥t que les individus, qu‚Äôen aurait-il √©t√© ?\n\n\nCode\nsimilarHH &lt;- list(c(\"HH_TAILLE\", \"HH_AGE\"), c(\"HH_TAILLE\"), c(\"HH_AGE\"))\n\nlfs_swapped_hh &lt;- recordSwap(\n  data = lfs_2023_pr_swap,\n  hid = \"HHID\", # identifiant des m√©nages\n  hierarchy = hierarchy,\n  similar = similarHH,\n  risk_variables = risk_variables,\n  carry_along = carry_along,\n  k_anonymity = k_anonymity,\n  swaprate = swaprate,\n  return_swapped_id = TRUE,\n  seed = 123456\n)\n\n\nRecordswapping was successful!\n\n\n\nTaux de swapping observ√©\nCombien d‚Äôindividus ont-ils √©t√© √©chang√©s ?\n\n\nCode\nlfs_swapped_hh |&gt; summarise(tx_swap_reel = mean(HHID != HHID_swapped)*100) \n\n\n  tx_swap_reel\n1     16.05732\n\n\nOn observe que le taux de swapping observ√© est sup√©rieur au taux observ√© lorsque l‚Äô√©change n‚Äôest op√©r√© qu‚Äôau niveau individuel."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#mesurer-la-perte-dutilit√©",
    "href": "pratique/fiches/proteger-micro-swapping.html#mesurer-la-perte-dutilit√©",
    "title": "Appliquer le Target Record Swapping",
    "section": "Mesurer la perte d‚Äôutilit√©",
    "text": "Mesurer la perte d‚Äôutilit√©\nIl est important de mesurer l‚Äôeffet des traitements op√©r√©s sur la qualit√© des donn√©es qui seront transmises aupr√®s du public. La mesure de la perte d‚Äôinformation peut s‚Äôop√©rer sur de nombreuses dimensions possibles. Le mieux est de se focaliser sur les besoins prioritaires en termes de restitution de l‚Äôinformation.\n\nRobustesse de certains comptages\n\n\nCode\nreg_sex_age1 &lt;- lfs_swapped |&gt; count(REG, SEXE, AGE6, name=\"n_p\") |&gt;\n  left_join(lfs_2023_pr_swap |&gt; count(REG, SEXE, AGE6, name = \"n_o\"))|&gt;\n  mutate(n_p = ifelse(is.na(n_p), 0, n_p))|&gt;\n  mutate(n_o = ifelse(is.na(n_o), 0, n_o))\n\n\nJoining with `by = join_by(REG, SEXE, AGE6)`\n\n\nCode\nreg_sex_age2 &lt;- lfs_swapped_hh |&gt; count(REG, SEXE, AGE6, name=\"n_p\") |&gt;\n  left_join(lfs_2023_pr_swap |&gt; count(REG, SEXE, AGE6, name = \"n_o\"))|&gt;\n  mutate(n_p = ifelse(is.na(n_p), 0, n_p))|&gt;\n  mutate(n_o = ifelse(is.na(n_o), 0, n_o))\n\n\nJoining with `by = join_by(REG, SEXE, AGE6)`\n\n\nComparons pour les deux swappings (individus et m√©nages) l‚Äô√©cart absolu moyen du tableau croisant le niveau r√©gional, le sexe et l‚Äô√¢ge des individus:\n\n\nCode\ndata.frame(\n  mad_swap_indiv = mean(abs(reg_sex_age1$n_p - reg_sex_age1$n_o)),\n  mad_swap_menag = mean(abs(reg_sex_age2$n_p - reg_sex_age2$n_o))\n)\n\n\n  mad_swap_indiv mad_swap_menag\n1      0.9473684       13.57895\n\n\nLa conservation des marges r√©gionales SEXE*AGE est de tr√®s bonne qualit√© dans le premier cas. En revanche, dans le cas d‚Äôun swapping de m√©nages, ces marges ont √©t√© plus fortement modifi√©es. Cela s‚Äôexplique par le fait que dans le premier cas, les trois variables (r√©gion, sexe et age) font partie des variables de similarit√©, mais pas dans le second.\nEn comparant les distributions entre elles, on observe qu‚Äôelles sont tr√®s proches, except√© pour la r√©gion \\(4\\), r√©gion plus petite et contenant le plus d‚Äôindividus √† risque.\n\n\nCode\nreg_sex_age1 |&gt;\n  full_join(reg_sex_age2 |&gt; select(-n_o) |&gt; rename(n_sm = n_p), by=c(\"REG\",\"SEXE\",\"AGE6\")) |&gt;\n  tidyr::pivot_longer(n_p:n_sm, names_to = \"type\", values_to = \"n\") |&gt;\n  mutate(n = ifelse(is.na(n), 0, n)) |&gt;\n  mutate(type = case_when(type == \"n_o\"~\"original\",type==\"n_p\"~\"swap_ind\",TRUE~\"swap_men\")) |&gt;\n  ggplot() +\n  geom_bar(aes(x=AGE6, y=n, fill=type), stat = \"identity\", position = \"dodge\") +\n  scale_fill_brewer(\"data\", palette = 7, type=\"qual\") +\n  facet_grid(REG~SEXE, scales=\"free\", label = \"label_both\") +\n  ggtitle(\"Distributions par sexe, √¢ge et r√©gion, selon les donn√©es utilis√©es\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nTestons un autre tableau, en prenant une variable qui n‚Äôa pas √©t√© s√©lectionn√©e parmi les variables de similarit√©.\n\n\nCode\nreg_sex_dip1 &lt;- lfs_swapped |&gt; count(REG, SEXE, DIP7, name=\"n_p\") |&gt;\n  left_join(lfs_2023_pr_swap |&gt; count(REG, SEXE, DIP7, name = \"n_o\")) |&gt;\n  mutate(n_p = ifelse(is.na(n_p), 0, n_p))|&gt;\n  mutate(n_o = ifelse(is.na(n_o), 0, n_o)) |&gt;\n  mutate(diff_abs = abs(n_p - n_o)) |&gt;\n  mutate(diff_rel = ifelse(n_o &gt; 0, diff_abs/n_o*100, (n_p&gt;0)*100))\n\n\nJoining with `by = join_by(REG, SEXE, DIP7)`\n\n\nCode\nreg_sex_dip2 &lt;- lfs_swapped_hh |&gt; count(REG, SEXE, DIP7, name=\"n_p\") |&gt;\n  left_join(lfs_2023_pr_swap |&gt; count(REG, SEXE, DIP7, name = \"n_o\")) |&gt;\n  mutate(n_p = ifelse(is.na(n_p), 0, n_p))|&gt;\n  mutate(n_o = ifelse(is.na(n_o), 0, n_o)) |&gt;\n  mutate(diff_abs = abs(n_p - n_o)) |&gt;\n  mutate(diff_rel = ifelse(n_o &gt; 0, diff_abs/n_o*100, (n_p&gt;0)*100))\n\n\nJoining with `by = join_by(REG, SEXE, DIP7)`\n\n\nCode\ndata.frame(\n  mad_swap_indiv = mean(abs(reg_sex_dip1$n_p - reg_sex_dip1$n_o)),\n  mad_swap_menag = mean(abs(reg_sex_dip2$n_p - reg_sex_dip2$n_o))\n)\n\n\n  mad_swap_indiv mad_swap_menag\n1       6.173913       12.26087\n\n\n\n\nCode\nreg_sex_dip1 |&gt;\n  full_join(reg_sex_dip2 |&gt; select(-n_o) |&gt; rename(n_sm = n_p), by=c(\"REG\",\"SEXE\",\"DIP7\")) |&gt;\n  tidyr::pivot_longer(n_p:n_sm, names_to = \"type\", values_to = \"n\") |&gt;\n  mutate(n = ifelse(is.na(n), 0, n)) |&gt;\n  mutate(type = case_when(type == \"n_o\"~\"original\",type==\"n_p\"~\"swap_ind\",TRUE~\"swap_men\")) |&gt;\n  ggplot() +\n  geom_bar(aes(x=DIP7, y=n, fill=type), stat = \"identity\", position = \"dodge\") +\n  scale_fill_brewer(\"data\", palette = 7, type=\"qual\") +\n  facet_grid(REG~SEXE, scales=\"free\", label = \"label_both\") +\n  ggtitle(\"Distributions par sexe, dipl√¥me et r√©gion, selon les donn√©es utilis√©es\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nAnalyse statistique\nOn se propose de comparer les intervalles de confiance des coefficients d‚Äôun mod√®le logistique pour √©valuer la perte d‚Äôinformation engendr√©e par le swapping. L‚Äôid√©e est de tester les limites d‚Äôutilisation du jeu de donn√©es trait√© par les futurs utilisateurs.\n\n\nCode\nsource(\"../R/fun_cio.R\")\n\n\n√âtudions la stabilit√© d‚Äôun mod√®le relativement simple, cherchant √† expliquer le fait d‚Äô√™tre au ch√¥mage par diff√©rentes variables √† notre disposition: l‚Äô√¢ge, le dipl√¥me et le sexe.\nOn entra√Ænera ce mod√®le uniquement sur la population active. On retire donc notamment la population √©tudiante et retrait√©e.\n\n\nCode\nlfs_2023_pr_glm &lt;- lfs_2023_pr_swap |&gt; mutate(across(-IS_CHOM, as.character))\nlfs_pert_pr_glm &lt;- lfs_swapped |&gt; mutate(across(-IS_CHOM, as.character))\nlfs_pert_hh_pr_glm &lt;- lfs_swapped_hh |&gt; mutate(across(-IS_CHOM, as.character))\n\nm_original &lt;- glm(IS_CHOM ~ REG + SEXE + AGE6 + DIP7, data = lfs_2023_pr_glm |&gt; filter(ACTEU != 3))\nm_swapped &lt;- glm(IS_CHOM ~ REG + SEXE + AGE6 + DIP7, data = lfs_pert_pr_glm |&gt; filter(ACTEU != 3))\nm_swapped_hh &lt;- glm(IS_CHOM ~ REG + SEXE + AGE6 + DIP7, data = lfs_pert_hh_pr_glm |&gt; filter(ACTEU != 3))\n\nmes_modeles &lt;- list(\n  \"original\" = m_original,\n  \"swapped_indiv\" = m_swapped,\n  \"swapped_menag\" = m_swapped_hh\n)\n\nall_cios &lt;- get_all_confints(mes_modeles)\n\n\nJoining with `by = join_by(vars)`\n\n\n\n\nCode\ngraph_cios(\n  all_cios |&gt; filter(substr(vars, 1, 4) %in% c(\"DEP1\",\"AGE6\",\"DIP7\")), titre = \"Superposition des intervalles de confiance √† 95%\\ndes Odds Ratio du mod√®le logistique selon le jeu de donn√©es\") \n\n\n\n\n\n\n\n\n\nLe mod√®le conduit aux m√™mes conclusions quelque soit les traitements op√©r√©s que celles tenues √†partir du jeu original. Dans ce cas simple, la perturbation rend possible une analyse statistique multivari√©e."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-swapping.html#exercice",
    "href": "pratique/fiches/proteger-micro-swapping.html#exercice",
    "title": "Appliquer le Target Record Swapping",
    "section": "Exercice",
    "text": "Exercice\nComparer la perte d‚Äôinformation de diff√©rents taux de swapping ou de diff√©rents niveaux d‚Äôanonymit√©. Vous utiliserez la mesure de perte d‚Äôinformation que vous souhaitez.\n\n\nCode\nparams &lt;- expand.grid(\n  k_anonymity = 2:10,\n  swaprate = 0.1,\n  KEEP.OUT.ATTRS = FALSE,\n  stringsAsFactors = FALSE\n) |&gt;\n  as.data.frame()\n\nset.seed(123456)\nmap_ru &lt;- purrr::map(\n  seq_along(params$k_anonymity),\n  \\(i){\n    k &lt;- params$k_anonymity[i]\n    s &lt;- params$swaprate[i]\n    \n    data_swapped &lt;- recordSwap(\n      data = lfs_2023_pr_swap,\n      hid = \"ID\",\n      hierarchy = hierarchy,\n      similar = similar,\n      risk_variables = risk_variables,\n      carry_along = carry_along,\n      k_anonymity = k,\n      swaprate = s,\n      return_swapped_id = TRUE\n      # seed = 123456 # pour la reproductibilit√©\n    )\n    \n    dep_sex_dip_pcs &lt;- data_swapped |&gt; count(DEP,  SEXE, DIP7, PCS1Q, name=\"n_p\") |&gt;\n      left_join(lfs_2023_pr_swap |&gt; count(DEP,  SEXE, DIP7, PCS1Q, name = \"n_o\")) |&gt;\n      mutate(n_p = ifelse(is.na(n_p), 0, n_p))|&gt;\n      mutate(n_o = ifelse(is.na(n_o), 0, n_o)) |&gt;\n      mutate(diff_abs = abs(n_p - n_o)) |&gt;\n      mutate(diff_rel = ifelse(n_o &gt; 0, diff_abs/n_o*100, (n_p&gt;0)*100))\n\n    \n    return(\n      data.frame(\n        k = k,\n        s = s, \n        sr_reel = as.numeric(data_swapped |&gt; summarise(mean(ID != ID_swapped)) * 100),\n        mdr = mean(dep_sex_dip_pcs$diff_rel)\n      )\n    )\n  }\n) |&gt;\n  purrr::list_rbind()\n\n\n\n\nCode\nmap_ru |&gt;\n  ggplot() +\n  geom_point(aes(x=mdr, y=k), color = \"forestgreen\")  +\n  labs(x = \"Ecart relatif moyen (en %)\", y = \"Niveau d'anonymit√©\") +\n  scale_x_continuous(limits = c(1,1.6), expand = c(0,0)) +\n  ggtitle(\n    \"Protection vs Perte d'information\",\n    subtitle = \n    \"Le niveau de protection est mesur√© le niveau d'anonymat et\n    la perte d'information par l'√©cart relatif moyen observ√©\n    dans le tableau DEP*SEXE*DIP*PCS\") +\n  theme_minimal()"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-agregation.html",
    "href": "pratique/fiches/proteger-micro-agregation.html",
    "title": "Apply micro-agregation",
    "section": "",
    "text": "La micro-agr√©gation consiste √† regrouper les individus d‚Äôun jeu de donn√©es individuelles selon une mesure de proximit√© calcul√©e sur des variables d‚Äôiint√©r√™t. Une fois ces groupes constitu√©s, la valeur des individus dans chaque groupe homog√®ne sur la variable d‚Äôint√©r√™t est remplac√©e par une m√™me valeur, par exemple la moyenne ou la m√©diane.\nCette m√©thode est particuli√®rement adapt√©e pour atteindre un objectif fix√© √† l‚Äôavance en termes de \\(k\\)-anonymat, d√®s lors que des variables continues (ou des variables cat√©gorielles ordinales) sont pr√©sentes dans la liste des variables quasi-identifiantes.\nLa fa√ßon de proc√©der √† l‚Äôagr√©gation d√©pend principalement de trois √©l√©ments:"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-agregation.html#les-packages",
    "href": "pratique/fiches/proteger-micro-agregation.html#les-packages",
    "title": "Apply micro-agregation",
    "section": "Les packages",
    "text": "Les packages\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union"
  },
  {
    "objectID": "pratique/fiches/proteger-micro-agregation.html#les-donn√©es",
    "href": "pratique/fiches/proteger-micro-agregation.html#les-donn√©es",
    "title": "Apply micro-agregation",
    "section": "Les donn√©es",
    "text": "Les donn√©es\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\nPour plus d‚Äôinformations sur les donn√©es, on pourra se reporter √† la fiche ‚ÄúPr√©sentation des donn√©es‚Äù."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-agregation.html#mesurons-les-risques-du-fichier",
    "href": "pratique/fiches/proteger-micro-agregation.html#mesurons-les-risques-du-fichier",
    "title": "Apply micro-agregation",
    "section": "Mesurons les risques du fichier",
    "text": "Mesurons les risques du fichier\nNous choisirons les variables quasi-identifiantes suivantes:\n\n\nCode\nkey_vars &lt;- c(\"AGE\",\"SEXE\",\"DEP\",\"DIP7\")\n\n\n\n\nCode\nlfs_sdc &lt;- sdcMicro::createSdcObj(\n  lfs_2023 |&gt; mutate(AGE = as.double(AGE)),\n  keyVars = key_vars,\n  numVars = \"AGE\"\n)\n\n\nLe tableau ci-dessous pr√©sente le nombre et la part d‚Äôindividus du fichier ne r√©pondant pas au crit√®re du \\(k\\)-anonymat, en fonction de la valeur de \\(k\\).\n\n\nCode\nks &lt;- 2:10\ndata.frame(\n  k = ks,\n  nb_ind_risk = sapply(ks, \\(k) sum(lfs_sdc@risk$individual[,\"fk\"] &lt; k))\n) |&gt;\n  mutate(part_ind_risk = nb_ind_risk / nrow(lfs_2023) * 100) |&gt;\n  knitr::kable(digits=1)\n\n\n\n\n\nk\nnb_ind_risk\npart_ind_risk\n\n\n\n\n2\n6687\n19.6\n\n\n3\n13587\n39.9\n\n\n4\n19362\n56.9\n\n\n5\n23550\n69.2\n\n\n6\n26875\n78.9\n\n\n7\n29347\n86.2\n\n\n8\n30985\n91.0\n\n\n9\n32241\n94.7\n\n\n10\n32970\n96.8\n\n\n\n\n\nEn choisissant de diffuser l‚Äô√¢ge d√©taill√©, la part d‚Äôindividus √† risque de r√©-identification est tr√®s √©lev√©e (19,6% pour k=2 et 69,2% pour k=5, par exemple).\nVoyons si l‚Äôapplication d‚Äôun algorithme de micro-agr√©gation permettrait de r√©duire ces risques."
  },
  {
    "objectID": "pratique/fiches/proteger-micro-agregation.html#la-micro-agr√©gation",
    "href": "pratique/fiches/proteger-micro-agregation.html#la-micro-agr√©gation",
    "title": "Apply micro-agregation",
    "section": "La micro-agr√©gation",
    "text": "La micro-agr√©gation\n\n\nCode\nlfs_sdc &lt;- microaggregation(\n  lfs_sdc,\n  variables = 'AGE',\n  aggr = 1000,\n  method = \"mdav\",\n  clustermethod = \"clara\",\n  measure = \"median\"\n)\n\n\n\n\nCode\npert &lt;- lfs_2023 |&gt; \n  bind_cols(AGE_ma = lfs_sdc@manipNumVars |&gt; pull(AGE))\n\n\n\n\nCode\ntable(pert$AGE_ma != pert$AGE)\n\n\n\nFALSE  TRUE \n16093 17960 \n\n\n\n\nCode\nhead(pert |&gt; select(DEP, SEXE, DIP7, AGE, AGE_ma))\n\n\n      DEP   SEXE   DIP7   AGE AGE_ma\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt;  &lt;num&gt;\n1:     76      1      4    53     53\n2:     76      2      7    43     42\n3:     76      2      5    17     16\n4:     76      1      4    17     16\n5:     92      1      7    42     42\n6:     92      2      7    54     53\n\n\n\n\nCode\npert_sdc &lt;- sdcMicro::createSdcObj(\n  pert,\n  keyVars = c(\"DEP\",\"SEXE\",\"AGE_ma\",\"DIP7\")\n)\n\ndata.frame(\n  k = ks,\n  nb_ind_risk = sapply(ks, \\(k) sum(pert_sdc@risk$individual[,\"fk\"] &lt; k))\n) |&gt;\n  mutate(part_ind_risk = nb_ind_risk / nrow(lfs_2023) * 100) |&gt;\n  knitr::kable(digits=1)\n\n\n\n\n\nk\nnb_ind_risk\npart_ind_risk\n\n\n\n\n2\n2730\n8.0\n\n\n3\n6220\n18.3\n\n\n4\n9907\n29.1\n\n\n5\n13455\n39.5\n\n\n6\n16725\n49.1\n\n\n7\n19521\n57.3\n\n\n8\n21936\n64.4\n\n\n9\n24176\n71.0\n\n\n10\n25967\n76.3"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "",
    "text": "Cette fiche pr√©sente la mani√®re d‚Äôappliquer la m√©thode des cl√©s al√©atoires avec le package cellKey.\nL‚Äôobjectif principal consiste √† bien ma√Ætriser les √©tapes successives permettant d‚Äôappliquer la m√©thode.\nLes d√©tails de cette m√©thode sont pr√©sent√©s ici."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#etape-1-cr√©ation-dune-cl√©-individuelle-al√©atoire",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#etape-1-cr√©ation-dune-cl√©-individuelle-al√©atoire",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Etape 1: Cr√©ation d‚Äôune cl√© individuelle al√©atoire",
    "text": "Etape 1: Cr√©ation d‚Äôune cl√© individuelle al√©atoire\nPour pouvoir reproduire la m√™me perturbation √©ventuellement plus tard, il est important de choisir une graine al√©atoire (seed). Cet argument int√©gr√© √† la fonction cellKey::ck_generate_rkeys permet de reg√©n√©rer les m√™mes nombres al√©atoires √† chaque fois.\n\n\n\n\n\n\nTipGestion des cl√©s individuelles dans une cha√Æne de production\n\n\n\nEn production, il serait pr√©f√©rable de g√©n√©rer les cl√©s une fois et de stocker le jeu de donn√©es avec les cl√©s cr√©√©es une fois. L‚Äôargument seed permet de g√©n√©rer la m√™me s√©quence de nombres al√©atoires, mais cette reproductibilit√© d√©pend du type de machine sur laquelle cette s√©quence est g√©n√©r√©e: sur une machine Linux, il n‚Äôest pas garantie que le r√©sultat soit identique √† une machine Windows.\nLes cl√©s al√©atoires sont le seul √©l√©ment vraiement al√©atoire dans la m√©thode dite des cl√©s al√©atoires (CKM), il est donc important de les conserver de mani√®re s√©curis√©e avec le jeu de donn√©es individuelles et de ne les transmettre qu‚Äôaux personnes disposant des droits.\n\n\n\n\nCode\nlfs_2023$rk &lt;- ck_generate_rkeys(dat = lfs_2023, nr_digits = 7, seed=441960)\n\n\nCette op√©ration cr√©e une colonne suppl√©mentaire, ici appel√©e rk(pour record key), dont la distribution est uniforme, comme souhait√©e:\n\n\nCode\nhist(lfs_2023$rk)"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#etape-2-construction-du-tableau",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#etape-2-construction-du-tableau",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Etape 2: Construction du tableau",
    "text": "Etape 2: Construction du tableau\n\nPr√©paration des variables\nAvec le package cellKey, il faut sp√©cifier chaque variable: modalit√©s, embo√Ætements √©ventuels et la modalit√© du total.\n\n\nCode\ndim_reg &lt;- hier_create(\n    root = \"Total\", \n    nodes = sort(unique(lfs_2023$REG))\n)\nhier_display(dim_reg)\n\n\nTotal\n‚îú‚îÄ11\n‚îú‚îÄ28\n‚îú‚îÄ76\n‚îî‚îÄ94\n\n\n\n\nCode\ndim_sexe &lt;- hier_create(\n    root = \"Total\", \n    nodes = sort(unique(lfs_2023$SEXE))\n)\nhier_display(dim_sexe)\n\n\nTotal\n‚îú‚îÄ1\n‚îî‚îÄ2\n\n\n\n\nCode\ndim_age6 &lt;- hier_create(\n    root = \"Total\", \n    nodes = sort(unique(lfs_2023$AGE6))\n)\nhier_display(dim_age6)\n\n\nTotal\n‚îú‚îÄ15\n‚îú‚îÄ25\n‚îú‚îÄ50\n‚îú‚îÄ65\n‚îî‚îÄ90\n\n\n\n\nCode\ndim_acteu &lt;- hier_create(\n    root = \"Total\", \n    nodes = sort(unique(lfs_2023$ACTEU))\n)\nhier_display(dim_acteu)\n\n\nTotal\n‚îú‚îÄ1\n‚îú‚îÄ2\n‚îî‚îÄ3\n\n\n\n\nCode\ndims_vars &lt;- list(REG=dim_reg, SEXE=dim_sexe, AGE6=dim_age6, ACTEU = dim_acteu)\n\n\n\n\nCode\ntableau1 &lt;- ck_setup(\n  x = lfs_2023,\n  rkey = \"rk\",\n  dims = dims_vars\n)\n\n\ntableau1est un objet R6, et non directement un tableau.\n\n\nCode\nclass(tableau1)\n\n\n[1] \"cellkey_obj\" \"R6\"         \n\n\nL‚Äôensemble des m√©thodes (fonctions qui s‚Äôappliquent √† un objet) sont disponibles en utilisant la fonction str(tableau1).\nOn peut, par exemple, contruire le tableau des comptages originaux :\n\n\nCode\ntableau1$freqtab() |&gt; head()\n\n\n      REG   SEXE   AGE6  ACTEU  vname   uwc    wc  puwc   pwc\n   &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;\n1:  Total  Total  Total  Total  total 34053 34053    NA    NA\n2:  Total  Total  Total      1  total 16878 16878    NA    NA\n3:  Total  Total  Total      2  total  1362  1362    NA    NA\n4:  Total  Total  Total      3  total 15813 15813    NA    NA\n5:  Total  Total     15  Total  total  4474  4474    NA    NA\n6:  Total  Total     15      1  total  1437  1437    NA    NA\n\n\nOn peut s‚Äôapercevoir que la fonction a bien calcul√© l‚Äôensemble des marges du tableau et pas seulement les croisements les plus fins."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#etape-3-construire-la-matrice-de-transition",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#etape-3-construire-la-matrice-de-transition",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Etape 3: Construire la matrice de transition",
    "text": "Etape 3: Construire la matrice de transition\nPour construire la matrice de transition, on utilse le package ptablede la mani√®re suivante:\nLes param√®tres principaux sont:\n\nD: l‚Äôamplitude de la d√©viation\nV: la variance du bruit\njs: le seuil d‚Äôinterdiction des petites valeurs\n\n\n\n\n\n\n\nImportantLe calcul de la matrice de transition\n\n\n\nLa matrice de transition est construite de fa√ßon √† respecter au mieux les contraintes suivantes:\n\nchaque distribution est sans biais\nchaque distribution est de variance maximale V\nles z√©ros ne sont pas perturb√©s\naucun comptage pertrub√© n‚Äôest strictement n√©gatif\nsi \\(js&gt;0\\), les valeurs comprises entre \\(1\\) et \\(js-1\\) sont interdites.\n\nDans le package ptable, les distributions sont optimis√©es pour maximiser leur entropie.\nAvec tout cela, certaines combinaisons de param√®tres ne permettent pas de construire une matrice, souvent en raison d‚Äôune variance trop faible.\n\n\nChoisissons pour l‚Äôexemple: D=10, V=10, js=4. Avec ce dernier param√®tre, on choisit de ne pas avoir de comptages √©gaux √† 1, 2 ou 3 dans notre tableau final.\n\n\nCode\nptab1 &lt;- create_cnt_ptable(D = 10, V = 10, js = 4)\n\n\nObservons les distributions de probabilit√©s propos√©es:\n\n\nCode\nplot(ptab1, type=\"d\")"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#etape-4-d√©terminer-la-perturbation",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#etape-4-d√©terminer-la-perturbation",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Etape 4: D√©terminer la perturbation",
    "text": "Etape 4: D√©terminer la perturbation\nLa perturbation est appliqu√©e directement par une fonction du package cellKey, mais il est important de noter que la table de perturbation est directement accessible dans l‚Äôobjet ptabque nous venons de cr√©er:\n\n\nCode\nptab1@pTable |&gt; head()\n\n\n       i     j          p     v  p_int_lb  p_int_ub   type\n   &lt;num&gt; &lt;num&gt;      &lt;num&gt; &lt;num&gt;     &lt;num&gt;     &lt;num&gt; &lt;char&gt;\n1:     0     0 1.00000000     0 0.0000000 1.0000000    all\n2:     1     0 0.84121944    -1 0.0000000 0.8412194    all\n3:     1     5 0.06535617     4 0.8412194 0.9065756    all\n4:     1     6 0.03920686     5 0.9065756 0.9457825    all\n5:     1     7 0.02352001     6 0.9457825 0.9693025    all\n6:     1     8 0.01410954     7 0.9693025 0.9834120    all\n\n\nOn applique cette table de perturbation √† l‚Äôobjet tableau1 construit pr√©c√©demment:\n\n\nCode\nparams1 &lt;- ck_params_cnts(ptab = ptab1)\ntableau1$params_cnts_set(val = params1, v = \"total\")\n\n\n--&gt; setting perturbation parameters for variable 'total'"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#etape-5-construire-le-tableau-perturb√©",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#etape-5-construire-le-tableau-perturb√©",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Etape 5: Construire le tableau perturb√©",
    "text": "Etape 5: Construire le tableau perturb√©\nOn s‚Äôappuie sur la m√©thode perturb() de notre objet tableau1. Celle-ci appliquera la perturbation en utilisant les cl√©s individuelles et la matrice de transition.\n\n\nCode\ntableau1$perturb(v = \"total\")\n\n\nCount variable 'total' was perturbed.\n\n\nPour r√©cup√©rer le r√©sultat:\n\n\nCode\ntableau1$freqtab(v = \"total\")\n\n\n        REG   SEXE   AGE6  ACTEU  vname   uwc    wc  puwc   pwc\n     &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;\n  1:  Total  Total  Total  Total  total 34053 34053 34055 34055\n  2:  Total  Total  Total      1  total 16878 16878 16877 16877\n  3:  Total  Total  Total      2  total  1362  1362  1363  1363\n  4:  Total  Total  Total      3  total 15813 15813 15814 15814\n  5:  Total  Total     15  Total  total  4474  4474  4474  4474\n ---                                                           \n356:     94      2     65      3  total    74    74    70    70\n357:     94      2     90  Total  total     0     0     0     0\n358:     94      2     90      1  total     0     0     0     0\n359:     94      2     90      2  total     0     0     0     0\n360:     94      2     90      3  total     0     0     0     0"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#analyser-les-r√©sultats",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#analyser-les-r√©sultats",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Analyser les r√©sultats",
    "text": "Analyser les r√©sultats\nIl est important de pouvoir se faire une id√©e de la d√©formation que la perturbation a produite nos donn√©es.\nLe package cellKey propose un ensemble de m√©triques, dont:\n\nd1: les √©carts absolus entre donn√©es originales et perturb√©es.\nd2: les √©carts absolus relatifs entre donn√©es originales et perturb√©es.\nd3: les √©carts absolus entre les racines carr√©es des donn√©es originales et perturb√©es.\n\n\n\nCode\ntableau1$measures_cnts(v = \"total\", exclude_zeros = TRUE)\n\n\n$overview\n     noise   cnt         pct\n    &lt;fctr&gt; &lt;int&gt;       &lt;num&gt;\n 1:     -9     2 0.005555556\n 2:     -8     2 0.005555556\n 3:     -7     3 0.008333333\n 4:     -6    10 0.027777778\n 5:     -5    14 0.038888889\n 6:     -4    21 0.058333333\n 7:     -3    31 0.086111111\n 8:     -2    26 0.072222222\n 9:     -1    41 0.113888889\n10:      0    79 0.219444444\n11:      1    34 0.094444444\n12:      2    38 0.105555556\n13:      3    25 0.069444444\n14:      4    15 0.041666667\n15:      5    12 0.033333333\n16:      6     5 0.013888889\n17:      7     1 0.002777778\n18:      8     1 0.002777778\n\n$measures\n      what    d1    d2    d3\n    &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;\n 1:    Min  0.00 0.000 0.000\n 2:    Q10  0.00 0.000 0.000\n 3:    Q20  1.00 0.000 0.011\n 4:    Q30  1.00 0.001 0.024\n 5:    Q40  2.00 0.002 0.037\n 6:   Mean  2.52 0.066 0.106\n 7: Median  2.00 0.004 0.049\n 8:    Q60  3.00 0.007 0.069\n 9:    Q70  3.00 0.016 0.102\n10:    Q80  4.00 0.033 0.164\n11:    Q90  5.00 0.101 0.266\n12:    Q95  6.00 0.188 0.397\n13:    Q99  8.00 0.737 0.645\n14:    Max  9.00 4.000 1.236\n\n$cumdistr_d1\n       cat   cnt       pct\n    &lt;char&gt; &lt;int&gt;     &lt;num&gt;\n 1:      0    38 0.1241830\n 2:      1   112 0.3660131\n 3:      2   168 0.5490196\n 4:      3   223 0.7287582\n 5:      4   257 0.8398693\n 6:      5   283 0.9248366\n 7:      6   297 0.9705882\n 8:      7   301 0.9836601\n 9:      8   304 0.9934641\n10:      9   306 1.0000000\n\n$cumdistr_d2\n           cat   cnt       pct\n        &lt;char&gt; &lt;int&gt;     &lt;num&gt;\n1:    [0,0.02]   222 0.7254902\n2: (0.02,0.05]   255 0.8333333\n3:  (0.05,0.1]   275 0.8986928\n4:   (0.1,0.2]   292 0.9542484\n5:   (0.2,0.3]   296 0.9673203\n6:   (0.3,0.4]   298 0.9738562\n7:   (0.4,0.5]   302 0.9869281\n8:   (0.5,Inf]   306 1.0000000\n\n$cumdistr_d3\n           cat   cnt       pct\n        &lt;char&gt; &lt;int&gt;     &lt;num&gt;\n1:    [0,0.02]    84 0.2745098\n2: (0.02,0.05]   155 0.5065359\n3:  (0.05,0.1]   213 0.6960784\n4:   (0.1,0.2]   261 0.8529412\n5:   (0.2,0.3]   280 0.9150327\n6:   (0.3,0.4]   291 0.9509804\n7:   (0.4,0.5]   295 0.9640523\n8:   (0.5,Inf]   306 1.0000000\n\n$false_zero\n[1] 13\n\n$false_nonzero\n[1] 0\n\n$exclude_zeros\n[1] TRUE\n\n\nEn moyenne, la perturbation a g√©n√©r√©e une d√©viation de \\(\\pm2.52\\) dans les cases de notre tableau."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-1",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-1",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Exercice 1",
    "text": "Exercice 1\nReproduire le r√©sultat de la perturbation pour la case REG=11,SEXE=1,AGE6=25,ACTEU=2, dont les valeurs originales et perturb√©es sont les suivantes:\n\n\nCode\ntableau1$freqtab(v = \"total\") |&gt;\n    filter(REG==\"11\",SEXE==\"1\",AGE6==\"25\", ACTEU==\"2\")\n\n\n      REG   SEXE   AGE6  ACTEU  vname   uwc    wc  puwc   pwc\n   &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;\n1:     11      1     25      2  total   173   173   173   173\n\n\nPour cela vous aurez besoin:\n\nde construire la cl√© de la case correspondante √† partir des donn√©es individuelles\nd‚Äôutiliser la table de perturbation ptab1@pTable pour r√©cup√©rer la perturbation √† appliquer sur votre case.\n\nRetrouvez-vous le m√™me r√©sultat que cellKey."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-2",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-2",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Exercice 2:",
    "text": "Exercice 2:\nAppliquer √† nouveau la perturbation sur tableau1, en posant js=0. Les r√©sultats sont-ils de meilleure qualit√©?"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-3",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-3",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Exercice 3:",
    "text": "Exercice 3:\nAppliquer un arrondi de base 10 au tableau1. Les r√©sultats sont-ils de meilleure qualit√© ?"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-4",
    "href": "pratique/fiches/proteger-tableaux-cellkey.html#exercice-4",
    "title": "Prot√©ger des tableaux avec la m√©thode des cl√©s al√©atoires",
    "section": "Exercice 4:",
    "text": "Exercice 4:\nAppliquer la m√©thode aux deux autres tableaux de donn√©es. Comme ces tableaux ont des cases communes, vous v√©rifierez que les r√©sultats sont bien identiques sur celles-ci."
  },
  {
    "objectID": "pratique/fiches/analyse-demande.html",
    "href": "pratique/fiches/analyse-demande.html",
    "title": "Analyser une demande",
    "section": "",
    "text": "Exercice 1\nOn souhaite diffuser 4 tableaux :\n- T1 : population par √¢ge (5 classes), par sexe et par d√©partement\n- T2 : population par sexe, par dipl√¥me et par d√©partement\n- T3 : population par cat√©gorie socioprofessionnelle, statut d‚Äôactivit√© et par d√©partement\n- T4 : population par √¢ge, par sexe et par statut d‚Äôactivit√©\nQuel est le r√©sultat de l‚Äôanalyse ?\n\n\n\n\n\n\nNoteR√©ponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le m√™me champ.\nDe plus, ils partagent le m√™me indicateur : ¬´ population ¬ª. Ils sont donc li√©s √† minima par le total. Ainsi, il n‚Äôy a pas de sous-demande ind√©pendante (i.e.¬†il faudra traiter tous les tableaux dans un m√™me appel √† rtauargus::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Les variables entre elles n‚Äôont pas de liens hi√©rarchiques (variable g√©ographique uniquement d√©partementale). Les tableaux ne peuvent pas √™tre fusionn√©s.\nDans cet exemple, la liste des tableaux √† prot√©ger est identique √† la liste des tableaux √† diffuser.\n\n\n\n\n\nExercice 2\nOn souhaite diffuser 7 tableaux :\n- T1 : population par √¢ge (5 classes), par sexe et par d√©partement\n- T2 : population par sexe, par dipl√¥me et par d√©partement\n- T3 : population par cat√©gorie socioprofessionnelle, statut d‚Äôactivit√© et par d√©partement\n- T4 : population par √¢ge, par sexe et par statut d‚Äôactivit√©\n- T5 : population par √¢ge (5 classes), par sexe et par r√©gion\n- T6 : population par sexe, par dipl√¥me et par r√©gion\n- T7 : population par cat√©gorie socioprofessionnelle, statut d‚Äôactivit√© et par r√©gion\nQuel est le r√©sultat de l‚Äôanalyse ?\n\n\n\n\n\n\nNoteR√©ponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le m√™me champ.\nDe plus, ils partagent le m√™me indicateur : ¬´ population ¬ª. Ils sont donc li√©s √† minima par le total. Ainsi, il n‚Äôy a pas de sous-demande ind√©pendante (i.e.¬†il faudra traiter tous les tableaux dans un m√™me appel √† rtauargus ::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Deux variables ont un lien hi√©rarchique : r√©gion &gt; d√©partement. Les tableaux partageant les m√™mes variables de croisement peuvent √™tre fusionn√©es. Lors du traitement il faudra sp√©cifier ce lien hi√©rarchique dans un fichier .hrc.\nLa liste des tableaux √† prot√©ger est donc la suivante :\n- T1 : population par √¢ge (5 classes), par sexe et par GEO\n- T2 : population par sexe, par dipl√¥me et par GEO\n- T3 : population par cat√©gorie socioprofessionnelle, statut d‚Äôactivit√© et par GEO\n- T4 : population par √¢ge, par sexe et par statut d‚Äôactivit√© O√π GEO est une variable hi√©rarchique embo√Ætant r√©gions et d√©partements.\n\n\n\n\n\nExercice 3\nOn souhaite diffuser 4 tableaux :\n- T1 : population par √¢ge (3 classes : &lt;25, 25-55 , +55) et par d√©partement\n- T2 : population par √¢ge (5 classes : &lt;15, 15-25, 25-45, 45-65, +65), par sexe et par d√©partement\n- T3 : population par √¢ge (3 classes : &lt;25, 25-55 , +55) et par r√©gion\n- T4 : population par √¢ge (5 classes : &lt;15, 15-25, 25-45, 45-65, +65), par sexe et par r√©gion\nQuel est le r√©sultat de l‚Äôanalyse ?\n\n\n\n\n\n\nNoteR√©ponse\n\n\n\n\n\nIci, il est sous-entendu que les tableaux partagent le m√™me champ.\nDe plus, ils partagent le m√™me indicateur : ¬´ population ¬ª. Ils sont donc li√©s √† minima par le total. Ainsi, il n‚Äôy a pas de sous-demande ind√©pendante (i.e.¬†il faudra traiter tous les tableaux dans un m√™me appel √† rtauargus::tab_multi_manager()).\nCertains tableaux ont des variables de croisements communes, il y a donc aussi des liens sur les marges. Deux variables ont un lien hi√©rarchique : r√©gion &gt; d√©partement. Les tableaux partageant les m√™mes variables de croisement peuvent √™tre fusionn√©es. Lors du traitement il faudra sp√©cifier ce lien hi√©rarchique dans un fichier .hrc.\nEn formalisant, dans un premier temps on peut donc passer de cette liste de tableaux :\n- T1 : pop \\(\\otimes\\) {age_3 x dep}\n- T2 : pop \\(\\otimes\\) {age_5 x sexe x dep}\n- T3 : pop \\(\\otimes\\) {age_3 x reg}\n- T4 : pop \\(\\otimes\\) {age_5 x sexe x reg}\nA cette liste de tableaux :\n- T1 : pop \\(\\otimes\\) {age_3 x GEO}\n- T2 : pop \\(\\otimes\\) {age_5 x sexe x GEO}\nDe plus, on voit que la variable √¢ge est ventil√©e diff√©remment entre T1 et T2. On v√©rifie d‚Äôabord si les modalit√©s des variables sont embo√Æt√©es (si c‚Äôest le cas on peut les regrouper dans une seule et m√™me variable). Cependant, dans ce cas-ci les modalit√©s ne sont pas embo√Æt√©es. Donc, on essaye de regrouper le maximum de modalit√©s dans une seule variable hi√©rarchique dont les niveaux sont embo√Æt√©s. On obtient la hi√©rarchie AGE_hrc_princ pr√©sent√©e plus bas.\nEt avec le reste des modalit√©s non incluses dans cette hi√©rarchie on en cr√©e une deuxi√®me AGE_hrc_spe.\nN.B. cette hi√©rarchie est ¬´ √† plat ¬ª puisqu‚Äôil y a un seul niveau hi√©rarchique\nDe plus, les super-totaux ne sont pas pr√©cis√©s ici (comme dans les fichiers .hrc) mais pour la premi√®re hi√©rarchie le super-total est simplement le total de toutes les classes d‚Äô√¢ge et pour la seconde hi√©rarchie le total est ¬´ 45-65 ¬ª (la classe d‚Äô√¢ge pr√©sente dans la hi√©rarchie √¢ge en 5 classes).\nDonc dans une deuxi√®me √©tape on se retrouve avec ces tableaux :\n- T1 : pop \\(\\otimes\\) {AGE_hrc_princ x GEO}\n- T1bis : pop \\(\\otimes\\) {AGE_hrc_spe x GEO}\n- T2 : pop \\(\\otimes\\) {AGE_hrc_princ x sexe x GEO}\n- T2bis : pop \\(\\otimes\\) {AGE_hrc_spe x sexe x GEO}\nO√π GEO est une variable hi√©rarchique embo√Ætant r√©gions et d√©partements.\nO√π AGE_hrc_princ (hi√©rarchie principale) est une variable hi√©rarchique embo√Ætant l‚Äôensemble des cat√©gories d‚Äô√¢ge sauf 45-65.\nO√π AGE_hrc_spe (agr√©gat sp√©cial) inclus les modalit√©s 45-55 + 55-65 avec 45-65 en super-total.\nFinalement, on se rend compte que T1 est inclus dans T2 et T1bis est inclus dans T2bis. Donc, on se retrouve avec les deux tableaux suivants :\n- T1 : pop \\(\\otimes\\) {AGE_hrc_princ x sexe x GEO}\n- T2 : pop \\(\\otimes\\) {AGE_hrc_spe x sexe x GEO}\nC‚Äôest cette liste de tableaux qu‚Äôil faut prot√©ger.\n\n\n\nHi√©rarchies propos√©es dans la correction :\n\n\n\n\n\ngraph TD\n    A[&lt;25] --&gt; A1[&lt;15]\n    A --&gt; A2[15-25]\n    B[25-55] --&gt; B1[25-45]\n    B --&gt; B2[45-55]\n    C[+55] --&gt; C1[55-65]\n    C --&gt; C2[+65]\n    D[Total] --&gt; A\n    D[Total] --&gt; B\n    D[Total] --&gt; C\n\n\n\n\n\n\n\nHi√©rarchie AGE_hrc_princ\n\n\n\n\n\n\ngraph TD\n    A[45-65] --&gt; A1[45-55]\n    A --&gt; A2[55-65]\n\n\n\n\n\n\n\nHi√©rarchie AGE_hrc_spe"
  },
  {
    "objectID": "glossaire/index.html",
    "href": "glossaire/index.html",
    "title": "Glossary",
    "section": "",
    "text": "M\nMicrodata: A microdata dataset is the equivalent of an individual data dataset, in which each record (each row) corresponds to the information of a statistical unit (individual, household, company, etc.), information from a survey, a directory or an administrative file."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Code\n\n\n\n\n\nThis site offers a range of theoretical and practical resources to help you learn about statistical data protection.\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/index.html",
    "href": "pratique/index.html",
    "title": "In practice",
    "section": "",
    "text": "TipTo practice\n\n\n\nTo reproduce the results and complete the exercises, you can work directly on thedatalabINSEE website.\nIf you have an account, you canopen an RStudio serviceoran R-Python vscode service, whichever you prefer.\nThese services will automatically install the packages needed to complete the exercises in all of the practical worksheets.\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "pratique/fiches/perturbatif.html",
    "href": "pratique/fiches/perturbatif.html",
    "title": "Practical perturbative methods",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "pratique/fiches/description-data.html",
    "href": "pratique/fiches/description-data.html",
    "title": "Description of the data",
    "section": "",
    "text": "Pour installer les packages n√©cessaires, vous trouverez les instructions √† suivre dans la fiche Ressources / Installer les packages et les outils sur R."
  },
  {
    "objectID": "pratique/fiches/description-data.html#pr√©sentation",
    "href": "pratique/fiches/description-data.html#pr√©sentation",
    "title": "Description of the data",
    "section": "Pr√©sentation",
    "text": "Pr√©sentation\nLes donn√©es utilis√©es dans la plupart des fiches pratiques sont sont un jeu fictif inspir√© du fichier public de l‚Äô√©chantillon annuel de l‚ÄôEnqu√™te Emploi en Continu mis √† disposition par l‚ÄôInsee sur son site internet.\nLe code de construction des donn√©es est consultable sur le d√©p√¥t github du projet. Ce code intervient de plusieurs fa√ßons sur les donn√©es publiques:\n\nCr√©ation de variables pour les besoins des exercices, par exemple:\n\nlocalisation fictive des individus sur trois niveaux g√©ographiques embo√Æt√©s (variables ARR, DEP et REG),\n√¢ge d√©taill√© des individus, construit √† partir de la cat√©gorie d‚Äô√¢ge connue,\nrecodage des valeurs manquantes (le plus souvent NA devenant 99),\ns√©lection d‚Äôun sous-√©chantillon du fichier public,\nrecalage des poids pour permettre l‚Äôestimation des taux de ch√¥mage etc.\n\n\n\nIl est donc important de prendre en consid√©ration que le jeu de donn√©es utilis√© est fictif et les r√©sultats obtenus ne doivent pas √™tre pris autrement que comme les r√©sultats de donn√©es quasi-fictives.\n\nDans ce petit document, sont pr√©sent√©es les variables utilis√©es dans les diff√©rents exercices afin de faciliter la prise en main et la compr√©hension des choix r√©alis√©s."
  },
  {
    "objectID": "pratique/fiches/description-data.html#import",
    "href": "pratique/fiches/description-data.html#import",
    "title": "Description of the data",
    "section": "Import",
    "text": "Import\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()"
  },
  {
    "objectID": "pratique/fiches/description-data.html#description",
    "href": "pratique/fiches/description-data.html#description",
    "title": "Description of the data",
    "section": "Description",
    "text": "Description\n\n\nCode\nstr(lfs_2023)\n\n\nClasses 'data.table' and 'data.frame':  34053 obs. of  16 variables:\n $ REG      : Factor w/ 4 levels \"11\",\"28\",\"76\",..: 2 2 2 2 1 1 1 1 1 3 ...\n $ DEP      : Factor w/ 28 levels \"09\",\"11\",\"12\",..: 19 19 19 19 25 25 26 21 21 9 ...\n $ ARR      : Factor w/ 83 levels \"091\",\"092\",\"093\",..: 53 53 53 53 73 73 75 62 62 27 ...\n $ SEXE     : Factor w/ 2 levels \"1\",\"2\": 1 2 2 1 1 2 2 1 2 1 ...\n $ AGE      : int  53 43 17 17 42 54 57 20 17 28 ...\n $ AGE6     : Factor w/ 5 levels \"15\",\"25\",\"50\",..: 3 2 1 1 2 3 3 1 1 2 ...\n $ ACTEU    : Factor w/ 3 levels \"1\",\"2\",\"3\": 1 1 3 3 1 1 1 3 3 1 ...\n $ DIP7     : Factor w/ 9 levels \"1\",\"2\",\"3\",\"4\",..: 4 7 5 4 7 7 7 7 7 5 ...\n $ PCS1Q    : Factor w/ 10 levels \"0\",\"10\",\"20\",..: 4 7 10 10 9 9 7 10 10 8 ...\n $ ANCCHOM  : Factor w/ 10 levels \"1\",\"2\",\"3\",\"4\",..: 10 10 10 10 10 10 10 10 10 10 ...\n $ HHID     : int  3558 3558 3558 3558 5973 5973 6779 4906 4906 1135 ...\n $ HH_TAILLE: Factor w/ 22 levels \"1\",\"2\",\"3\",\"4\",..: 4 4 4 4 2 2 1 2 2 3 ...\n $ HH_AGE   : Factor w/ 90 levels \"15\",\"16\",\"17\",..: 39 39 39 39 40 40 43 6 6 14 ...\n $ HH_DIP   : Factor w/ 9 levels \"1\",\"2\",\"3\",\"4\",..: 4 4 4 4 7 7 7 7 7 5 ...\n $ HH_PCS   : Factor w/ 10 levels \"0\",\"10\",\"20\",..: 4 4 4 4 9 9 7 10 10 8 ...\n $ IS_CHOM  : int  0 0 0 0 0 0 0 0 0 0 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nLes variables du jeu de donn√©es sont les suivantes:\n\nREG : R√©gion de r√©sidence (variable fictive)\nDEP : D√©partement de r√©sidence (variable fictive)\nARR : Arrondissement de r√©sidence (variable fictive)\nSEXE : Sexe de l‚Äôindividu\nAGE : √Çge d√©taill√© de l‚Äôindividu (variable reconstruite)\nAGE6 : √Çge en 6 classes (‚Äú15‚Äù: signifie les ‚Äòles 15-24 ans‚Äô, ‚Äú90‚Äù: d√©signe les ‚Äò90 ans ou plus‚Äô)\nACTEU : Statut d‚Äôactivit√© en 3 catg√©ories: 1=Actifs en emploi; 2=Actifs au ch√¥mage; 3=Inactifs (retrait√©s, √©tudiants, etc.)\nDIP7 : Niveau du dipl√¥me le plus √©lev√© en 9 cat√©gories (1: niveau le plus bas, 9: niveau le plus √©lev√©, 99: donn√©es manquantes (uniquement pour les 90 ans ou plus)).\nPCS1Q : Profession ou Cat√©gorie Sociale\nANCCHOM : Anciennet√© au ch√¥mage\nHHID : Identifiant du m√©nage\nHH_TAILLE: Nombre d‚Äôindividus du m√©nage\nHH_AGE : √Çge de la personne la plus √¢g√©e du m√©nage\nHH_DIP : Dipl√¥me de la personne la plus √¢g√©e du m√©nage\nHH_PCS : Profession ou cat√©gorie sociale de la personne la plus √¢g√©e du m√©nage\nIS_CHOM. : La personne est au ch√¥mage (TRUE/FALSE)"
  },
  {
    "objectID": "pratique/fiches/arbitrage.html",
    "href": "pratique/fiches/arbitrage.html",
    "title": "Balancing risk and utility",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "pratique/fiches/suppression-locale.html",
    "href": "pratique/fiches/suppression-locale.html",
    "title": "Appliquer la suppression locale",
    "section": "",
    "text": "TipPour s‚Äôexercer\n\n\n\nPour reproduire les r√©sultats et r√©aliser les exercices, il est possible de travailler directement sur le datalab de l‚ÄôInsee. Si vous disposez d‚Äôun compte, vous pouvez Ouvrir un service RStudio ou Ouvrir un service vscode R-Python, √† votre convenance. Ces services installeront automatiquement les packages n√©cessaires pour r√©aliser les exercices de l‚Äôensemble des fiches pratiques."
  },
  {
    "objectID": "pratique/fiches/suppression-locale.html#les-packages",
    "href": "pratique/fiches/suppression-locale.html#les-packages",
    "title": "Appliquer la suppression locale",
    "section": "Les packages",
    "text": "Les packages\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union"
  },
  {
    "objectID": "pratique/fiches/suppression-locale.html#les-donn√©es",
    "href": "pratique/fiches/suppression-locale.html#les-donn√©es",
    "title": "Appliquer la suppression locale",
    "section": "Les donn√©es",
    "text": "Les donn√©es\n\n\nCode\nsource(\"../R/fun_import_data.R\")\nlfs_2023 &lt;- import_lfs()\n\n\n\n\nCode\nhead(lfs_2023)\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0\n\n\nPour plus d‚Äôinformations sur les donn√©es, on pourra se reporter √† la fiche ‚ÄúPr√©sentation des donn√©es‚Äù.\n\n\nCode\nlfs_2023 %&gt;% head()\n\n\n      REG    DEP    ARR   SEXE   AGE   AGE6  ACTEU   DIP7  PCS1Q ANCCHOM  HHID\n   &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;int&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;  &lt;fctr&gt; &lt;int&gt;\n1:     28     76    761      1    53     50      1      4     30      99  3558\n2:     28     76    761      2    43     25      1      7     52      99  3558\n3:     28     76    761      2    17     15      3      5     99      99  3558\n4:     28     76    761      1    17     15      3      4     99      99  3558\n5:     11     92    922      1    42     25      1      7     62      99  5973\n6:     11     92    922      2    54     50      1      7     62      99  5973\n   HH_TAILLE HH_AGE HH_DIP HH_PCS IS_CHOM\n      &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt; &lt;fctr&gt;   &lt;int&gt;\n1:         4     53      4     30       0\n2:         4     53      4     30       0\n3:         4     53      4     30       0\n4:         4     53      4     30       0\n5:         2     54      7     62       0\n6:         2     54      7     62       0"
  },
  {
    "objectID": "pratique/fiches/suppression-locale.html#etude-du-risque",
    "href": "pratique/fiches/suppression-locale.html#etude-du-risque",
    "title": "Appliquer la suppression locale",
    "section": "Etude du risque",
    "text": "Etude du risque\n\n\nCode\nkey_vars &lt;- c(\"AGE\",\"SEXE\",\"DEP\",\"DIP7\")\n\n\n\n\nCode\nf &lt;- freqCalc(lfs_2023, keyVars = key_vars)\nf\n\n\n\n --------------------------\n\n\n6687 obs. violate 2-anonymity \n\n\n13587 obs. violate 3-anonymity \n\n\n --------------------------\n\n\nLe fichier n‚Äôest pas 2-anonyme pour 6 687 observations. Ce sont 13 587 qui ne sont pas 3-anonyme.\n\n\nCode\nf$fk %&gt;% head()\n\n\n[1] 2 3 1 6 2 5\n\n\nCode\nf$Fk %&gt;% head()\n\n\n[1] 2 3 1 6 2 5\n\n\nIci, fk = Fk puisqu‚Äôil n‚Äôy a pas de poids.\n\n\nCode\nindivf &lt;- indivRisk(f)\n\nlength(indivf$rk[indivf$rk &gt; 0.5])\n\n\n[1] 6687\n\n\nCode\nlength(indivf$rk[indivf$rk &gt;= 0.5])\n\n\n[1] 13587\n\n\nOn retrouve le m√™me nombre d‚Äôobservations qu‚Äôavec le k-anonymat."
  },
  {
    "objectID": "pratique/fiches/suppression-locale.html#suppression-locale",
    "href": "pratique/fiches/suppression-locale.html#suppression-locale",
    "title": "Appliquer la suppression locale",
    "section": "Suppression locale",
    "text": "Suppression locale\nSuppression locale pour atteindre le k-anonymat avec localSuppression():\n- obj : un objet de classe sdcMicroObj ou un dataframe - k : le seuil de k-anonymat, par d√©faut k = 2 - importance : vecteur num√©rique qui repr√©sente l‚Äôimportance des variables qui sont utilis√©es pour obtenir le k-anonymat. Les variables dont l‚Äôimportance vaut 1 seront, dans la mesure du possible, conserv√©es - combs : vecteur num√©rique qui pr√©cise le nombre de variables par combinaison pour lesquelles on veut atteindre le k-anonymat.\n\nPremi√®re tentative\nDans un premier temps on essaye d‚Äôobtenir un fichier 2-anonyme pour ces variables quasi-identifiantes : AGE,SEXE,DEP,DIP7.\n\n\nCode\nlocalS_initiale &lt;- localSuppression(lfs_2023,\n                                    k = 2,\n                                    keyVar = key_vars)\n\n\n\n\nCode\nlocalS_initiale\n\n\n\n-----------------------\nTotal number of suppressions in the key variables: 6687 (new: 6687)\n\nNumber of suppressions by key variables:\n(in parenthesis, the total number suppressions is shown)\n\n\n          AGE  SEXE     DEP  DIP7\n1 6672 (6672) 0 (0) 15 (15) 0 (0)\n\n\n\n2-anonymity == TRUE\n-----------------------\n\n\nEn supprimant 6687 observations on btient un fichier 2-anonyme.\n\n\nCode\nplot(localS_initiale)\n\n\n\n\n\n\n\n\n\nL‚Äôalgorithme a choisi de supprimer l‚Äô√¢ge de 6672 individus. Le d√©partement de r√©sidence de 15 individus est aussi supprim√©.\n\n\nCode\nhead(localS_initiale$xAnon)\n\n\n  AGE SEXE DEP DIP7\n1  53    1  76    4\n2  43    2  76    7\n3  NA    2  76    5\n4  17    1  76    4\n5  42    1  92    7\n6  54    2  92    7\n\n\nOn voit par exemple, que l‚Äô√¢ge du troisi√®me individus √©t√© supprim√©.\n\n\nL‚Äô√¢ge en classes\nLa premi√®re tentative de suppression peut ne pas convenir car elle supprime beaucoup d‚Äôinformations. On proc√®de donc √† un recodage de la variable d‚Äô√¢ge en 6 classes.\nCette fois-ci on commence par cr√©er un objet sdcMicro (mais on pouvait aussi faire la suppression locale directement √† partir du dataframe comme dans l‚Äôexemple pr√©c√©dent).\n\n\nCode\nsdc_AGE6 &lt;- createSdcObj(lfs_2023,\n                         keyVars = c(\"AGE6\",\"SEXE\",\"DEP\",\"DIP7\"))\n\n\n\n\nCode\nprint(sdc_AGE6, 'kAnon')\n\n\nInfos on 2/3-Anonymity:\n\nNumber of observations violating\n  - 2-anonymity: 77 (0.226%)\n  - 3-anonymity: 267 (0.784%)\n  - 5-anonymity: 825 (2.423%)\n\n----------------------------------------------------------------------\n\n\nEn discr√©tisant l‚Äô√¢ge en 6 cat√©gories, il n‚Äôy a plus que 77 observations qui ne sont pas 2-anonyme, et 267 qui ne sont pas 3-anonyme.\n\n\nCode\nsdc_AGE6 &lt;- localSuppression(sdc_AGE6, k = 2)\n\n\n\n\nCode\nprint(sdc_AGE6@localSuppression$totalSupps)\n\n\n  AGE6 SEXE DEP DIP7\n1    0    0  77    0\n\n\nPour atteindre le 2-anonymat, l‚Äôalgorithme a choisi de supprimer les d√©partements de 77 individus. Donc, on supprime des modalit√©s d‚Äôune seule variable et moins de cellules. Ce n‚Äôest pas surprenant puisque le fichier original contenait moins d‚Äôindividus qui ne respectaient pas les 2-anonymat.\nOn peut essayer de reproduire un graphe proche de celui cr√©√© automatiquement quand on utilise un dataframe en entr√©e.\n\n\nCode\n# Extraire les variables manipul√©es apr√®s suppression\nsuppressed &lt;- get.sdcMicroObj(sdc_AGE6, type = \"manipKeyVars\")\n\n# Calculer le nombre de suppressions (NA) par variable\nsupp_counts &lt;- colSums(is.na(as.data.frame(suppressed)))\n\n# Convertir en data.frame pour ggplot2\ndf_supp &lt;- data.frame(\n  variable = names(supp_counts),\n  n_suppressions = as.numeric(supp_counts)\n)\n\n# Histogramme ggplot\nggplot(df_supp, aes(x = variable, y = n_suppressions)) +\n  geom_bar(stat = \"identity\", fill = \"tomato\", color = \"black\") +\n  geom_text(aes(label = n_suppressions), vjust = -0.5, size = 4) +\n  labs(\n    title = \"Number of suppressions to achieve k-anonymity.\",\n    x = \"Key variables\",\n    y = \"Number of suppressions\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nOn peut r√©cup√©rer les donn√©es modifi√©es.\n\n\nCode\ndonnees_ls_AGE6 &lt;- extractManipData(sdc_AGE6)\nhead(donnees_ls_AGE6 %&gt;% filter(is.na(DEP)))\n\n\n  REG  DEP ARR SEXE AGE AGE6 ACTEU DIP7 PCS1Q ANCCHOM HHID HH_TAILLE HH_AGE\n1  76 &lt;NA&gt; 822    2  61   50     1    6    52      99 5093         2     61\n2  76 &lt;NA&gt; 653    1  57   50     1    6    40      99 2533         2     57\n3  28 &lt;NA&gt; 613    2  73   65     3    1    99      99 2470         1     73\n4  76 &lt;NA&gt; 121    2  19   15     1    5    52      99  236         2     36\n5  76 &lt;NA&gt; 663    1  19   15     1    1    30      99 2575         3     56\n6  76 &lt;NA&gt; 113    1  23   15     3    7    99      99  182         3     36\n  HH_DIP HH_PCS IS_CHOM\n1      6     52       0\n2      6     40       0\n3      1     99       0\n4      3     51       0\n5      4     61       0\n6      3     40       0\n\n\nOn peut regarder les croisements de quasi-identifiants pour lesquels il n‚Äôy a plus d‚Äôinformation sur le d√©partement.\n\n\nCode\ndonnees_ls_AGE6 %&gt;%\n  filter(is.na(DEP)) %&gt;%\n  group_by(AGE6, SEXE, DIP7) %&gt;%\n  summarise(nb_ind = n(), .groups = \"drop\")\n\n\n# A tibble: 34 √ó 4\n   AGE6  SEXE  DIP7  nb_ind\n   &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;  &lt;int&gt;\n 1 15    1     1          3\n 2 15    1     2          3\n 3 15    1     3          2\n 4 15    1     5          1\n 5 15    1     6          2\n 6 15    1     7          1\n 7 15    1     9          2\n 8 15    2     1          4\n 9 15    2     2          2\n10 15    2     3          2\n# ‚Ñπ 24 more rows\n\n\n\n\nPrioriser des variables\nPeut-√™tre que pour la publication pr√©vue, l‚Äôinformation du d√©partement √©tait tr√®s importante. Dans ce cas-l√† on peut pr√©ciser que nous souhaitons prot√©ger la variable d√©partement dans la mesure du possible.\n\n\nCode\nsdc_AGE6 &lt;- undolast(sdc_AGE6) # annule la derni√®re suppression locale\nsdc_AGE6 &lt;- localSuppression(sdc_AGE6,\n                             k = 2,\n                             importance = c(4,3,1,2))\n\n\n\n\nCode\nsdc_AGE6@localSuppression$totalSupps\n\n\n  AGE6 SEXE DEP DIP7\n1   58    4   2   13\n\n\nIci, l‚Äôalgorithme propose une autre solution qui permet de supprimer uniquement 2 d√©partements. Cependant, en faisant cela il supprime des cellules dans chacune des variables.\nParmi les 4 variables quasi-identifiantes on peut d√©cider que le dipl√¥me est la variable la moins importante √† conserver.\n\n\nCode\nsdc_AGE6 &lt;- undolast(sdc_AGE6) # annule la derni√®re suppression locale\nsdc_AGE6 &lt;- localSuppression(sdc_AGE6,\n                             k = 2,\n                             importance = c(1,1,1,4))\n\n\n\n\nCode\nsdc_AGE6@localSuppression$totalSupps\n\n\n  AGE6 SEXE DEP DIP7\n1    1    1   2   73\n\n\nDans ce cas-l√†, l‚Äôalgorithme supprime le dipl√¥me pour 73 individus. AGE, SEXE et DEP sont aussi touch√©s par des suppressions mais celles-ci sont tr√®s faibles.\n\n\nk-anonymat pour des sous-groupes de quasi-identifiants\nOn peut aussi vouloir des niveaux de k-anonymat diff√©rents selon le nombre de quasi-identifiants.\nPar exemple, on souhaite avoir du 2-anonymat pour les combinaisons de 4 quasi-identifiants, 3-anonymat pour les combinaisons de 3 quasi-identifiants.\n\n\nCode\nsdc_AGE6 &lt;- undolast(sdc_AGE6) # annule la derni√®re suppression locale\n\ncombinaisons &lt;- c(4,3)\nniv_k &lt;- c(2,3)\n\nsdc_AGE6 &lt;- localSuppression(sdc_AGE6,\n                             k = niv_k,\n                             combs = combinaisons)\n\n\n\n\nCode\nsdc_AGE6@localSuppression$totalSupps\n\n\n  AGE6 SEXE DEP DIP7\n1    0    0  87    2\n\n\nPour obtenir un fichier qui respecte ces deux r√®gles de k-anonymat il faut supprimer plus de cellules : - le d√©partement de 87 individus - le dipl√¥me de 2 individus"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "",
    "text": "Cette fiche pratique pr√©sente une fa√ßon de prot√©ger des tableaux en utilisant une m√©thode suppressive gr√¢ce au package rtauargus qui appelle Tau-Argus depuis R. Le code peut √™tre enti√®rement cach√© ou visible gr√¢ce au bouton √† droite du titre. Vous pouvez aussi le faire appara√Ætre ou dispara√Ætre au fur et √† mesure de la lecture en appuyant sur les boutons &lt;/&gt; Code."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#pr√©sentation-des-donn√©es-individuelles",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#pr√©sentation-des-donn√©es-individuelles",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Pr√©sentation des donn√©es individuelles",
    "text": "Pr√©sentation des donn√©es individuelles\nNous cr√©ons un jeu de donn√©es entreprises (1 ligne = 1 entreprise) pour lesquelles on dispose d‚Äôinformations telles que l‚Äôactivit√©, la cat√©gorie juridique, la g√©ographie d‚Äôimplantation (variables NUTS) et la tranche d‚Äôeffectifs. Pour chaque entreprise on dispose √©galement du chiffre d‚Äôaffaires (CA) selon le type de produits (salades, pizzas, batavias, l√©gumes rouges, etc.).\n\n\nCode\nstr(micro)\n\n\ntibble [10,000 √ó 14] (S3: tbl_df/tbl/data.frame)\n $ a10     : chr [1:10000] \"BE\" \"MN\" \"BE\" \"OQ\" ...\n $ a21     : chr [1:10000] \"C\" \"N\" \"E\" \"Q\" ...\n $ a88     : chr [1:10000] \"C27\" \"N78\" \"E38\" \"Q87\" ...\n $ nuts1   : chr [1:10000] \"FR1\" \"FRC\" \"FRJ\" \"FRF\" ...\n $ nuts2   : chr [1:10000] \"FR10\" \"FRC2\" \"FRJ2\" \"FRF2\" ...\n $ nuts3   : chr [1:10000] \"FR103\" \"FRC22\" \"FRJ25\" \"FRF22\" ...\n $ treff   : chr [1:10000] \"tr3\" \"tr1\" \"tr1\" \"tr3\" ...\n $ cj      : chr [1:10000] \"LL\" \"LL\" \"LL\" \"PA\" ...\n $ maches  : num [1:10000] 73625 72960 49101 61880 61224 ...\n $ batavias: num [1:10000] 55324 52754 31679 33658 38232 ...\n $ salades : num [1:10000] 128949 125714 80780 95538 99456 ...\n $ tomates : num [1:10000] 130212 344992 164522 176079 145249 ...\n $ pizzas  : num [1:10000] 116520 0 0 267409 0 ...\n $ poids   : num [1:10000] 242 179 184 50 164 103 53 234 239 243 ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-un-indicateur",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-un-indicateur",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Tabuler un indicateur",
    "text": "Tabuler un indicateur\nOn veut construire le chiffre d‚Äôaffaires en salades des entreprises par activit√© (niveau a88) et par tranche d‚Äôeffectifs (treff).\n\n\nCode\nsalades &lt;- tabulate_micro_data(\n  df = micro,\n  cat_var = c(\"a88\", \"treff\"),\n  pond_var = \"poids\",\n  resp_var = \"salades\",\n  marge_label = \"Total\"\n)\n\n\nLe r√©sultat est un tableau long avec :\n\nLes variables de croisement (a88 et treff)\nDiff√©rents indicateurs :\n\nnb_obs: comptage du nombre d‚Äôentreprises (pour appliquer la r√®gle de fr√©quence)\nsalades_tot: indicateur / variable de r√©ponse (ici total du chiffre d‚Äôaffaire de salades)\nsalades_max: contribution maximale au chiffre d‚Äôaffaires (pour appliquer la r√®gle de dominance) Toutes les marges (totaux et sous-totaux) ont √©t√© ajout√©es √† la table.\n\n\n\n\nCode\nstr(salades)\n\n\nClasses 'data.table' and 'data.frame':  351 obs. of  5 variables:\n $ a88        : chr  \"C27\" \"N78\" \"E38\" \"Q87\" ...\n $ treff      : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs     : num  19554 17371 20839 20224 17122 ...\n $ salades_tot: num  1.74e+09 1.54e+09 1.82e+09 1.86e+09 1.57e+09 ...\n $ salades_max: num  137073 137203 140522 144429 140834 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt;"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#calculer-plusieurs-indicateurs-en-m√™me-temps",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#calculer-plusieurs-indicateurs-en-m√™me-temps",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Calculer plusieurs indicateurs en m√™me temps",
    "text": "Calculer plusieurs indicateurs en m√™me temps\nOn veut construire deux tableaux :\n\nle chiffre d‚Äôaffaires de la production de pizzas des entreprises par activit√© (niveau A10), par tranche d‚Äôeffectifs (treff) et cat√©gorie juridique (cj);\nle chiffre d‚Äôaffaires de la production de tomates des entreprises par activit√© (niveau A10), par tranche d‚Äôeffectifs (treff) et cat√©gorie juridique (cj).\n\nCes deux tableaux ont les m√™mes variables de croisement et deux indicateurs diff√©rents. Ils peuvent √™tre construits en m√™me temps.\n\n\nCode\npizzas_tomates &lt;- tabulate_micro_data(\n  df = micro,\n  cat_vars = c(\"a10\", \"treff\",\"cj\"),\n  pond_var = \"poids\",\n  resp_var = c(\"pizzas\",\"tomates\"),\n  marge_label = \"Ensemble\"\n)\n\nstr(pizzas_tomates)\n\n\nClasses 'data.table' and 'data.frame':  174 obs. of  8 variables:\n $ a10        : chr  \"BE\" \"MN\" \"OQ\" \"RU\" ...\n $ treff      : chr  \"Ensemble\" \"Ensemble\" \"Ensemble\" \"Ensemble\" ...\n $ cj         : chr  \"Ensemble\" \"Ensemble\" \"Ensemble\" \"Ensemble\" ...\n $ nb_obs     : num  608493 239202 75471 171537 184607 ...\n $ pizzas_tot : num  2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n $ tomates_tot: num  1.54e+11 6.20e+10 1.83e+10 4.44e+10 4.62e+10 ...\n $ pizzas_max : num  899871 898861 899157 898798 899906 ...\n $ tomates_max: num  499928 499883 494816 499526 499837 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt;"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Poser le secret secondaire",
    "text": "Poser le secret secondaire\nPoser un masque de secret sur un tableau comprend les √©tapes suivantes:\n\nTout d‚Äôabord on pose le secret primaire. Pour cela, il faut cr√©er cr√©er des variables indicatrices :\n\nPour chacun des tableaux, vous ajouterez une variable bool√©enne indiquant si la cellule est probl√©matique (TRUE) ou non (FALSE), au regard de chacune des r√®gles pertinentes √† appliquer :\n\nSi vous appliquez la r√®gle de fr√©quence, la variable cr√©√©e s‚Äôappellera is_secret_freq;\nSi vous appliquez la r√®gle de dominance, la variable cr√©√©e s‚Äôappellera is_secret_dom.\n\nPuis de cr√©er une variable qu‚Äôon appellera is_secret_prim, d√©finie ainsi :\n\nis_secret_prim = is_secret_freq si seule la r√®gle de fr√©quence doit s‚Äôappliquer;\nis_secret_prim = is_secret_freq | is_secret_dom si les deux r√®gles doivent s‚Äôappliquer;\n\n\nApr√®s avoir pos√© le secret primaire, vous calculerez le nombre de cellules d√©tect√©es comme √† risque.\nEnsuite, il s‚Äôagit de poser le secret secondaire en utilisant le package rtauargus. Les consignes d‚Äôinstallation de rtauargus et du logiciel Tau-Argus sont indiqu√©es dans la partie Initialisation. Vous utiliserez la fonction tab_rtauargus().\nEnfin, vous calculerez le nombre de cellules selon leur statut final. Nous utiliserons pour cela la norme europ√©enne en notant :\n\n\nA les cellules en secret primaire √† cause de la r√®gle de fr√©quence\nB les cellules en secret primaire √† cause de la r√®gle de dominance (dans le futur ces cellules pourraient √™tre not√©es O)\nD les cellules concern√©es par le secret secondaire\nV les cellules non touch√©es par le secret, cad les cellules qui pourront √™tre diffus√©es.\n\nLa fonction tab_rtauargus() permet de poser le secret secondaire et requiert les arguments suivants :\n- tabular : la table √† prot√©ger - dir_name : le nom du r√©pertoire o√π les fichiers seront sauvegard√©s - files_name : le nom utilis√© pour nommer les fichiers (chaque fichier a une extension diff√©rente); - explanatory_vars : le nom des variables de croisements pr√©sents dans la table; - secret_var : le nom de la variable indiquant si une cellule est √† risque ou non (secret primaire); - value : nom de la variable de r√©ponse; - freq : nom de la variable d‚Äôeffectifs; - totcode : le code utilis√© pour indiquer le total pour chacune des variables de croisements (explanatory_vars).\n\n\nCode\nsalades_masq &lt;- tab_rtauargus(\n  salades_detect,\n  dir_name = \"tauargus_files/exo2\",\n  files_name = \"T0\",\n  explanatory_vars = c(\"a88\",\"treff\"),\n  secret_var = \"is_secret_prim\",\n  value = \"salades_tot\",\n  freq = \"nb_obs\",\n  totcode = c(a88=\"Total\",treff=\"Total\"),\n  verbose = FALSE\n)"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-les-r√©sultats",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-les-r√©sultats",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Analyser les r√©sultats",
    "text": "Analyser les r√©sultats\n\nLes fichiers cr√©√©s lors de l‚Äôex√©cution de Tau-Argus\nL‚Äôensemble des fichiers cr√©√©s pendant le processus se trouvent dans le r√©pertoire mentionn√© dans l‚Äôargument dir_name. Tous les fichiers ont le m√™me nom, mais pas la m√™me extension:\n\nT0.tab : tableau de donn√©es\nT0.hst : fichier d‚Äôapriori o√π sont list√©es les cellules √† risque (secret primaire)\nT0.rda : fichier de m√©tadonn√©es;\nT0.arb : fichier batch, qui sera ex√©cut√© par Tau-Argus\nT0.txt : fichier log, retra√ßant les √©tapes ex√©cut√©es par Tau-Argus\nT0.csv : masque au format csv\n\n\n\nLe masque\nLe masque est retourn√© par la fonction. Ce masque est une copie de la table fournie en entr√©e √† laquelle une variable suppl√©mentaire, Status, est fournie indiquant le statut final de la cellule:\n\nB : secret primaire (ou apriori)\nD : secret secondaire\nV : cellule valide, cad qui peut √™tre diffus√©e\n\n\n\nCode\nstr(salades_masq)\n\n\nClasses 'data.table' and 'data.frame':  351 obs. of  9 variables:\n $ a88           : chr  \"A01\" \"A01\" \"A01\" \"A01\" ...\n $ treff         : chr  \"Total\" \"tr1\" \"tr2\" \"tr3\" ...\n $ nb_obs        : num  16978 7660 856 8462 19026 ...\n $ salades_tot   : num  1.53e+09 6.99e+08 7.44e+07 7.61e+08 1.67e+09 ...\n $ salades_max   : num  136845 130891 106591 136845 142618 ...\n $ is_secret_freq: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ is_secret_dom : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ is_secret_prim: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ Status        : chr  \"V\" \"V\" \"V\" \"V\" ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n - attr(*, \"sorted\")= chr [1:2] \"a88\" \"treff\"\n\n\n\n\nBilan du secret\nPour faire le bilan du secret le mieux est de modifier la variable Status fournie par Tau-Argus. En effet, cette variable ne permet pas de faire la distinction entre l‚Äôorigine du secret primaire (fr√©quence ou dominance).\n\n\nCode\nsalades_masq_statut_final &lt;- salades_masq %&gt;% \n  mutate(\n    statut_final = case_when(\n      is_secret_freq ~ \"A\",\n      is_secret_dom ~ \"B\",\n      TRUE ~ Status,\n    )\n  )\n\n\nAfin de bien appr√©hender l‚Äôimpact du secret pos√©, on va non seulement compter le nombre de cellules masqu√©es, mais aussi calculer la valeur des cellules masqu√©es.\n\n\nCode\nsalades_masq_statut_final %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(salades_tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 3 √ó 5\n  statut_final n_cell     val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;        &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                 4       402294     1.14    0.0000714\n2 D                 2       625022     0.570   0.000111 \n3 V               345 563464335844    98.3   100.0      \n\n\nOn masque 1.5% des cellules mais moins de 0.01% de l‚Äôinformation totale."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#construction-du-fichier-hi√©rarchique-pour-tau-argus",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#construction-du-fichier-hi√©rarchique-pour-tau-argus",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Construction du fichier hi√©rarchique pour Tau-Argus",
    "text": "Construction du fichier hi√©rarchique pour Tau-Argus\n\n‚ÄúA la main‚Äù\nLa premi√®re option consiste √† cr√©er le fichier n√©cessaire (extension .hrc) √† la main. Ceci est tout √† fait pertinent si la hi√©rarchie n‚Äôest pas trop √©tendue.\nTau-Argus attend en effet un type de fichier bien particulier, dont l‚Äôextension est .hrc. Il s‚Äôagit d‚Äôun simple fichier texte o√π les diff√©rents embo√Ætements sont √©crits les uns en-dessous des autres. Un symbole (le @) est utilis√© pour pr√©ciser le niveau de chacun des embo√Ætements au sein de la hi√©rarchie.\nPar exemple, un fichier contenant les lignes suivantes :\nALL\n(A?)\n@(A1?)\n@(A2?)\n(B?)\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\n(C?)\nd√©crit une hi√©rarchie contenant les embo√Ætements suivants:\n\nALL = A + B + C =&gt; ALL est le total et A, B et C sont les embo√Ætements de niveau 1;\nA = A1 + A2 =&gt; A1 et A2 sont des sous-niveaux de A, donc des embo√Ætements de niveau 2;\nB = B1 + B2\nB2 = B21 + B22\n\nN√©anmoins, pour utiliser cette hi√©rarchie avec Tau-Argus, le super-total (ici ‚ÄúALL‚Äù) ne doit pas appara√Ætre dans le fichier .hrc qui lui est fourni.\nLe bon fichier est donc le suivant :\nA\n@(A1?)\n@(A2?)\nB\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\nC\n\n\nAutomatiquement\nQuand la hi√©rarchie est tr√®s √©tendue, l‚Äô√©criture manuelle du fichier de hi√©rarchie est p√©nible. Or, quand ce genre de cas se pr√©sente, il existe souvent une table de correspondance permettant d‚Äôassocier les diff√©rents niveaux entre eux.\nNous appelons table de correspondance une table qui pr√©cise l‚Äôensemble des niveaux associ√©s aux embo√Ætements les plus fins.\nLa table de correspondance repr√©sentant la hi√©rarchie suivante :\nALL\n(A?)\n@(A1?)\n@(A2?)\n(B?)\n@(B1?)\n@(B2?)\n@@(B21?)\n@@(B22?)\n(C?)\nest la suivante:\n\n\nCode\ncorr_tab &lt;- tibble(\n  niv0 = \"ALL\",\n  niv1 = c(rep(\"A\",2),rep(\"B\",3), \"C\"),\n  niv2 = c(\"A1\",\"A2\",\"B1\",rep(\"B2\",2), \"C\"),\n  niv3 = c(\"A1\",\"A2\",\"B1\", \"B21\", \"B22\", \"C\")\n)\ncorr_tab\n\n\n# A tibble: 6 √ó 4\n  niv0  niv1  niv2  niv3 \n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1 ALL   A     A1    A1   \n2 ALL   A     A2    A2   \n3 ALL   B     B1    B1   \n4 ALL   B     B2    B21  \n5 ALL   B     B2    B22  \n6 ALL   C     C     C    \n\n\nRemarque: La fonction rtauargus::write_hrc2() qui permet de construire le fichier .hrc √† partir d‚Äôune table de correspondance n‚Äôaccepte pas de valeurs manquantes dans la table en entr√©e. C‚Äôest pourquoi, √† la derni√®re ligne, par exemple, C n‚Äôadmettant pas de subdivisions est r√©p√©t√© sur les niveaux inf√©rieurs.\nAvec la fonction write_hrc2() du package rtauargus, on peut exporter la table de correspondance en un fichier hrc. Comme not√© pr√©c√©demment, Tau-Argus n‚Äôacceptant pas que le super-total d‚Äôune variable hi√©rarchique soit pr√©sent dans le fichier .hrc on le supprime:\n\n\nCode\nwrite_hrc2(corr_tab %&gt;% select(-niv0), file_name = \"fichiers_tauargus/hrc/exemple_TA.hrc\")\nread.table(\"fichiers_tauargus/hrc/exemple_TA.hrc\")\n\n\n     V1\n1     A\n2   @A1\n3   @A2\n4     B\n5   @B1\n6   @B2\n7 @@B21\n8 @@B22\n9     C"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#protection",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#protection",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Protection",
    "text": "Protection\nA pr√©sent nous prot√©geons le tableau T0 pour lequel on vient de construire la hi√©rarchie.\nLa variable geo est hi√©rarchique (Pays = Nord + Ouest + Est + Sud, par exemple), on construit le fichier ad√©quat.\nTable de passage (habituellement elle existe d√©j√† mais pour l‚Äôexercice nous la cr√©ons) et appel √† rtauargus::write_hrc2().\n\n\nCode\ncorr_pays &lt;- tibble(\n  niv1 = c(rep(\"Nord\", 3), rep(\"Ouest\", 4), rep(\"Est\", 3), rep(\"Sud\", 2)),\n  niv2 = c(\"N1\", \"N2\", \"N3\", \"O1\", \"O2\", \"O3\", \"O4\", \"E1\", \"E2\", \"E3\", \"S1\", \"S2\")\n)\n\nwrite_hrc2(corr_pays, file_name = \"fichiers_tauargus/hrc/pays.hrc\")\nread.table(\"fichiers_tauargus/hrc/pays.hrc\")\n\n\n      V1\n1   Nord\n2    @N1\n3    @N2\n4    @N3\n5  Ouest\n6    @O1\n7    @O2\n8    @O3\n9    @O4\n10   Est\n11   @E1\n12   @E2\n13   @E3\n14   Sud\n15   @S1\n16   @S2\n\n\nNous pouvons d√®s lors poser le masque de secret sur ce tableau. Pour cela, nous faisons toujours appel √† la fonction tab_rtauargus.\n\n1. Poser le secret primaire\n\n\nCode\nstr(T0)\n\n\n'data.frame':   17 obs. of  2 variables:\n $ geo : chr  \"Pays\" \"Nord\" \"Ouest\" \"Est\" ...\n $ freq: num  400 46 191 80 83 21 2 23 32 54 ...\n\n\nIl s‚Äôagit d‚Äôun tableau d‚Äôeffectifs/de fr√©quence, on pose donc seulement le secret primaire de fr√©quence.\n\n\nCode\nT0_detect &lt;- T0 %&gt;% \n  mutate(\n      is_secret_freq = freq &gt; 0 & freq &lt; 3\n    )\n\ntable(T0_detect$is_secret_freq)\n\n\n\nFALSE  TRUE \n   16     1 \n\n\n\n\n2. Lancer Tau-Argus pour poser le secret secondaire\nPour que l‚Äôinformation hi√©rarchique soit bien prise en compte lors de la pose du secret secondaire par Tau-Argus, il suffit de renseigner l‚Äôargument hrc = sous la forme d‚Äôun vecteur nomm√© c(var1 = fichier1, var2 = fichier2,...): le nom de chaque √©l√©ment √©tant le nom de la variable concern√©e et la valeur √©tant la localisation du fichier .hrc correspondant.\n\n\nCode\nT0_masq &lt;- tab_rtauargus(\n  T0_detect,\n  dir_name = \"fichiers_tauargus/sorties/ex_hrc_pays\",\n  files_name = \"T0\",\n  explanatory_vars = \"geo\",\n  hrc = c(geo = \"fichiers_tauargus/hrc/pays.hrc\"),\n  secret_var = \"is_secret_freq\",\n  value = \"freq\",\n  totcode = c(geo=\"Pays\"),\n  verbose = FALSE\n)\n\n\nV√©rifions que le secret a √©t√© pos√© correctement :\n\n\nCode\nT0_masq\n\n\n     geo freq is_secret_freq Status\n1     E1   27          FALSE      V\n2     E2   41          FALSE      V\n3     E3   12          FALSE      V\n4    Est   80          FALSE      V\n5     N1   21          FALSE      D\n6     N2    2           TRUE      B\n7     N3   23          FALSE      V\n8   Nord   46          FALSE      V\n9     O1   32          FALSE      V\n10    O2   54          FALSE      V\n11    O3   67          FALSE      V\n12    O4   38          FALSE      V\n13 Ouest  191          FALSE      V\n14  Pays  400          FALSE      V\n15    S1   44          FALSE      V\n16    S2   39          FALSE      V\n17   Sud   83          FALSE      V\n\n\nLa cellule N2 est en secret primaire car elle a une fr√©quence inf√©rieure √† 3. Il faut donc poser un secret secondaire pour prot√©ger cette cellule. On voit que N1 est en secret secondaire ce qui permet de prot√©ger N2 de la diff√©renciation avec le total Nord. Donc, on a bien ici une pose de secret qui respecte la hi√©rarchie de la variable geo.\nRegardons √† pr√©sent le secret pos√© sans prendre en compte la hi√©rarchie sur la variable geo :\n\n\nCode\nT0_masq_sans_hrc &lt;- tab_rtauargus(\n  T0_detect,\n  dir_name = \"fichiers_tauargus/sorties/ex_hrc_pays\",\n  files_name = \"T0\",\n  explanatory_vars = \"geo\",\n  # hrc = c(geo = \"fichiers_tauargus/hrc/pays.hrc\"),\n  secret_var = \"is_secret_freq\",\n  value = \"freq\",\n  totcode = c(geo=\"Pays\"),\n  verbose = FALSE\n)\n\n\nCette fois-ci le secret secondaire est pos√© en E3, pour minimiser les valeurs supprim√©es. Mais ce secret ne tient pas car on peut retrouver la valeur de N2 en faisant N2 = Nord - N1.\n\n\nCode\nT0_masq_sans_hrc\n\n\n     geo freq is_secret_freq Status\n1     E1   27          FALSE      V\n2     E2   41          FALSE      V\n3     E3   12          FALSE      D\n4    Est   80          FALSE      V\n5     N1   21          FALSE      V\n6     N2    2           TRUE      B\n7     N3   23          FALSE      V\n8   Nord   46          FALSE      V\n9     O1   32          FALSE      V\n10    O2   54          FALSE      V\n11    O3   67          FALSE      V\n12    O4   38          FALSE      V\n13 Ouest  191          FALSE      V\n14  Pays  400          FALSE      V\n15    S1   44          FALSE      V\n16    S2   39          FALSE      V\n17   Sud   83          FALSE      V"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-la-demande",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#analyser-la-demande",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Analyser la demande",
    "text": "Analyser la demande\nA partir des microdonn√©es pr√©sent√©es dans la partie ‚ÄúTabuler les donn√©es‚Äù, on souhaite publier les tableaux suivants.\n\n\n\n\n\nTab\nVar_reponse\nexpl_var1\nexpl_var2\n\n\n\n\nT1\nca_pizzas\nNuts2\nTREFF\n\n\nT2\nca_pizzas\nNuts3\nTREFF\n\n\nT3\nca_pizzas\nA10\nNuts2\n\n\nT4\nca_pizzas\nA10\nNuts3\n\n\nT5\nca_pizzas\nA21\nNuts2\n\n\nT6\nca_pizzas\nA21\nNuts3\n\n\nT7\nca_pizzas\nA88\nNuts2\n\n\nT8\nca_pizzas\nA88\nNuts3\n\n\nT9\nca_batavia\nA10\nTREFF\n\n\nT10\nca_batavia\nA10\nCJ\n\n\nT11\nca_batavia\nA21\nTREFF\n\n\nT12\nca_batavia\nA21\nCJ\n\n\nT13\nca_batavia\nA88\nTREFF\n\n\nT14\nca_batavia\nA88\nCJ\n\n\nT15\nca_mache\nA10\nTREFF\n\n\nT16\nca_mache\nA10\nCJ\n\n\nT17\nca_mache\nA21\nTREFF\n\n\nT18\nca_mache\nA21\nCJ\n\n\nT19\nca_mache\nA88\nTREFF\n\n\nT20\nca_mache\nA88\nCJ\n\n\nT21\nca_salades\nA10\nTREFF\n\n\nT22\nca_salades\nA10\nCJ\n\n\nT23\nca_salades\nA21\nTREFF\n\n\nT24\nca_salades\nA21\nCJ\n\n\nT25\nca_salades\nA88\nTREFF\n\n\nT26\nca_salades\nA88\nCJ\n\n\n\n\n\nChamp de la population : entreprises fran√ßaises.\nInformations compl√©mentaires : il n'y a que deux types de salades les batavias et la m√¢che.\n\n\nPour n‚Äôoublier aucun lien entre les tableaux, on proc√®de √©tape par √©tape.\n\nLes tableaux sont-ils sur le m√™me champ ?\nOui les tableaux portent tous sur le m√™me champ des entreprises fran√ßaises.\n\n\nLes tableaux ont-ils les m√™mes variables r√©ponses ?\n\nT1-T8¬†: variable r√©ponse ¬´¬†ca_pizzas¬†¬ª\nT9-T14¬†: variable r√©ponse ¬´¬†ca_batavia¬†¬ª\nT15-T20¬†: variable r√©ponse ¬´¬†ca_mache¬†¬ª\nT21-T26¬†: variable r√©ponse ¬´¬†ca_salades¬†¬ª\n\n\n\nLes variables r√©ponses ont-elles un lien entre elles ?\nL‚Äôinformation compl√©mentaire nous identique qu‚Äôil n‚Äôy a que deux types de salades, les batavias et la m√¢che. On comprend donc que la somme des chiffres d‚Äôaffaires des batavias et des m√¢ches est √©gale au chiffre d‚Äôaffaires des salades¬†: ca_salades = ca_batavia + ca_mache. On peut donc regrouper tous les tableaux qui ont les m√™mes variables de croisement et l‚Äôun de ces trois indicateurs dans un m√™me tableau. Dans ce tableau on cr√©e une nouvelle variable de croisement qu‚Äôon peut nommer ¬´¬†crois_salades¬†¬ª. C‚Äôest le cas pour les tables de 9 √† 26, on peut les regrouper comme suit : - T9_T15_T21¬†: ca \\(\\otimes\\) {A10 x treff x crois_salades}\n- T10_T16_T22¬†: ca \\(\\otimes\\) {A10 x cj x crois_salades}\n- T11_T17_T23¬†: ca \\(\\otimes\\) {A21 x treff x crois_salades}\n- T12_T18_T24¬†: ca \\(\\otimes\\) {A21 x cj x crois_salades}\n- T13_T19_T25¬†: ca \\(\\otimes\\) {A88 x treff x crois_salades}\n- T14_T20_T26¬†: ca \\(\\otimes\\) {A88 x cj x crois_salades}\nOn en d√©duit donc qu‚Äôil y a deux sous-demandes ind√©pendantes / ¬´¬†clusters¬†¬ª¬†:\n- T1-T8 (cluster pizza)\n- T9-T26 (cluster salades)\n\n\nDans chacun des clusters variables de croisement identiques ?\nDans chacun des clusters y a-t-il des variables de croisement identiques¬†? Y a-t-il des variables de croisements li√©s par un lien hi√©rarchique¬†? Cluster pizza :\n- les variables ¬´¬†nuts2¬†¬ª et ¬´¬†nuts3¬†¬ª font partie de la m√™me hi√©rarchie ¬´¬†nuts¬†¬ª, autrement dit une hi√©rarchie sur la zone g√©ographique\n- les variables A10, A21 et A88 font partie de la hi√©rarchie ¬´¬†NAF¬†¬ª\nOn peut donc regrouper ces variables de croisement en deux variables de croisement ¬´¬†nuts¬†¬ª et ¬´¬†NAF¬†¬ª. On obtient donc 2 tableaux √† prot√©ger dans le cluster pizza :\n- T_A¬†: ca_pizzas \\(\\otimes\\) {nuts x treff}\n- T_B¬†: ca_pizzas \\(\\otimes\\) {naf x nuts}\nCes deux tableaux sont li√©s par leur marge sur nuts. Il faut les traiter ensemble dans le m√™me tab_multi_manager().\nCluster salades¬†: - les variables A10, A21 et A88 font partie de la hi√©rarchie ¬´¬†NAF¬†¬ª\nAinsi, on peut r√©ecrire les 6 tableaux √©crits plus haut de cette fa√ßon :\n- T9_T15_T21¬†: ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T10_T16_T22¬†: ca \\(\\otimes\\) {naf x cj x crois_salades}\n- T11_T17_T23¬†: ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T12_T18_T24¬†: ca \\(\\otimes\\) {naf x cj x crois_salades}\n- T13_T19_T25¬†: ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T14_T20_T26¬†: ca \\(\\otimes\\) {naf x cj x crois_salades}\nOn voit bien que plusieurs de ces tableaux sont en fait exactement les m√™mes, donc finalement les tableaux √† traiter pour ce cluster sont : - T_C¬†: ca \\(\\otimes\\) {naf x treff x crois_salades}\n- T_D: ca \\(\\otimes\\) {naf x cj x crois_salades}"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-les-donn√©es-1",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#tabuler-les-donn√©es-1",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Tabuler les donn√©es",
    "text": "Tabuler les donn√©es\nOn commence par tabuler les donn√©es pour l‚Äôindicateur ‚Äúchiffre d‚Äôaffaires vente pizzas‚Äù.\n\n\nCode\npizzas_tabule &lt;- tabulate_micro_data(\n  micro,\n  cat_vars = c(\"treff\"),\n  hrc_vars = list(naf = c(\"a10\",\"a21\",\"a88\"), nuts = c(\"nuts2\",\"nuts3\")),\n  pond_var = \"poids\",\n  resp_var = c(\"pizzas\"),\n  marge_label = \"Total\"\n)\n\nstr(pizzas_tabule)\n\n\nClasses 'data.table' and 'data.frame':  32222 obs. of  6 variables:\n $ naf       : chr  \"BE\" \"MN\" \"OQ\" \"RU\" ...\n $ nuts      : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ treff     : chr  \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs    : num  608493 239202 75471 171537 184607 ...\n $ pizzas_tot: num  2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n $ pizzas_max: num  899871 898861 899157 898798 899906 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nOn tabule ensuite pour les indicateurs ‚Äúchiffre d‚Äôaffaires vente m√¢ches, batavia et salades‚Äù. N.B. il faut cr√©er une nouvelle variable de croisement.\n\n\nCode\nsalades_tabule &lt;- tabulate_micro_data(\n  micro,\n  cat_vars = c(\"treff\",\"cj\"),\n  hrc_vars = list(naf = c(\"a10\",\"a21\",\"a88\")),\n  pond_var = \"poids\",\n  resp_var = c(\"salades\",\"batavias\",\"maches\"),\n  marge_label = \"Total\"\n)\n\nsalades_tabule_3var &lt;- salades_tabule %&gt;% \n  tidyr::pivot_longer(\n    cols = c(salades_tot, maches_tot, batavias_tot, \n             salades_max, maches_max, batavias_max),\n    names_to = c(\"crois_salades\", \".value\"),\n    names_pattern = \"(.*)_(tot|max)\"\n  )\n\nstr(salades_tabule_3var)\n\n\ntibble [5,484 √ó 7] (S3: tbl_df/tbl/data.frame)\n $ naf          : chr [1:5484] \"BE\" \"BE\" \"BE\" \"MN\" ...\n $ treff        : chr [1:5484] \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ cj           : chr [1:5484] \"Total\" \"Total\" \"Total\" \"Total\" ...\n $ nb_obs       : num [1:5484] 608493 608493 608493 239202 239202 ...\n $ crois_salades: chr [1:5484] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n $ tot          : num [1:5484] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n $ max          : num [1:5484] 144352 74992 69992 143830 74974 ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-primaire-2",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-primaire-2",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Poser le secret primaire",
    "text": "Poser le secret primaire\nSecret primaire pour les pizzas.\n\n\nCode\npizzas_tabule &lt;- pizzas_tabule %&gt;% mutate(\n  is_secret_freq = nb_obs &gt; 0 & nb_obs &lt; 3,\n  is_secret_dom = (pizzas_tot != 0) & (pizzas_max &gt; 0.85*pizzas_tot),\n  is_secret_prim = is_secret_freq | is_secret_dom\n)\n\ntable(pizzas_tabule$is_secret_prim)\n\n\n\nFALSE  TRUE \n32198    24 \n\n\nSecret primaire pour les salades.\n\n\nCode\nsalades_tabule_3var &lt;- salades_tabule_3var %&gt;% mutate(\n  is_secret_freq = nb_obs &gt; 0 & nb_obs &lt; 3,\n  is_secret_dom = (tot != 0) & (max &gt; 0.85*tot),\n  is_secret_prim = is_secret_freq | is_secret_dom\n)\n\ntable(pizzas_tabule$is_secret_prim)\n\n\n\nFALSE  TRUE \n32198    24"
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#cr√©ation-des-listes-de-tableaux",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#cr√©ation-des-listes-de-tableaux",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Cr√©ation des listes de tableaux",
    "text": "Cr√©ation des listes de tableaux\nPour le cluster des pizzas.\n\n\nCode\ntableaux_pizza &lt;- list(\n  pizza_nuts_treff = pizzas_tabule %&gt;% filter(naf == \"Total\") %&gt;% select(-naf), # T1.T2\n  pizza_nuts_naf = pizzas_tabule %&gt;% filter(treff == \"Total\") %&gt;% select(-treff) # T3.T4.T5.T6.T7.T8\n)\n\nstr(tableaux_pizza)\n\n\nList of 2\n $ pizza_nuts_treff:Classes 'data.table' and 'data.frame':  516 obs. of  8 variables:\n  ..$ nuts          : chr [1:516] \"FR10\" \"FRC2\" \"FRJ2\" \"FRF2\" ...\n  ..$ treff         : chr [1:516] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:516] 127326 67459 117119 60272 72450 ...\n  ..$ pizzas_tot    : num [1:516] 4.90e+10 2.63e+10 4.40e+10 2.25e+10 2.60e+10 ...\n  ..$ pizzas_max    : num [1:516] 897221 897459 898798 899167 898691 ...\n  ..$ is_secret_freq: logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:516] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..- attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n $ pizza_nuts_naf  :Classes 'data.table' and 'data.frame':  11943 obs. of  8 variables:\n  ..$ naf           : chr [1:11943] \"BE\" \"MN\" \"OQ\" \"RU\" ...\n  ..$ nuts          : chr [1:11943] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:11943] 608493 239202 75471 171537 184607 ...\n  ..$ pizzas_tot    : num [1:11943] 2.34e+11 9.00e+10 3.14e+10 6.65e+10 7.09e+10 ...\n  ..$ pizzas_max    : num [1:11943] 899871 898861 899157 898798 899906 ...\n  ..$ is_secret_freq: logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:11943] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..- attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\nPour le cluster des salades.\n\n\nCode\ntableaux_salades &lt;- list(\n  salades_naf_treff = salades_tabule_3var %&gt;% filter(cj == \"Total\") %&gt;% select(-cj), # T9.T15.T21.T11.T17.T23.T13.T19.T25\n  salades_naf_cj = salades_tabule_3var %&gt;% filter(treff == \"Total\") %&gt;% select(-treff) # T10.T16.T22.T12.T18.T24.T14.T20.T26\n)\n\nstr(tableaux_salades)\n\n\nList of 2\n $ salades_naf_treff: tibble [1,425 √ó 9] (S3: tbl_df/tbl/data.frame)\n  ..$ naf           : chr [1:1425] \"BE\" \"BE\" \"BE\" \"MN\" ...\n  ..$ treff         : chr [1:1425] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:1425] 608493 608493 608493 239202 239202 ...\n  ..$ crois_salades : chr [1:1425] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n  ..$ tot           : num [1:1425] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n  ..$ max           : num [1:1425] 144352 74992 69992 143830 74974 ...\n  ..$ is_secret_freq: logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:1425] FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ salades_naf_cj   : tibble [1,428 √ó 9] (S3: tbl_df/tbl/data.frame)\n  ..$ naf           : chr [1:1428] \"BE\" \"BE\" \"BE\" \"MN\" ...\n  ..$ cj            : chr [1:1428] \"Total\" \"Total\" \"Total\" \"Total\" ...\n  ..$ nb_obs        : num [1:1428] 608493 608493 608493 239202 239202 ...\n  ..$ crois_salades : chr [1:1428] \"salades\" \"maches\" \"batavias\" \"salades\" ...\n  ..$ tot           : num [1:1428] 5.48e+10 2.89e+10 2.58e+10 2.15e+10 1.13e+10 ...\n  ..$ max           : num [1:1428] 144352 74992 69992 143830 74974 ...\n  ..$ is_secret_freq: logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_dom : logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ...\n  ..$ is_secret_prim: logi [1:1428] FALSE FALSE FALSE FALSE FALSE FALSE ..."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#cr√©er-les-hi√©rarchies",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#cr√©er-les-hi√©rarchies",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Cr√©er les hi√©rarchies",
    "text": "Cr√©er les hi√©rarchies\nComme vu dans la partie Prot√©ger un tableau hi√©rarchique, on cr√©e les hi√©rarchies √† l‚Äôaide de rtauargus::write_hrc2().\n\n\nCode\n# en deux temps\ncorres_naf &lt;- micro %&gt;% select(a10,a21,a88) %&gt;% unique() %&gt;% arrange(a10,a21,a88)\nchemin_hrc_naf &lt;- write_hrc2(corres_naf, file_name = \"fichiers_tauargus/hrc/naf.hrc\")\n\n# d'un seul coup\nchemin_hrc_nuts &lt;- write_hrc2(micro %&gt;% select(nuts2,nuts3) %&gt;% unique() %&gt;% arrange(nuts2),\n                              \"fichiers_tauargus/hrc/nuts.hrc\")\n\n\nN.B. la bonne pratique est de partir d‚Äôune table de passage d√©finie √† priori. Ici, il est plus simple de partir des microdonn√©es et on a confiance dans les strcutures des hi√©rarchies qui en sortiront."
  },
  {
    "objectID": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire-1",
    "href": "pratique/fiches/proteger-tableaux-suppressif.html#poser-le-secret-secondaire-1",
    "title": "Prot√©ger des tableaux avec une m√©thode suppressive",
    "section": "Poser le secret secondaire",
    "text": "Poser le secret secondaire\nOn pose le secret puis on unifie les masques afin de les regrouper dans un seul dataframe.\nPour le cluster pizzas.\n\n\nCode\nmasques_pizza &lt;- tab_multi_manager(\n  list_tables = tableaux_pizza,\n  list_explanatory_vars = list(\n    pizza_nuts_treff = c(\"nuts\",\"treff\"), # T1.T2\n    pizza_nuts_naf = c(\"nuts\",\"naf\") # T3.T4.T5.T6.T7.T8\n  ),\n  dir_name = \"./Exos/tauargus_files/ex_analyse_demande/\",\n  hrc = list(naf = chemin_hrc_naf, nuts = chemin_hrc_nuts),\n  totcode = \"Total\",\n  value = \"pizzas_tot\",\n  freq = \"nb_obs\",\n  secret_var = \"is_secret_prim\"\n)\n\n\n\n\nCode\n# unification des masques\nmasque_pizza &lt;- masques_pizza %&gt;% purrr::map_dfr(\n  function(tab){\n    tab %&gt;% \n      mutate(\n        treff = if (\"treff\" %in% names(tab)) treff else \"Total\",\n        cj = if (\"cj\" %in% names(tab)) cj else \"Total\",\n        naf = if (\"naf\" %in% names(tab)) naf else \"Total\"\n      ) %&gt;% \n      select(\"naf\",\"treff\",\"cj\",everything()) %&gt;%\n      rename_with(~\"is_secret_final\", last_col()) %&gt;% \n      mutate(\n        statut_final = case_when(\n          is_secret_freq ~ \"A\",\n          is_secret_dom ~ \"B\",\n          is_secret_final ~\"D\",\n          TRUE ~ \"V\"\n        )) %&gt;% \n      select(-matches(\"is_secret_\"))\n  }\n) %&gt;% unique()\n\nmasque_pizza %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(pizzas_tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 3 √ó 5\n  statut_final n_cell      val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;         &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                11       9160149    0.0892    0.000102\n2 D                33   14236278602    0.268     0.158   \n3 V             12286 8993596429774   99.6      99.8     \n\n\nPour le cluster salades.\n\n\nCode\nmasques_salades &lt;- tab_multi_manager(\n  list_tables = tableaux_salades,\n  list_explanatory_vars = list(\n    salades_naf_treff = c(\"naf\",\"treff\", \"crois_salades\"),\n    salades_naf_cj = c(\"naf\",\"cj\", \"crois_salades\")\n  ),\n  dir_name = \"./Exos/tauargus_files/ex_analyse_demande/\",\n  hrc = list(naf = chemin_hrc_naf),\n  totcode = c(naf = \"Total\", treff = \"Total\", cj = \"Total\", crois_salades = \"salades\"),\n  value = \"tot\",\n  freq = \"nb_obs\",\n  secret_var = \"is_secret_prim\"\n)\n\n\n\n\nCode\nmasque_salades &lt;- masques_salades %&gt;% purrr::map_dfr(\n  function(tab){\n    tab %&gt;% \n      mutate(\n        treff = if (\"treff\" %in% names(tab)) treff else \"Total\",\n        cj = if (\"cj\" %in% names(tab)) cj else \"Total\",\n        naf = if (\"naf\" %in% names(tab)) naf else \"Total\"\n      ) %&gt;% \n      select(\"naf\",\"treff\",\"cj\",everything()) %&gt;%\n      rename_with(~\"is_secret_final\", last_col()) %&gt;% \n      mutate(\n        statut_final = case_when(\n          is_secret_freq ~ \"A\",\n          is_secret_dom ~ \"B\",\n          is_secret_final ~\"D\",\n          TRUE ~ \"V\"\n        )) %&gt;% \n      select(-matches(\"is_secret_\"))\n  }\n) %&gt;% unique()\n\nmasque_salades %&gt;% \n  group_by(statut_final) %&gt;% \n  summarise(\n    n_cell = n(),\n    val_cell = sum(tot)\n  ) %&gt;%\n  mutate(\n    pc_n_cell = n_cell/sum(n_cell)*100,\n    pc_val_cell = val_cell/sum(val_cell)*100\n  )\n\n\n# A tibble: 4 √ó 5\n  statut_final n_cell      val_cell pc_n_cell pc_val_cell\n  &lt;chr&gt;         &lt;int&gt;         &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 A                21       1380020    0.842   0.0000408 \n2 B                 1         47973    0.0401  0.00000142\n3 D                43   14228897507    1.72    0.421     \n4 V              2428 3366561853460   97.4    99.6"
  },
  {
    "objectID": "pratique/fiches/analyse-automatique.html",
    "href": "pratique/fiches/analyse-automatique.html",
    "title": "Analyse automatique des m√©tadonn√©es pour la protection des donn√©es tabul√©es",
    "section": "",
    "text": "L‚Äôanalyse de la demande peut √™tre faite ‚Äú√† la main‚Äù, c‚Äôest-√†-dire en suivant toutes les √©tapes pr√©sent√©es dans la partie ‚ÄúAnalyser la demande‚Äù du cours. Cette fiche pr√©sente plusieurs exemples de demandes et leur analyse.\nOn peut aussi utiliser la fonction analyse_metadata() qui permet une analyse automatique de la demande √† partir de m√©tadonn√©es bien format√©es."
  },
  {
    "objectID": "pratique/fiches/analyse-automatique.html#avec-des-hi√©rarchies-non-embo√Æt√©es",
    "href": "pratique/fiches/analyse-automatique.html#avec-des-hi√©rarchies-non-embo√Æt√©es",
    "title": "Analyse automatique des m√©tadonn√©es pour la protection des donn√©es tabul√©es",
    "section": "Avec des hi√©rarchies non-embo√Æt√©es",
    "text": "Avec des hi√©rarchies non-embo√Æt√©es\nA pr√©sent on ajoute d‚Äôautres sous-totaux √† la demande. Pour chaque tableau concernant l‚Äôactivit√©, on souhaite disposer des deux sous-totaux suppl√©mentaires:\n\nD_To_H : D+E+F+G+H (code NAF: A21)\nC14_To_C19: 14+15+16+18+19 (code NAF: A88)\n\nPour prendre en compte les hi√©rarchies non-embo√Æt√©es, on duplique les tableaux concern√©s et on suffixe par ‚Äòalt‚Äô ces variables. On rajoute ensuite les tableaux dupliqu√©s √† ‚Äòcluster_demande1‚Äô pour obtenir la liste des tableaux √† prot√©ger.\n\n\nCode\n# Dupliquer les tableaux concern√©s\ntab_dupliquer &lt;- cluster_demande1[c(1, 2, 4), , drop = FALSE]\n\n# Renommer les tableaux (_bis) et les hi√©rarchies correspondantes (_alt)\ntab_dupliquer[1:3, c(\"table_name\", \"hrc_spanning_1\")] &lt;- data.frame(\n  table_name = c(\"T10.T12.T14.T16.T18.T20.T22.T24.T26_bis\",\n                 \"T11.T13.T15.T17.T19.T21.T23.T25.T9_bis\",\n                 \"T3.T4.T5.T6.T7.T8_bis\"),\n  hrc_spanning_1 = c(\"hrc_naf_alt\", \"hrc_naf_alt\", \"hrc_naf_alt\")\n)\n\n# Liste des tableaux √† prot√©ger\ncluster_demande1bis &lt;- rbind(cluster_demande1, tab_dupliquer)\n\n# Visualisation\nDT::datatable(cluster_demande1bis)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Origin of the project\nThis project arose from a desire to share knowledge and materials with public statisticians responsible for ensuring the protection of statistical data before it is released to the public.\n\n\nAuthors\n\nJulien Jamme, INSEE\nClara Baudry, INSEE"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html",
    "href": "ressources/fiches/bibliographie.html",
    "title": "Indicative bibliography",
    "section": "",
    "text": "Handbook on Statistical Disclosure Control"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#general-resources",
    "href": "ressources/fiches/bibliographie.html#general-resources",
    "title": "Indicative bibliography",
    "section": "",
    "text": "Handbook on Statistical Disclosure Control"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#suppressive-methods",
    "href": "ressources/fiches/bibliographie.html#suppressive-methods",
    "title": "Indicative bibliography",
    "section": "Suppressive methods",
    "text": "Suppressive methods\n\nManuel de protection des donn√©es tabul√©es (French version)"
  },
  {
    "objectID": "ressources/fiches/bibliographie.html#dealing-with-microdata",
    "href": "ressources/fiches/bibliographie.html#dealing-with-microdata",
    "title": "Indicative bibliography",
    "section": "Dealing with microdata",
    "text": "Dealing with microdata\n\nLa gestion de la confidentialit√© des donn√©es individuelles (INSEE) (French version)\nStatistical Disclosure Control for Microdata ‚Äî A Practice Guide for sdcMicro\nStatistical Disclosure Control for Microdata ‚Äî Theory"
  },
  {
    "objectID": "theorie/index.html",
    "href": "theorie/index.html",
    "title": "A little bit of theory",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#context",
    "href": "theorie/supports/arbitrer-risque-utilite.html#context",
    "title": "Disclosure risks",
    "section": "Context",
    "text": "Context\nWe will place ourselves in the following context:\n\nA statistical institute collects individual data.\nIt is assumed that it complies with the regulations in force regarding the protection of individual data (for example, the GDPR in Europe).\nThe institute seeks to disseminate aggregated statistics or individual data files for statistical purposes."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#problem-statement",
    "href": "theorie/supports/arbitrer-risque-utilite.html#problem-statement",
    "title": "Disclosure risks",
    "section": "Problem Statement",
    "text": "Problem Statement\n\n\n\n\n\n\nWorkshop Overall Problem Statement\n\n\nHow can statistical information be disseminated without harming the individuals or organizations from whom the information was collected?"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#protecting-a-challenge-for-official-statistics",
    "href": "theorie/supports/arbitrer-risque-utilite.html#protecting-a-challenge-for-official-statistics",
    "title": "Disclosure risks",
    "section": "Protecting: a challenge for official statistics",
    "text": "Protecting: a challenge for official statistics\nThe missions [of official statistics] do not depend solely on its ability to master the tools or methods necessary for producing quality information, but also on its ability to protect and guarantee the confidentiality of the data entrusted to it. This protection is the condition for continuing to have access to this data. (Redor 2023)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#in-search-of-a-definition",
    "href": "theorie/supports/arbitrer-risque-utilite.html#in-search-of-a-definition",
    "title": "Disclosure risks",
    "section": "In Search of a Definition",
    "text": "In Search of a Definition\n\n\n\nA maximalist definition of disclosure‚Ä¶\n\n\nT. Dalenius proposes in 1977 the following definition:\n‚ÄúIf the publication of the statistics \\(T(D)\\) allows determining the value of confidential statistical data more precisely than would be possible without access to \\(T(D)\\), then a disclosure has occurred.‚Äù (Dalenius 1977).\n\n\n\n\n\n\n‚Ä¶ impossible to hold\n\n\nThis definition does not take into account the auxiliary information already available\n\n\n\n\n\n\nAn example of disclosure impossible to protect\n\n\nStudies show a correlation between smoking and the occurrence of lung cancer \\(\\Rightarrow\\) if, we (an insurance company) know that an individual is a smoker, then we can attribute to them a significant risk of having cancer, information which will very likely cause harm to that person."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#in-search-of-a-definition-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#in-search-of-a-definition-1",
    "title": "Disclosure risks",
    "section": "In Search of a Definition",
    "text": "In Search of a Definition\nTwo realities must be taken into account:\n\nthe user has auxiliary information.\nstatistical inference is one of the means of knowledge provided by the publication of statistics.\n\n\\(\\Rightarrow\\) unconditional and total protection is not possible."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#need-to-master-risks",
    "href": "theorie/supports/arbitrer-risque-utilite.html#need-to-master-risks",
    "title": "Disclosure risks",
    "section": "Need to Master Risks",
    "text": "Need to Master Risks\nData protection is defined through:\n\nmastery of disclosure risks\nand the need to continue disseminating statistical information.\n\n\\(\\Rightarrow\\) Need to arbitrate between the two components."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#arbitrate",
    "href": "theorie/supports/arbitrer-risque-utilite.html#arbitrate",
    "title": "Disclosure risks",
    "section": "Arbitrate",
    "text": "Arbitrate\nProtecting confidential data means arbitrating between:\n\ntheir utility for knowledge and public debate;\ntheir intrinsic risk: any data disseminated can disclose information about an individual or a group of individuals.\n\n\n\n\n\nArbitrate"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#two-pitfalls",
    "href": "theorie/supports/arbitrer-risque-utilite.html#two-pitfalls",
    "title": "Disclosure risks",
    "section": "Two Pitfalls",
    "text": "Two Pitfalls\n\nNot disseminating would make the public statistic useless.\nDisseminating everything would make the public statistic dangerous.\n\n\n\n\n\nArbitrer"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#issues",
    "href": "theorie/supports/arbitrer-risque-utilite.html#issues",
    "title": "Disclosure risks",
    "section": "Issues",
    "text": "Issues\n\nWhat are the disclosure risks?\nHow to measure these risks?\nHow to address them?\n\n\\(\\Rightarrow\\) How to address them without too much deteriorating the statistical information?"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#main-issue-of-arbitration",
    "href": "theorie/supports/arbitrer-risque-utilite.html#main-issue-of-arbitration",
    "title": "Disclosure risks",
    "section": "Main issue of arbitration:",
    "text": "Main issue of arbitration:\n\n\n\n\n\n\nFinding a balance between protection and information\n\n\nThis involves achieving a compromise between minimizing the risks of disclosing confidential information and minimizing the loss of information due to data protection processes.\n\n\n\n\n\n\n\n\n\nNo Magic Method\n\n\nThere is no method that minimizes risk and information loss at the same time!"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#an-example-of-arbitrage",
    "href": "theorie/supports/arbitrer-risque-utilite.html#an-example-of-arbitrage",
    "title": "Disclosure risks",
    "section": "An example of arbitrage",
    "text": "An example of arbitrage\nThe population census (RP) in France:\n\nSpecific publication decree;\nUtility of RP data is very strong:\n\na number of laws depend on it\nfinancial allocation to municipalities\n\nRisk of using disseminated data against individuals is judged low:\n\ninformation not very prejudicial\nexcept for sensitive variables"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#an-example-of-assumed-disclosure",
    "href": "theorie/supports/arbitrer-risque-utilite.html#an-example-of-assumed-disclosure",
    "title": "Disclosure risks",
    "section": "An example of assumed disclosure",
    "text": "An example of assumed disclosure\nINSEE disseminates municipal data even for very small municipalities:\nSee the example of the municipality of Rochefourchat:\n\nA municipality of (2) inhabitants\nWe know their sex, their marital status, their age, a rough description of their housing, the occupancy status of their housing, their education level, their employment status, etc."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#the-riskutility-trade-off-a-paradigm",
    "href": "theorie/supports/arbitrer-risque-utilite.html#the-riskutility-trade-off-a-paradigm",
    "title": "Disclosure risks",
    "section": "The Risk/Utility Trade-off: a Paradigm",
    "text": "The Risk/Utility Trade-off: a Paradigm\n\nThere is no such thing as zero risk\nNo method completely eliminates risk \\(\\Rightarrow\\)\n\nTrade-offs are therefore inherent to data protection.\nThis trade-off is considered the paradigm of the discipline."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#a-criticizable-paradigm",
    "href": "theorie/supports/arbitrer-risque-utilite.html#a-criticizable-paradigm",
    "title": "Disclosure risks",
    "section": "A Criticizable Paradigm",
    "text": "A Criticizable Paradigm\n(Voir Cox, Karr, and Kinney 2011)\n\nIf it helps to know how to think‚Ä¶\n‚Ä¶it helps less to know how to act."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#in-practice-another-trade-off-takes-place",
    "href": "theorie/supports/arbitrer-risque-utilite.html#in-practice-another-trade-off-takes-place",
    "title": "Disclosure risks",
    "section": "In practice, another trade-off takes place",
    "text": "In practice, another trade-off takes place\nA Costs/Benefits trade-off is performed:\n\nBy the data producer:\n\nWhat resources to deploy for what level of protection (time, financial means)?\n\nBy the attacker:\n\nIs the hoped-for confidential information worth the resources necessary for its disclosure?\n\n\n\\(\\Longrightarrow\\) Implement methods that have a cost adapted to the identified risk and to the sensitivity of the data."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#objective-define-and-measure",
    "href": "theorie/supports/arbitrer-risque-utilite.html#objective-define-and-measure",
    "title": "Disclosure risks",
    "section": "Objective: define and measure",
    "text": "Objective: define and measure\nTo arbitrate, one must be able to\n\nDefine the terms of the arbitration\nMeasure the phenomena."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#data-governance",
    "href": "theorie/supports/arbitrer-risque-utilite.html#data-governance",
    "title": "Disclosure risks",
    "section": "Data Governance",
    "text": "Data Governance\nBefore defining the risks:\n\nWhat are the dissemination objectives?\nWho accesses what with which rights?\n\n\n\n\n\n\n\nObjective\n\n\nTo better manage risks, become aware of the context in which they are likely to appear."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#securing-access",
    "href": "theorie/supports/arbitrer-risque-utilite.html#securing-access",
    "title": "Disclosure risks",
    "section": "Securing Access",
    "text": "Securing Access\n\nFour main types of users can be distinguished:\n\nGeneral public and public actors: aggregated statistics\nResearchers: detailed statistics or even individual data\nPublic statistics study officers: individual data without direct identifiers\nData collection officers: individual data with identifiers"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs",
    "title": "Disclosure risks",
    "section": "Adapt access based on user needs",
    "text": "Adapt access based on user needs\n\nMinimization principle: each user must access only the data strictly necessary for their missions."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs-1",
    "title": "Disclosure risks",
    "section": "Adapt access based on user needs",
    "text": "Adapt access based on user needs\n\nAccess differentiation :\n\ngeneral public and public actors: free access without conditions.\nresearchers: access under strict conditions (contracts, public utility projects, secure working environment, etc.).\nstudy managers: access to data on internal servers subject to prior authorization.\ndata collectors: access to collection data for the sole survey on which they are working."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adapt-access-based-on-user-needs-2",
    "title": "Disclosure risks",
    "section": "Adapt access based on user needs",
    "text": "Adapt access based on user needs\n\nEnsure monitoring and control of access: each access must be able to be controlled and revoked if necessary."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level",
    "title": "Disclosure risks",
    "section": "Adjust the Necessary Anonymization Level",
    "text": "Adjust the Necessary Anonymization Level\nThe looser the access, the higher the anonymization must be able to be:\n\ngeneral public:\n\nopen access \\(\\iff\\) strong statistical protection"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level-1",
    "title": "Disclosure risks",
    "section": "Adjust the Necessary Anonymization Level",
    "text": "Adjust the Necessary Anonymization Level\nThe looser the access, the higher the anonymization must be able to be:\n\nresearchers and study managers:\n\nsecure access \\(\\iff\\) weak statistical protection on the inputs\nBut need to process/verify the public outputs (output checking)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#adjust-the-necessary-anonymization-level-2",
    "title": "Disclosure risks",
    "section": "Adjust the Necessary Anonymization Level",
    "text": "Adjust the Necessary Anonymization Level\nThe looser the access, the higher the anonymization must be able to be:\n\ndata collectors:\n\nvery secure access \\(\\iff\\) no statistical protection of the data\nBut need to comply with regulations on the protection of individual data (GDPR in Europe). ## An example\n\n\n\n\n\n\n\n\n\nFigure¬†1: Adapt files to audience type (Source: INSEE)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#governance-ethics-trust",
    "href": "theorie/supports/arbitrer-risque-utilite.html#governance-ethics-trust",
    "title": "Disclosure risks",
    "section": "Governance, Ethics, Trust",
    "text": "Governance, Ethics, Trust\n\nMastery of access security and the best possible data governance are not infallible shields.\nStrong Ethics of public statisticians.\nTrust in the various actors (researchers) to whom data access is granted."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#hold-accountable",
    "href": "theorie/supports/arbitrer-risque-utilite.html#hold-accountable",
    "title": "Disclosure risks",
    "section": "Hold Accountable",
    "text": "Hold Accountable\nA necessary accountability:\n\nPublic statisticians (in France, 1951 law on statistical secrecy)\nResearchers (Risk of contract revocation and consequences for the entire laboratory)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#key-steps-in-the-data-protection-process",
    "href": "theorie/supports/arbitrer-risque-utilite.html#key-steps-in-the-data-protection-process",
    "title": "Disclosure risks",
    "section": "Key Steps in the Data Protection Process",
    "text": "Key Steps in the Data Protection Process\n\n\nIs it necessary to protect the data?\nWhat are the main characteristics and uses of the data?\nDefinition and measurement of disclosure risks\nSelection of data protection methods\nImplementation of the methods\nControls and documentation\n\n\nSource: (Hundepool et al. 2024)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-1-is-it-necessary-to-protect-the-data",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-1-is-it-necessary-to-protect-the-data",
    "title": "Disclosure risks",
    "section": "Step 1: Is it necessary to protect the data?",
    "text": "Step 1: Is it necessary to protect the data?\n\n\nAnalysis of the units considered and variables present in the microdata file; if they are not sensitive, there is no need to perform processing for data protection\nWhat type of dissemination? (data tables, maps, microdata ...)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-2-main-characteristics-and-uses-of-the-data-i",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-2-main-characteristics-and-uses-of-the-data-i",
    "title": "Disclosure risks",
    "section": "Step 2: Main Characteristics and Uses of the Data (I)",
    "text": "Step 2: Main Characteristics and Uses of the Data (I)\n\n\nAnalysis of the type and structure of the data to determine the variables / units that require protection\nAnalysis of the survey methodology\nDefinition of the institute‚Äôs objectives: type of publication (PUF, MFR), dissemination policies, consistency between multiple simultaneous disseminations, consistency with what is already published"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-2-main-characteristics-and-uses-of-the-data-ii",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-2-main-characteristics-and-uses-of-the-data-ii",
    "title": "Disclosure risks",
    "section": "Step 2: Main Characteristics and Uses of the Data (II)",
    "text": "Step 2: Main Characteristics and Uses of the Data (II)\n\n\nAnalysis of user needs (priority variables, types of analyses that will be performed)\nAnalysis of the questionnaire for surveys (variables to remove / to include, what level of detail for structural indicators such as socio-demographic variables?)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-3-definition-and-measurement-of-disclosure-risks",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-3-definition-and-measurement-of-disclosure-risks",
    "title": "Disclosure risks",
    "section": "Step 3: Definition and Measurement of Disclosure Risks",
    "text": "Step 3: Definition and Measurement of Disclosure Risks\n\n\nIdentify the different possible scenarios leading to data disclosure\n\nDepending on the type of data considered (exhaustive data, surveys)\nDepending on the target audience (researchers, decision-makers, general public)\n\nChoose the disclosure risk measure(s)\nRisk tolerance threshold to set"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-4-selection-of-methods",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-4-selection-of-methods",
    "title": "Disclosure risks",
    "section": "Step 4: Selection of Methods",
    "text": "Step 4: Selection of Methods\n\n\nChoose one / several protection method(s)\nCompare the methods: risk level vs loss of utility\n\n\n\n\n\n\n\n\n\nFigure¬†2: Risk-Utility Trade-off"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-5-implementation-of-the-methods",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-5-implementation-of-the-methods",
    "title": "Disclosure risks",
    "section": "Step 5: Implementation of the methods",
    "text": "Step 5: Implementation of the methods\n\n\nChoose software\nPerform the measurement of disclosure risks\nProtect the data\nQuantification of information loss"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#step-6-controls-and-documentation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#step-6-controls-and-documentation",
    "title": "Disclosure risks",
    "section": "Step 6: Controls and documentation",
    "text": "Step 6: Controls and documentation\n\n\nProcess protection control\n\nverify that the methods implemented have effectively reduced the disclosure risk to the level considered acceptable\n\nPreparation of a document summarizing the methods used and providing an overview of the information loss\n\nif possible, transmit it to the users of the published data\nmay contain warnings about precautions to take when using an anonymized file"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#the-risk-of-disclosure",
    "href": "theorie/supports/arbitrer-risque-utilite.html#the-risk-of-disclosure",
    "title": "Disclosure risks",
    "section": "The risk of disclosure",
    "text": "The risk of disclosure\n\n\n\n\n\n\nGeneral Definition\n\n\nRisk of disclosing confidential information by publishing aggregated or individual data."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#four-types-of-disclosure-risk",
    "href": "theorie/supports/arbitrer-risque-utilite.html#four-types-of-disclosure-risk",
    "title": "Disclosure risks",
    "section": "Four types of disclosure risk",
    "text": "Four types of disclosure risk\n\nIdentity disclosure risk\nAttribute disclosure risk\nDisclosure risk by inference\nDisclosure risk by differentiation\n\nby ‚Äúnesting‚Äù\nby ‚Äúcross-referencing‚Äù"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risk-of-identity-disclosure",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risk-of-identity-disclosure",
    "title": "Disclosure risks",
    "section": "Risk of Identity Disclosure",
    "text": "Risk of Identity Disclosure\n\n\n\n\n\n\nDefinition\n\n\nRisk of recognizing a specific individual in the published data: an attacker can identify a unit from the publication.\n\n\n\nExamples:\n\nCertain variables such as name, address that identify directly individuals or households.\nAll people with very rare characteristics (e.g., very elderly people).\n87% of the U.S. population is unique solely from ZIP code, gender, and date of birth (Sweeney 2000)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#remarks",
    "href": "theorie/supports/arbitrer-risque-utilite.html#remarks",
    "title": "Disclosure risks",
    "section": "Remarks",
    "text": "Remarks\n\nDirect identifiers (name, first name, address) are useful for collection but removed from statistical databases.\nOther variables have a strong re-identifying power (place of residence, age, gender, profession, education level, etc.).\nRe-identifying does not always allow obtaining more information about people."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risk-of-attribute-disclosure",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risk-of-attribute-disclosure",
    "title": "Disclosure risks",
    "section": "Risk of Attribute Disclosure",
    "text": "Risk of Attribute Disclosure\n\n\n\n\n\n\nDefinition\n\n\nRisk of disclosing sensitive information about one or more individuals from the disseminated data.\n\n\n\nExamples:\n\nRe-identification often leads to attribute disclosure.\nIt is possible to disclose an attribute about entire groups."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#disclosure-of-a-group-attribute",
    "href": "theorie/supports/arbitrer-risque-utilite.html#disclosure-of-a-group-attribute",
    "title": "Disclosure risks",
    "section": "Disclosure of a Group Attribute",
    "text": "Disclosure of a Group Attribute\n\nDisclosure of sensitive information for an entire group of people.\nWithout necessarily needing to re-identify beforehand.\n\n\n\n\n\n\n\n\n\n\nFemmes\nHommes\n\n\n\n\nDiab√©tiques\n30\n40\n\n\nNon diab√©tiques\n12\n0\n\n\n\n\n\n\nTable¬†1: An example of group attribute disclosure"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risk-of-disclosure-by-inference",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risk-of-disclosure-by-inference",
    "title": "Disclosure risks",
    "section": "Risk of Disclosure by Inference",
    "text": "Risk of Disclosure by Inference\n\n\n\n\n\n\nDefinition\n\n\nRisk of being able to deduce with high certainty sensitive information about individuals from published data.\n\n\n\n\nStrong correlation of information with a sensitive characteristic.\nVery high proportion within a group.\n\n\n\n\n\n\n\n\n\n\nWomen\nMen\n\n\n\n\nDiabetic\n30\n38\n\n\nNon-diabetic\n12\n2\n\n\n\n\n\n\nTable¬†2: An example of attribute disclosure by inference"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#risk-of-disclosure-by-differentiation",
    "href": "theorie/supports/arbitrer-risque-utilite.html#risk-of-disclosure-by-differentiation",
    "title": "Disclosure risks",
    "section": "Risk of Disclosure by Differentiation",
    "text": "Risk of Disclosure by Differentiation\n\n\n\n\n\n\nDefinition\n\n\nWhen aggregated information is disseminated for various cross-tabulations, it is sometimes possible to infer additional information by differentiating the various results.\n\n\n\n\nExamples:\n\nMarginal differentiation: consists of using the margins of tabulated data\nDifferentiation by geographic nesting: consists of using aggregates disseminated over nested zonings (variant of the first)\nDifferentiation by cross-tabulation: consists of using aggregates disseminated over imperfectly nested zonings"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#differentiation-by-overlap",
    "href": "theorie/supports/arbitrer-risque-utilite.html#differentiation-by-overlap",
    "title": "Disclosure risks",
    "section": "Differentiation by Overlap",
    "text": "Differentiation by Overlap\n\n\n\n\n\n\n\nFigure¬†3: Example of differentiation by overlap in France between a department and a community of communes (EPCI)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#differentiation-by-cross-referencing",
    "href": "theorie/supports/arbitrer-risque-utilite.html#differentiation-by-cross-referencing",
    "title": "Disclosure risks",
    "section": "Differentiation by Cross-Referencing",
    "text": "Differentiation by Cross-Referencing\n\n\n\n\n\n\n\nFigure¬†4: Zoom on the differentiation problem"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#distinguishing-variables",
    "href": "theorie/supports/arbitrer-risque-utilite.html#distinguishing-variables",
    "title": "Disclosure risks",
    "section": "Distinguishing Variables",
    "text": "Distinguishing Variables\nIn an individual dataset, we distinguish:\n\nIdentifiers: Variables that allow direct identification of an individual.\nQuasi-identifiers: Variables that can lead to re-identifying an individual using auxiliary information.\nSensitive variables: Variables for which specific protection measures may be necessary.\nOther variables"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#identifiers",
    "href": "theorie/supports/arbitrer-risque-utilite.html#identifiers",
    "title": "Disclosure risks",
    "section": "Identifiers",
    "text": "Identifiers\n\nIdentifiers are removed very early in the production process to comply with data protection regulations.\nThereafter, it will be assumed that all direct identifiers have been removed."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quasi-identifiers",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quasi-identifiers",
    "title": "Disclosure risks",
    "section": "Quasi-identifiers",
    "text": "Quasi-identifiers\n\nFor individual/household data: sex, age, place of residence, diploma, marital status, etc.\nFor company data: sector of activity, location of headquarters, etc.\nList to be determined each time\nWhat variables does an attacker already have?"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#an-example",
    "href": "theorie/supports/arbitrer-risque-utilite.html#an-example",
    "title": "Disclosure risks",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIdentifiants\n\n\nQuasi Id.\n\n\nSensible\n\n\n\nNom\nAdresse\nCommune\nAge\nDipl√¥me\nRevenus\n\n\n\n\nJohan\n3 rue...\nParis\n36\nBac\n150000\n\n\nJeanne\n11 bd...\nMalakoff\n41\nBac+3\n60000\n\n\nJohnny\n12 pl...\nPithiviers\n23\nBac Pro\n25000\n\n\nJeannette\n8 rue...\nBelval\n85\n\n10000\n\n\n\n\n\n\nTable¬†3: Different types of variables"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifying-the-risk-1-k-anonymity",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifying-the-risk-1-k-anonymity",
    "title": "Disclosure risks",
    "section": "Quantifying the risk (1): k-anonymity",
    "text": "Quantifying the risk (1): k-anonymity\n\n\n\n\n\n\n\\(k\\)-Anonymity (Sweeney 2002)\n\n\nA dataset is considered k-anonymous if the least frequent combination of modalities of the quasi-identifying variables includes at least k units.\n\n\n\n\n\nThis measure ensures that all individuals are similar to at least \\(k-1\\) others.\nOverall risk measure that focuses on the individuals most at risk of re-identification.\nThe probability associated with the risk for an individual in the file of being re-identified is at minimum \\(1/k\\)\nChoice of \\(k\\) taking into account existing rules and/or risk-utility trade-offs."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#the-envisioned-attack-scenario",
    "href": "theorie/supports/arbitrer-risque-utilite.html#the-envisioned-attack-scenario",
    "title": "Disclosure risks",
    "section": "The Envisioned Attack Scenario",
    "text": "The Envisioned Attack Scenario\n\n\n\n\n\n\nImportant\n\n\nThe YAML, code block syntax, and callout structure have been preserved exactly as in the original French version.\nCharacteristics of the Attack Scenario\nk-anonymity protects data from a re-identification attack when the attacker has auxiliary information about the same individuals (at least one):\n\nIf the intruder knows that a specific individual is in the dataset, k-anonymity is a fair way to assess the risk of re-identification.\nThe attacker performs a matching between the two datasets.\nQuasi-identifiers (QI) serve as matching keys.\nThe rarer an individual‚Äôs characteristics are on the QI, the better the re-identification will be.\n\nThe unique ones on the QI: re-identification will be certain\nThe more common an individual is, the lower the probability of re-identification will be."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#the-importance-of-the-script",
    "href": "theorie/supports/arbitrer-risque-utilite.html#the-importance-of-the-script",
    "title": "Disclosure risks",
    "section": "The Importance of the Script",
    "text": "The Importance of the Script\n\n\n\n\n\n\nAn effectiveness that depends on the realism of the scenario\n\n\nEnsuring a certain level of anonymity helps reduce the risk of re-identification, but:\n\nIf the attacker has more auxiliary information \\(\\Rightarrow\\) underestimation of the risk with \\(k\\)-anonymity.\nOver time, the attacker may have more information. However, the scenario is set once \\(\\Rightarrow\\) underestimation of the risk with \\(k\\)-anonymity.\nIf the attacker has less auxiliary information \\(\\Rightarrow\\) overestimation of the risk with $k-anonymity*.\nThe quality of matches depends on many other factors (vintages, quality of variables, consistency of fields, etc.) \\(\\Rightarrow\\) overestimation of the risk with \\(k\\)-anonymity."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#an-example-1",
    "href": "theorie/supports/arbitrer-risque-utilite.html#an-example-1",
    "title": "Disclosure risks",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\nId\nAge\nGender\nDisease\n\n\n\n\n1\n[45;55[ M\n\nDiabetes\n\n\n2\n[45;55[ M\n\nArterial hypertension\n\n\n3\n[45;55[ F\n\nCancer\n\n\n4\n[45;55[ F\n\nFlu\n\n\n5\n[70;75[ M\n\nDiabetes\n\n\n6\n[45;55[ M\n\nDiabetes\n\n\n\n\n\nTable¬†4: Example of a 1-anonymous individual file, with age and gender considered as quasi-identifiers"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#limits-of-k-anonymity",
    "href": "theorie/supports/arbitrer-risque-utilite.html#limits-of-k-anonymity",
    "title": "Disclosure risks",
    "section": "Limits of \\(k\\)-anonymity",
    "text": "Limits of \\(k\\)-anonymity\n\n\nStrong dependence on the quality/truthfulness of the scenario\n\\(\\Rightarrow\\) choice of QIs is crucial.\n\n\\(k\\)-anonymity overestimates the risk if the attacker has less information than assumed\n\\(k\\)-anonymity underestimates the risk if the attacker has more information than assumed\nDifficult to measure the plausibility of the attack.\n\n\\(k\\)-anonymity does not take sampling weights into account. \\(\\Rightarrow\\) Applied to a sample, it will overestimate the re-identification risk.\nDoes not reduce risks of disclosure of sensitive attributes."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#quantifying-the-risk-2-l-diversity",
    "href": "theorie/supports/arbitrer-risque-utilite.html#quantifying-the-risk-2-l-diversity",
    "title": "Disclosure risks",
    "section": "Quantifying the Risk (2): l-Diversity",
    "text": "Quantifying the Risk (2): l-Diversity\n\n\n\n\n\n\nThe l-diversity (Machanavajjhala et al. 2007)\n\n\nIt ensures sufficient diversity of the values of a sensitive variable taken by individuals within the same combination of quasi-identifiers.\n\n\n\n\nRefinement of \\(k\\)-anonymity.\nProtection against the disclosure of sensitive attributes.\nEach group must contain at least \\(l\\) different values of the studied sensitive variable (or \\(l\\) of the most frequent values).\nChoice of the target \\(l\\) based on existing rules and/or a risk-utility trade-off."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#an-example-2",
    "href": "theorie/supports/arbitrer-risque-utilite.html#an-example-2",
    "title": "Disclosure risks",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\n\nAge\nSex\nDisease\n\n\n\n\n[50;55[\nM\nDiabetes\n\n\n[50;55[\nM\nDiabetes\n\n\n[50;55[\nF\nCancer\n\n\n[50;55[\nF\nFlu\n\n\n[50;55[\nM\nDiabetes\n\n\n\n\n\nTable¬†5: A 2-anonymous file but not diversified enough"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#envisaged-attack-scenarios",
    "href": "theorie/supports/arbitrer-risque-utilite.html#envisaged-attack-scenarios",
    "title": "Disclosure risks",
    "section": "Envisaged Attack Scenarios",
    "text": "Envisaged Attack Scenarios\n(Machanavajjhala et al. 2007)\n\nLack of homogeneity\nUse of auxiliary information"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#limits",
    "href": "theorie/supports/arbitrer-risque-utilite.html#limits",
    "title": "Disclosure risks",
    "section": "Limits",
    "text": "Limits\n\nSuitable for categorical sensitive variables only\n=&gt; poorly suited for continuous variables (e.g.¬†CA, standard of living, etc.)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#some-notations-for-going-further",
    "href": "theorie/supports/arbitrer-risque-utilite.html#some-notations-for-going-further",
    "title": "Disclosure risks",
    "section": "Some notations for going further",
    "text": "Some notations for going further\n\n\n\\(N\\): the population size\n\\(n\\): the size of the possible sample\n\\(w_i\\): the weight of individual \\(i\\) in the sample (\\(\\sum_i{w_i}=N\\))\n\\(c\\): the group formed by a type of crossing of the quasi-identifying variables.\n\nFor example, if the QIs are age and sex, \\(c\\) may correspond to the crossing \\([25; 35] \\times\\) Women, or \\([55; 95] \\times\\) Men, etc.\n\n\\(N_c\\): the number of individuals in the population sharing the characteristics \\(c\\)\n\\(n_c\\): the number of individuals in the (possible) sample sharing the characteristics \\(c\\)\n\n\\(\\Rightarrow\\) If a comprehensive file is \\(k\\)-anonymous, then \\(\\forall c, N_c \\geq k\\)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#individuals-most-at-risk-of-re-identification",
    "href": "theorie/supports/arbitrer-risque-utilite.html#individuals-most-at-risk-of-re-identification",
    "title": "Disclosure risks",
    "section": "Individuals most at risk of re-identification",
    "text": "Individuals most at risk of re-identification\n\nUnique in the population: \\(N_c = 1\\)\nUnique in the sample: \\(n_c = 1\\)\nUnique in the sample who are also unique in the population: \\(n_c = 1\\) et \\(\\sum\\limits_{i \\in c}{w_i} = 1\\)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#measuring-individual-risk-in-a-comprehensive-file",
    "href": "theorie/supports/arbitrer-risque-utilite.html#measuring-individual-risk-in-a-comprehensive-file",
    "title": "Disclosure risks",
    "section": "Measuring individual risk in a comprehensive file",
    "text": "Measuring individual risk in a comprehensive file\n\nk-anonymity and l-diversity are global measures.\nWe can move to the individual level:\n\nby considering as at risk each individual in a group of modalities with fewer than \\(k\\) individuals\nby associating with each individual in the database an individual measure of re-identification risk:\n\n\\[r_c = \\frac{1}{N_c}\\]"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#measuring-individual-risk-in-a-sample",
    "href": "theorie/supports/arbitrer-risque-utilite.html#measuring-individual-risk-in-a-sample",
    "title": "Disclosure risks",
    "section": "Measuring individual risk in a sample",
    "text": "Measuring individual risk in a sample\n\n\n\n\n\n\nProbability of re-identifying an individual in a sample\n\n\n\nAt the sample level: \\[r_c = \\frac{1}{n_c}\\]\n\nIf the presence of an individual in the sample is known to the attacker, this is an adequate measure.\nOtherwise, this measure overestimates the re-identification risk.\n\nAt the population level, the re-identification risk can be estimated by:\n\n\\[\\hat r_c = \\frac{1}{\\sum\\limits_{i \\in c}{w_i}}\\]\nwhere \\(\\sum\\limits_{i \\in c}{w_i}\\) is an estimate of \\(\\hat N_c\\)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#a-global-measure-of-risk",
    "href": "theorie/supports/arbitrer-risque-utilite.html#a-global-measure-of-risk",
    "title": "Disclosure risks",
    "section": "A global measure of risk",
    "text": "A global measure of risk\nTo perform the arbitrage, a global risk measure is more practical. One can consider:\n\nThe number of uniques (in the sample or the population, depending on the case);\nThe average individual risk defined, in the context of a sample, by: \\[\\tau = \\frac{\\sum\\limits_{c}{n_c \\times r_c}}{n}\\]"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#probabilistic-risk-measures",
    "href": "theorie/supports/arbitrer-risque-utilite.html#probabilistic-risk-measures",
    "title": "Disclosure risks",
    "section": "Probabilistic Risk Measures",
    "text": "Probabilistic Risk Measures\nMore refined measures are implemented in classic tools such as \\(\\mu\\)-Argus or the R package sdcMicro.\n\nWhen a sample is available (thus the \\(n_k\\)), the \\(N_k\\) are generally unknown.\nMeasure of individual risk conditional on the sample: \\(r_k = \\mathbb{E}(\\frac{1}{N_k}|n_k)\\).\nMeasure depending on a modeling of the (posterior) distribution of \\(N_k | n_k\\)\n\nModeling of key frequencies in the population conditional on their frequency in the sample.\nBy a negative binomial, for example, in Benedetti and Franconi (1998)."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#record-linkage",
    "href": "theorie/supports/arbitrer-risque-utilite.html#record-linkage",
    "title": "Disclosure risks",
    "section": "Record Linkage",
    "text": "Record Linkage\n\nA posteriori measure of the distance between individuals in the protected dataset and those in the original dataset.\nAllows evaluating the number of exact matches between perturbed data and original data."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#outliers",
    "href": "theorie/supports/arbitrer-risque-utilite.html#outliers",
    "title": "Disclosure risks",
    "section": "Outliers",
    "text": "Outliers\n\nHigh risk of re-identification of individuals with values in the tail of the distribution (e.g., very high incomes of footballers)\nA perturbation is not always sufficient (A perturbed outlier often remains an outlier).\nDetection of outliers based on the quantiles of the distribution."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#define-an-attack-scenario",
    "href": "theorie/supports/arbitrer-risque-utilite.html#define-an-attack-scenario",
    "title": "Disclosure risks",
    "section": "Define an Attack Scenario",
    "text": "Define an Attack Scenario\n\n\n\n\n\n\nAttack Scenario\n\n\nDefining attack scenarios involves considering the means used by the attacker and objectifying the fraudulent uses that we seek to prevent.\n\n\n\n\nCost/Risk Trade-off (INS)\nCost/Benefit Trade-off (Attacker)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#attacks-on-k-anonymous-andor-l-diverse-data",
    "href": "theorie/supports/arbitrer-risque-utilite.html#attacks-on-k-anonymous-andor-l-diverse-data",
    "title": "Disclosure risks",
    "section": "Attacks on k-anonymous and/or l-diverse data",
    "text": "Attacks on k-anonymous and/or l-diverse data\nCohen (2022)"
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#in-conclusion",
    "href": "theorie/supports/arbitrer-risque-utilite.html#in-conclusion",
    "title": "Disclosure risks",
    "section": "In conclusion",
    "text": "In conclusion\n\nThere are many ways to evaluate information loss.\nStrongly linked to the level of protection.\nMany methods to evaluate information loss; the choice of measure depends entirely on the end users of the published data.\nDifficult to anticipate all uses of a dataset and therefore all associated measures of information loss.\nNeed to make trade-offs on certain characteristics of a table to relax constraints elsewhere.\nIt is impossible to preserve all characteristics of a dataset."
  },
  {
    "objectID": "theorie/supports/arbitrer-risque-utilite.html#bibliography",
    "href": "theorie/supports/arbitrer-risque-utilite.html#bibliography",
    "title": "Disclosure risks",
    "section": "Bibliography",
    "text": "Bibliography\n\n\nBenedetti, Roberto, and Luisa Franconi. 1998. ‚ÄúStatistical and Technological Solutions for Controlled Data Dissemination.‚Äù Pre-Proceedings of New Techniques and Technologies for Statistics 1: 225_232.\n\n\nCohen, Aloni. 2022. ‚ÄúAttacks on Deidentification‚Äôs Defenses.‚Äù arXiv. http://arxiv.org/abs/2202.13470.\n\n\nCox, Lawrence H., Alan F. Karr, and Satkartar K. Kinney. 2011. ‚ÄúRisk-Utility Paradigms for Statistical Disclosure Limitation: How to Think, But Not How to Act: Risk-Utility Paradigms for SDL.‚Äù International Statistical Review 79 (2): 160‚Äì83. https://doi.org/10.1111/j.1751-5823.2011.00140.x.\n\n\nDalenius, Tore. 1977. ‚ÄúPrivacy Transformations for Statistical Information Systems.‚Äù Journal of Statistical Planning and Inference 1 (1): 73‚Äì86. https://doi.org/10.1016/0378-3758(77)90007-6.\n\n\nHundepool, Anco, Josep Domingo-Ferre, Luisa Franconi, Sarah Giessing, Rainer Lenz, Jane Longhurst, Eric Schulte Nordholt, et al. 2024. Handbook on Statistical Disclosure Control. 2nd Edition. ESSNet SDC. https://sdctools.github.io/HandbookSDC/.\n\n\nMachanavajjhala, Ashwin, Daniel Kifer, Johannes Gehrke, and Muthuramakrishnan Venkitasubramaniam. 2007. ‚ÄúL-Diversity: Privacy Beyond k -Anonymity.‚Äù ACM Transactions on Knowledge Discovery from Data 1 (1): 3. https://doi.org/10.1145/1217299.1217302.\n\n\nRedor, Patrick. 2023. ‚ÄúConfidentialit√© Des Donn√©es Statistiques : Un Enjeu Majeur Pour Le Service Statistique Public.‚Äù Courrier Des Statistiques, no. 9: 46‚Äì64. https://www.insee.fr/fr/information/7635823?sommaire=7635842.\n\n\nSweeney, Latanya. 2000. ‚ÄúSimple Demographics Often Identify People Uniquely.‚Äù Carnegie Mellon University, Data Privacy Working Paper 3.\n\n\n‚Äî‚Äî‚Äî. 2002. ‚ÄúK-ANONYMITY: A MODEL FOR PROTECTING PRIVACY.‚Äù International Journal of Uncertainty, Fuzziness and Knowledge-Based Systems 10 (05): 557‚Äì70. https://doi.org/10.1142/S0218488502001648."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#objectives",
    "href": "theorie/supports/methodes-perturbatrices.html#objectives",
    "title": "Perturbative methods",
    "section": "Objectives",
    "text": "Objectives\n\n\nWhat are the perturbative methods that allow limiting disclosure risks?\n\nWhich methods apply to tabular data, and which to individual data?\n\nWhat type of risk do the methods protect us from?\n\nWhat are the consequences on information loss?"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#main-methods-available",
    "href": "theorie/supports/methodes-perturbatrices.html#main-methods-available",
    "title": "Perturbative methods",
    "section": "Main methods available",
    "text": "Main methods available\n\n\n\n\n\n\n\n\n\n\nMethods\n\n\n\n\n\n\nTreatments\n\n\nNon-Perturbative\n\n\nPerturbative\n\n\n\n\nBefore tabulation (on micro-data)\n\n\nResampling\n\n\nNoise injection\n\n\n\n\nVariable recoding\n\n\nMicro-aggregation\n\n\n\n\nLocal suppression\n\n\nSwapping (rank or targeted)\n\n\n\n\nAfter tabulation (on aggregated data)\n\n\nVariable recoding\n\n\nRounding\n\n\n\n\nCell suppression\n\n\nRandom keys\n\n\n\n\n\n\nDifferential privacy algorithm\n\n\n\n\n\n\nTable¬†1: : Methods for managing data protection\n\n\n\nThere is also another technique consisting of producing synthetic data."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#perturbative-vs.-suppressive",
    "href": "theorie/supports/methodes-perturbatrices.html#perturbative-vs.-suppressive",
    "title": "Perturbative methods",
    "section": "Perturbative vs.¬†Suppressive",
    "text": "Perturbative vs.¬†Suppressive\nIn which cases should perturbative methods be preferred over suppressive methods?\n\nHandling complex disseminations that are difficult to treat with suppressive methods:\n\nnumerous tables (industrial dissemination),\ndissemination at multiple moments\ngeographic or nomenclature differentiation\n\nControlling the loss of utility more finely:\n\na possible trade-off in general by adjusting the noise parameters\nno suppression =&gt; information available and manipulable\n\nAn institutional framework that authorizes such use"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#perturbative-vs.-suppressive-1",
    "href": "theorie/supports/methodes-perturbatrices.html#perturbative-vs.-suppressive-1",
    "title": "Perturbative methods",
    "section": "Perturbative vs.¬†Suppressive",
    "text": "Perturbative vs.¬†Suppressive\nSome limitations of perturbative methods:\n\nIn some cases, loss of basic data characteristics (additivity in tables)\nA less immediate perception of secrecy handling compared to blanking\nNecessary education for the public regarding data usage\nHistorical secrecy rules to revisit, as they are adapted for suppressive methods"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#post-tabulation-methods-1",
    "href": "theorie/supports/methodes-perturbatrices.html#post-tabulation-methods-1",
    "title": "Perturbative methods",
    "section": "Post-tabulation methods",
    "text": "Post-tabulation methods\n\nMethods that are applied to aggregated data\nSome methods (particularly rounding) are more suitable for counts than for volumes\nPerturbation of all or part of the tables according to the method"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#some-challenges",
    "href": "theorie/supports/methodes-perturbatrices.html#some-challenges",
    "title": "Perturbative methods",
    "section": "Some Challenges?",
    "text": "Some Challenges?\nWhen perturbing data in tables:\n\nShould everything be perturbed or only part of it?\nHow to ensure coherence between tables?\nShould additivity be preserved within tables?\n\nBy answering these questions, one will orient towards one method rather than another."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#rounding-methods-and-related-approaches",
    "href": "theorie/supports/methodes-perturbatrices.html#rounding-methods-and-related-approaches",
    "title": "Perturbative methods",
    "section": "Rounding Methods and Related Approaches",
    "text": "Rounding Methods and Related Approaches\n\nDeterministic rounding\nRandom rounding\nSmall Count Rounding\nControlled Rounding\n\nMethods primarily adapted for count tables.\nFor more information: https://sdctools.github.io/HandbookSDC/05-frequency-tables.html#sec-Rounding_freq (Hundepool et al. 2024)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\nSuppose the following counting table (sensitive information in bold)\n\n\n\n\n\n\nCharacteristic\nNorth\nWest\nSouth\nEast\nTotal\n\n\n\n\nPolluting\n6\n14\n1\n7\n28\n\n\nNon-Polluting\n3\n2\n1\n13\n19\n\n\nTotal\n9\n16\n2\n20\n47\n\n\n\n\n\nTable¬†2: Number of companies according to their location and the polluting nature of their activities"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#deterministic-or-random-rounding",
    "href": "theorie/supports/methodes-perturbatrices.html#deterministic-or-random-rounding",
    "title": "Perturbative methods",
    "section": "Deterministic or Random Rounding",
    "text": "Deterministic or Random Rounding\n\n\n\n\n\n\nRounding\n\n\nRounding a count \\(x\\) means bringing its value to a multiple of the chosen rounding base \\(b\\):\n\nEither to the nearest multiple (deterministic rounding)\n\n=&gt; A deterministic rounding always returns the same value\n\nOr, randomly, to one of the two nearest multiples (random rounding).\n\nThe rounding is unbiased by choosing the appropriate probabilities.\nThis technique offers better protection\n\n\n\n\n\n\n\n\n\n\n\nExample\n\n\n\\(b=10\\) and \\(x=23\\):\n\nDeterministic rounding: \\(x^\\prime = 20\\).\nRandom rounding:\n\n\\(x^\\prime = 20\\) with probability of \\(0.7\\) or\n\\(x^\\prime = 30\\) probability of \\(0.3\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-1",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-1",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\nCharacteristic\nNorth\nWest\nSouth\nEast\nTotal\n\n\n\n\nPolluting\n5\n15\n0\n5\n30\n\n\nNon-Polluting\n5\n0\n0\n15\n20\n\n\nTotal\n10\n15\n0\n20\n45\n\n\n\n\n\nTable¬†3: Application of a deterministic base rounding \\(b=5\\) (Average of absolute deviations: \\(1.4\\).)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#rounding-of-small-counts",
    "href": "theorie/supports/methodes-perturbatrices.html#rounding-of-small-counts",
    "title": "Perturbative methods",
    "section": "Rounding of Small Counts",
    "text": "Rounding of Small Counts\n\n\n\n\n\n\nSmall Count Rounding\n\n\nAlgorithm applied to data tables ensuring:\n\nrounding of small counts (i.e., the most sensitive ones) in a base \\(b\\)\nadditional counts are adjusted to:\n\npreserve additivity in the tables\nand minimize the overall perturbation\n\n\nTechnique implemented in the R package SmallCountRounding"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-2",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-2",
    "title": "Perturbative methods",
    "section": "An Example",
    "text": "An Example\n\n\n\n\n\n\nCharacteristic\nNorth\nWest\nSouth\nEast\nTotal\n\n\n\n\nPolluting\n6\n14\n0\n7\n28\n\n\nNon-Polluting\n5\n0\n0\n13\n18\n\n\nTotal\n11\n14\n0\n20\n45\n\n\n\n\n\nTable¬†4: Application of a Small Count Rounding type algorithm (Mean absolute deviation: \\(1.07\\).)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#controlled-rounding",
    "href": "theorie/supports/methodes-perturbatrices.html#controlled-rounding",
    "title": "Perturbative methods",
    "section": "Controlled Rounding",
    "text": "Controlled Rounding\n\n\n\n\n\n\nControlled Rounding\n\n\nAlgorithm applied to data tables ensuring:\n\nrounding of all counts to a base \\(b\\)\nwhile ensuring:\n\npreservation of additivity in the tables\nminimization of the sum of absolute differences between original and rounded values\n\n\nTechnique implemented in the software Tau-ARGUS"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-3",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-3",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\nCharacteristic\nNorth\nWest\nSouth\nEast\nTotal\n\n\n\n\nPolluting\n5\n15\n0\n5\n25\n\n\nNon-Polluting\n5\n2\n0\n15\n20\n\n\nTotal\n10\n15\n0\n20\n45\n\n\n\n\n\nTable¬†5: Application of controlled rounding with a base \\(b=5\\) (Average of absolute deviations: \\(1.5\\).)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#probability-distribution",
    "href": "theorie/supports/methodes-perturbatrices.html#probability-distribution",
    "title": "Perturbative methods",
    "section": "Probability Distribution",
    "text": "Probability Distribution\nProperties:\n\nA maximum deviation D and a variance V are fixed upstream\nThe injected noise is unbiased\nThe probability law of the injected deviation is defined from a transition matrix"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-4",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-4",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\nCharacteristic\nNorth\nWest\nSouth\nEast\nTotal\n\n\n\n\nPolluting\n4\n15\n0\n8\n28\n\n\nNon-Polluting\n1\n3\n2\n15\n20\n\n\nTotal\n10\n16\n4\n21\n46\n\n\n\n\n\nTable¬†6: Application of the CKM with \\(D = 5\\) and \\(V = 3\\) (Average of absolute deviations: \\(1.1\\))"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#uses",
    "href": "theorie/supports/methodes-perturbatrices.html#uses",
    "title": "Perturbative methods",
    "section": "Uses",
    "text": "Uses\nThe method is used by several NSIs:\n\nSince 2006, ABS has provided an online querying tool to obtain data from its quinquennial census. The data is protected with the CKM. (https://tablebuilder.abs.gov.au)\nThe CKM is one of the methods recommended by Eurostat to protect the 2021 European Census data.\nIn this context, Destatis uses the CKM to disseminate data on 500m grids.\n2024/2025: the Insee disseminates data on the Neighborhoods of the City Policy (QPV)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#step-1-creation-of-a-random-individual-key",
    "href": "theorie/supports/methodes-perturbatrices.html#step-1-creation-of-a-random-individual-key",
    "title": "Perturbative methods",
    "section": "Step 1: Creation of a Random Individual Key",
    "text": "Step 1: Creation of a Random Individual Key\n\n\n\n\n\n\n\nFigure¬†1: Arbitrer"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#step-2-construction-of-the-table",
    "href": "theorie/supports/methodes-perturbatrices.html#step-2-construction-of-the-table",
    "title": "Perturbative methods",
    "section": "Step 2: Construction of the table",
    "text": "Step 2: Construction of the table\n\n\n\n\n\n\n\nFigure¬†2: Construction of the table and the keys for each cell"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#step-3-transition-probabilities",
    "href": "theorie/supports/methodes-perturbatrices.html#step-3-transition-probabilities",
    "title": "Perturbative methods",
    "section": "Step 3: Transition Probabilities",
    "text": "Step 3: Transition Probabilities\n\n\n\n\n\n\n\nFigure¬†3: Transition matrix for D=2 and V=1"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#step-4-determine-the-perturbation-to-inject",
    "href": "theorie/supports/methodes-perturbatrices.html#step-4-determine-the-perturbation-to-inject",
    "title": "Perturbative methods",
    "section": "Step 4: Determine the perturbation to inject",
    "text": "Step 4: Determine the perturbation to inject\n\n\n\n\n\n\n\nFigure¬†4: The perturbation to inject‚Äù fig-align=‚Äúcenter"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#step-5-build-the-final-table",
    "href": "theorie/supports/methodes-perturbatrices.html#step-5-build-the-final-table",
    "title": "Perturbative methods",
    "section": "Step 5: Build the final table",
    "text": "Step 5: Build the final table\n\n\n\n\n\n\n\nFigure¬†5: Table after perturbation"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages",
    "href": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages",
    "title": "Perturbative methods",
    "section": "Advantages / Disadvantages",
    "text": "Advantages / Disadvantages\n\n\n\n\n\n\n\n\n\n\nAdvantages\nDisadvantages\n\n\n\n\nEasy to implement\nLoss of additivity\n\n\nTable consistency\nPerception of secret management less straightforward\n\n\nReduces differentiation risks\nAccumulation of noise for second-order statistics (ratios for example)\n\n\nCompatible with querying\n\n\n\nCompatible with custom dissemination\n\n\n\nBetter utility than rounding at equal protection level\n\n\n\n\n\n\nTable¬†7: Advantages and disadvantages of the random key method"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-5",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-5",
    "title": "Perturbative methods",
    "section": "An Example",
    "text": "An Example\n\n\n\n\n\n\nRegion\nAge\nHours Worked per Week\nMonthly Income\n\n\n\n\n92\n36\n17\n1000\n\n\n75\n41\n35\n2000\n\n\n75\n52\n0\n1100\n\n\n94\n45\n35\n2500\n\n\n75\n41\n0\n1900\n\n\n92\n26\n46\n1500\n\n\n92\n31\n38\n800\n\n\n94\n48\n30\n1200\n\n\n\n\n\nTable¬†8: Individual data with unique observations on Age \\(\\times\\) Region intersections"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-6",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-6",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\n\n\n\n\n\n\nRegion\nAge\nHours worked per week\nMonthly income\n\n\n\n\n92\n36 31\n17\n1000\n\n\n75\n41 45\n35\n2000\n\n\n75\n52 45\n0\n1100\n\n\n94\n45 47\n35\n2500\n\n\n75\n41 45\n0\n1900\n\n\n92\n26 31\n46\n1500\n\n\n92\n31 31\n38\n800\n\n\n94\n48 47\n30\n1200\n\n\n\n\n\nTable¬†9: Individual data with uniques on the Age \\(\\times\\) Region crossings\n\n\n\n\n\\(\\mu_{red} = 45\\), \\(\\mu_{yellow} = 31\\), \\(\\mu_{green} = 47\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#parameters",
    "href": "theorie/supports/methodes-perturbatrices.html#parameters",
    "title": "Perturbative methods",
    "section": "Parameters",
    "text": "Parameters\nA large number of possible outputs for this method depending on:\n\nthe chosen definition of homogeneity\nthe algorithm used to build the groups\nthe determination of the replacement value\n\nThe parameters to define:\n\nSize \\(g\\) of each group (the larger the group size, the greater the loss of information, and the larger it is, the higher the level of protection ..)\nWhich variables are used to calculate the distance?\nWhich statistics to choose once the groups have been formed? (mean, median?)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#minimize-within-group-variance",
    "href": "theorie/supports/methodes-perturbatrices.html#minimize-within-group-variance",
    "title": "Perturbative methods",
    "section": "Minimize within-group variance",
    "text": "Minimize within-group variance\n\n\n\n\n\n\n\nFigure¬†6: Table after perturbation\n\n\n\n\nThe algorithm seeks to minimize the sum of within-group squared errors:\n\\[SSE = \\sum_{i=1}^g\\sum_{j \\in i} (x_{ij}-\\bar x_{i})^T(x_{ij}-\\bar x_{i})\\]"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-1",
    "href": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-1",
    "title": "Perturbative methods",
    "section": "Advantages / Disadvantages",
    "text": "Advantages / Disadvantages\n\n\n\n\n\n\nAdvantages\nDisadvantages\n\n\n\n\nSuitable for \\(k\\)-anonymity\nHigh computation time\n\n\nStatistically relevant classes\n\n\n\n\n\n\nTable¬†10: Advantages and disadvantages of injecting additive noise"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#noise-injection",
    "href": "theorie/supports/methodes-perturbatrices.html#noise-injection",
    "title": "Perturbative methods",
    "section": "Noise Injection",
    "text": "Noise Injection\n\nMethod adapted for handling continuous variables\nIn general, an unbiased additive noise with fixed variance is injected\nMain challenge: how to add noise while preserving the characteristics of the variables and any potential relationships between them?"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#perturbation-by-additive-noise",
    "href": "theorie/supports/methodes-perturbatrices.html#perturbation-by-additive-noise",
    "title": "Perturbative methods",
    "section": "Perturbation by Additive Noise",
    "text": "Perturbation by Additive Noise\n\nNoise is added to each observed value\nGenerally zero-mean Gaussian noise\nSuitable for continuous variables of low amplitude"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#independent-additive-noises",
    "href": "theorie/supports/methodes-perturbatrices.html#independent-additive-noises",
    "title": "Perturbative methods",
    "section": "Independent Additive Noises",
    "text": "Independent Additive Noises\n\nEach variable is noised independently of the other variables\nThe means and covariances of each perturbed variable are preserved\nBut, the variances and the correlation coefficients are not preserved"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#correlated-additive-noise",
    "href": "theorie/supports/methodes-perturbatrices.html#correlated-additive-noise",
    "title": "Perturbative methods",
    "section": "Correlated Additive Noise",
    "text": "Correlated Additive Noise\n\nThe variance-covariance matrix of the noise is proportional to the variance-covariance matrix of the original values\nPreservation of the mean and correlation coefficients\nPreferable to adding independent noise because unbiased estimates can be obtained for several important statistics"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-2",
    "href": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-2",
    "title": "Perturbative methods",
    "section": "Advantages / Disadvantages",
    "text": "Advantages / Disadvantages\n\n\n\n\n\n\n\n\n\n\nAdvantages\nDisadvantages\n\n\n\n\nProcessing of sensitive continuous variables\nNot suitable for handling outliers with large values\n\n\nPreservation of important statistics\n\n\n\n\n\n\nTable¬†11: Advantages and disadvantages of additive noise injection"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#targeted-record-swapping-trs-1",
    "href": "theorie/supports/methodes-perturbatrices.html#targeted-record-swapping-trs-1",
    "title": "Perturbative methods",
    "section": "Targeted Record Swapping (TRS)",
    "text": "Targeted Record Swapping (TRS)\n\n\n\n\n\n\nDefinition\n\n\nTarget Record Swapping (TRS) is a method applied directly to an individual dataset to reduce re-identification risks.\nIt consists of swapping the location of certain individuals deemed at risk with other individuals from another geographic entity.\nHence its name: swapping, that is, the exchange, will concern units from the database (the records) detected in advance, thus becoming the targets on which the exchange will focus."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#at-risk-individuals-targets",
    "href": "theorie/supports/methodes-perturbatrices.html#at-risk-individuals-targets",
    "title": "Perturbative methods",
    "section": "At-risk individuals (targets)",
    "text": "At-risk individuals (targets)\n\nTargets at-risk individuals:\n\nDetection by \\(k\\)-anonymity: crossings of quasi-identifiers of fewer than \\(k\\) individuals\nDetection by \\(l\\)-diversity: homogeneity of a group on a sensitive variable\nProbabilistic measure of individual risk\nPrimarily a risk of re-identification"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#a-very-widely-used-method",
    "href": "theorie/supports/methodes-perturbatrices.html#a-very-widely-used-method",
    "title": "Perturbative methods",
    "section": "A very widely used method",
    "text": "A very widely used method\n\nInsee: European census 2021 data\nEurostat recommends this method (coupled with CKM) for disseminating the European Census\nUS Census Bureau: US Census 2010\nONS (UK): Census since 2010"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-7",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-7",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\n\n\n\n\nFigure¬†7: Before Swapping"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-8",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-8",
    "title": "Perturbative methods",
    "section": "An Example",
    "text": "An Example\n\n\n\n\n\n\n\nFigure¬†8: After Swapping"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-3",
    "href": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-3",
    "title": "Perturbative methods",
    "section": "Advantages / Disadvantages",
    "text": "Advantages / Disadvantages\n\n\n\n\n\n\n\n\n\n\nAdvantages\nDisadvantages\n\n\n\n\nEffective for handling different types of risk\nRequires setting a large number of parameters (risk measure, similarity variables, swapping rate)\n\n\nFlexible method, adaptable to very different cases (household-individual structures for example)\nNoise injected into the data is not really controllable\n\n\nPreserves aggregates at the geographic level within which swapping was performed.\nGenerates local bias in the data\n\n\nMaintains additivity of tables generated from noisy micro-data.\n\n\n\n\n\n\nTable¬†12: Advantages and disadvantages of TRS"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#pram-method",
    "href": "theorie/supports/methodes-perturbatrices.html#pram-method",
    "title": "Perturbative methods",
    "section": "PRAM Method",
    "text": "PRAM Method\n\nAllows processing sensitive categorical variables by adding noise to the data.\nConsists of randomly modifying the assignment of individuals to a given class.\nMethod particularly useful for handling disclosures of sensitive attributes: an attacker cannot have any certainty about the attribute of an observation."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-9",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-9",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\nRegion\nAge\nProfessional situation\n\n\n92\n14\nInactive\n\n\n75\n41\nUnemployed\n\n\n75\n52\nActive\n\n\n94\n45\nActive\n\n\n75\n41\nUnemployed\n\n\n92\n26\nActive\n\n\n92\n31\nActive\n\n\n94\n14\nInactive\n\n\n\n\nInactive: 2 ind., Unemployed = 2 ind., Active = 4 ind."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-10",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-10",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\nRegion\nAge\nEmployment Status\nEmployment Status (PRAM)\n\n\n92\n14\nInactive\nUnemployed\n\n\n75\n41\nUnemployed\nEmployed\n\n\n75\n52\nEmployed\nEmployed\n\n\n94\n45\nEmployed\nEmployed\n\n\n75\n41\nUnemployed\nInactive\n\n\n92\n26\nEmployed\nEmployed\n\n\n92\n31\nEmployed\nUnemployed\n\n\n94\n48\nInactive\nInactive\n\n\n\n\nInactive: 2 ind., Unemployed = 2 ind., Employed = 4 ind."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#an-example-11",
    "href": "theorie/supports/methodes-perturbatrices.html#an-example-11",
    "title": "Perturbative methods",
    "section": "An example",
    "text": "An example\n\n\n\nRegion\nAge\nPro. situation\nPro. situation (PRAM)\n\n\n92\n14\nInactive\nUnemployed\n\n\n75\n41\nUnemployed\nActive\n\n\n75\n52\nActive\nActive\n\n\n94\n45\nActive\nActive\n\n\n75\n41\nUnemployed\nInactive\n\n\n92\n26\nActive\nActive\n\n\n92\n31\nActive\nUnemployed\n\n\n94\n48\nInactive\nInactive\n\n\n\n\nWatch out for inconsistencies!"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#the-transition-matrix",
    "href": "theorie/supports/methodes-perturbatrices.html#the-transition-matrix",
    "title": "Perturbative methods",
    "section": "The transition matrix",
    "text": "The transition matrix\nWe need to define a transition matrix to specify the transition probabilities.\n\nLet \\(\\xi\\) be the initial categorical variable with \\(K\\) categories \\(1 \\dots K\\)\n\\(\\rightarrow\\) in the example, \\(\\xi\\) = Professional situation, K = 3\nLet \\(X\\) be the same categorical variable in the perturbed dataset\n\\(\\rightarrow\\) in the example, \\(X\\) = Professional situation (PRAM) ## The transition matrix We can define the transition matrix \\(P\\),\n\n\\[P =(p_{kl})_{1 \\leq k,l \\leq K}\\]\nwhere \\(p_{kl} = P(X =l|\\xi = k)\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#how-to-choose-the-transition-matrix",
    "href": "theorie/supports/methodes-perturbatrices.html#how-to-choose-the-transition-matrix",
    "title": "Perturbative methods",
    "section": "How to Choose the Transition Matrix?",
    "text": "How to Choose the Transition Matrix?\n\nPRAM randomly changes the population counts:\n\\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nDepending on P and the original counts, the margins can be greatly disturbed!\nHigh diagonal coefficients may be insufficient"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#a-numerical-example",
    "href": "theorie/supports/methodes-perturbatrices.html#a-numerical-example",
    "title": "Perturbative methods",
    "section": "A Numerical Example",
    "text": "A Numerical Example\n\nOriginal Margins\n\n\n\nIna\nctive Ac\ntive U\nnemployed\n\n\n\n\nFrequency (million)\n16.8\n49\n4.2\n\n\nPercentage\n24 %\n70 %\n6 %\n\n\n\nTransition Matrix \\(P\\) :"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#a-numerical-example-1",
    "href": "theorie/supports/methodes-perturbatrices.html#a-numerical-example-1",
    "title": "Perturbative methods",
    "section": "A numerical example",
    "text": "A numerical example\nWe can now calculate the perturbed margins!\n\nOriginal margins\n\n\n\nStatus\nInactive\nActive\nUnemployed\n\n\n\n\nFrequency (million)\n17\n49\n4\n\n\nPercentage\n24%\n70%\n6%\n\n\n\nNew margins\n\n\n\n\n\n\n\n\n\nStatus\nInactive\nActive\nUnemployed\n\n\n\n\nFrequency\n14\n41\n16\n\n\nPercentage\n20%\n58%\n22 %"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#pram-invariant",
    "href": "theorie/supports/methodes-perturbatrices.html#pram-invariant",
    "title": "Perturbative methods",
    "section": "PRAM Invariant",
    "text": "PRAM Invariant\n\nPossibility of choosing the matrix \\(P\\) such that the perturbation is unbiased \\(\\rightarrow\\) PRAM invariant\nGiven that : \\[\\mathbb{E}\\begin{pmatrix} N^{pram}_{I} \\\\N^{pram}_{E}\\\\ N^{pram}_{U} \\end{pmatrix} = P^{T} \\begin{pmatrix}N_{I} \\\\N_{E}\\\\ N_{U} \\end{pmatrix}\\]\nFor this, it is necessary to choose \\(P\\) such that the original marginal frequencies are an eigenvector of \\(P\\) associated with the eigenvalue \\(1\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#measuring-the-level-of-protection",
    "href": "theorie/supports/methodes-perturbatrices.html#measuring-the-level-of-protection",
    "title": "Perturbative methods",
    "section": "Measuring the level of protection",
    "text": "Measuring the level of protection\n\nPRAM deliberately introduces a measurement error \\(\\rightarrow\\) k-anonymity or l-diversity cannot be used\nLevel of protection measured from the method‚Äôs parameters (transition matrix).\nIdea: make the rarity of certain modalities sufficiently uncertain to infer \\(\\rightarrow\\) posterior odds ratio"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#measuring-the-level-of-protection-1",
    "href": "theorie/supports/methodes-perturbatrices.html#measuring-the-level-of-protection-1",
    "title": "Perturbative methods",
    "section": "Measuring the level of protection",
    "text": "Measuring the level of protection\n\\[POST\\_ODDS(k) = \\frac{P(\\xi = k|X=k)}{P(\\xi \\neq k|X=k)} = \\frac{p_{kk}P(\\xi = k)}{\\sum_{l \\neq k}p_{lk}P(\\xi=l)}\\]\n\n\\(p_{kk}\\) are known and depend on the sampling design\n\\(P(\\xi = k)\\) can be difficult to estimate\nwe can roughly estimate \\(P(\\xi = k)\\) by \\(\\frac{T_\\xi(k)}{n}\\)"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#interpretation",
    "href": "theorie/supports/methodes-perturbatrices.html#interpretation",
    "title": "Perturbative methods",
    "section": "Interpretation",
    "text": "Interpretation\nWe observe k in the perturbed game:\n\nIf \\(POST\\_ODDS(k) &gt; 1\\), then the original value is more likely \\(k\\) rather than another value.\nIf \\(POST\\_ODDS(k) &lt; 1\\), then the original value is more likely another value than \\(k\\)."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-4",
    "href": "theorie/supports/methodes-perturbatrices.html#advantages-disadvantages-4",
    "title": "Perturbative methods",
    "section": "Advantages / Disadvantages",
    "text": "Advantages / Disadvantages\n\n\n\n\n\n\n\n\n\n\nAdvantages\nDisadvantages\n\n\n\n\nAllows providing the level of protection associated with injected noise by calculating inverse transition probabilities\nCreation of potentially impossible combinations (e.g., retired child).\n\n\nPreserves the additivity of tables generated from noisy microdata.\nDifficult to define a protection matrix that accounts for relationships with all variables.\n\n\n\n\n\nTable¬†13: Advantages and disadvantages of PRAM"
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#sequential-modeling",
    "href": "theorie/supports/methodes-perturbatrices.html#sequential-modeling",
    "title": "Perturbative methods",
    "section": "Sequential Modeling",
    "text": "Sequential Modeling\n\n\n\n\n\n\nFully Conditional Specification\n\n\nEach variable in the dataset is modeled sequentially and conditionally on the previous variables.\nTo generate the \\(p^e\\) variable, we seek to model its conditional distribution:\n\\[f_{X_p | X_1 , X_2 , \\dots , X_{p-1}}\\]\nCommonly used statistical models: - parametric models (linear or logistic regression) - tree-based methods: CART, Boosting, random forest, XGBoost."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#deep-learning-methods-i",
    "href": "theorie/supports/methodes-perturbatrices.html#deep-learning-methods-i",
    "title": "Perturbative methods",
    "section": "Deep Learning Methods (I)",
    "text": "Deep Learning Methods (I)\n\n\n\n\n\n\nTabular Variational Auto Encoder (TVAE)\n\n\nAutoencoding consists of combining an encoding phase that reduces the dimension of the data to learn the most important features and a decoding phase to reconstruct data in their original dimension."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#deep-learning-methods-ii",
    "href": "theorie/supports/methodes-perturbatrices.html#deep-learning-methods-ii",
    "title": "Perturbative methods",
    "section": "Deep Learning Methods (II)",
    "text": "Deep Learning Methods (II)\n\n\n\n\n\n\nConditional Tabular Generative Adversarial Network (CTGAN)\n\n\nGANs are very popular in image generation. CTGANs are an adaptation of GANs for generating tabular data (microdata or aggregated data). A generator constructs synthetic data and submits it to a discriminator whose objective is to distinguish this generated data from the original data."
  },
  {
    "objectID": "theorie/supports/methodes-perturbatrices.html#references",
    "href": "theorie/supports/methodes-perturbatrices.html#references",
    "title": "Perturbative methods",
    "section": "References",
    "text": "References\n\n\nChipperfield, James, Daniel Gow, and Bronwyn Loong. 2016. ‚ÄúThe Australian Bureau of Statistics and Releasing Frequency Tables via a Remote Server.‚Äù Statistical Journal of the IAOS 32 (1): 53‚Äì64. https://doi.org/10.3233/SJI-160969.\n\n\nGie√üing, Sarah, and Reinhard Tent. 2019. ‚ÄúConcepts for Generalising Tools Implementing the Cell Key Method to the Case of Continuous Variables.‚Äù In UNECE - Expert Meeting on Statistical Data Confidentiality. the Hague. https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2019/mtg1/SDC2019_S2_Germany_Giessing_Tent_AD.pdf.\n\n\nHundepool, Anco, Josep Domingo-Ferre, Luisa Franconi, Sarah Giessing, Rainer Lenz, Jane Longhurst, Eric Schulte Nordholt, et al. 2024. Handbook on Statistical Disclosure Control. 2nd Edition. ESSNet SDC. https://sdctools.github.io/HandbookSDC/.\n\n\nThompson, Gwenda, Stephen Broadfoot, and Daniel Elazar. 2013. ‚ÄúMethodology for the Automatic Confidentialisation of Statistical Outputs from Remote Servers at the Australian Bureau of Statistics.‚Äù In Joint UNECE/Eurostat Work Session on Statistical Data Confidentiality. Ottawa. https://unece.org/fileadmin/DAM/stats/documents/ece/ces/ge.46/2013/Topic_1_ABS.pdf."
  }
]